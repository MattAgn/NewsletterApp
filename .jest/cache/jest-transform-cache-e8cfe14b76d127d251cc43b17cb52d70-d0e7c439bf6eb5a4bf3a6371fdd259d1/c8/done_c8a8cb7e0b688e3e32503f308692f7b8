67eb76eb2328a3d0490cbe70bc1f312a
'use strict';

var Promise = require('./core.js');

module.exports = Promise;

Promise.prototype.done = function (onFulfilled, onRejected) {
  var self = arguments.length ? this.then.apply(this, arguments) : this;
  self.then(null, function (err) {
    setTimeout(function () {
      throw err;
    }, 0);
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbmUuanMiXSwibmFtZXMiOlsiUHJvbWlzZSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdG90eXBlIiwiZG9uZSIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsInNlbGYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ0aGVuIiwiYXBwbHkiLCJlcnIiLCJzZXRUaW1lb3V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXJCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJILE9BQWpCOztBQUNBQSxPQUFPLENBQUNJLFNBQVIsQ0FBa0JDLElBQWxCLEdBQXlCLFVBQVVDLFdBQVYsRUFBdUJDLFVBQXZCLEVBQW1DO0FBQzFELE1BQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDQyxNQUFWLEdBQW1CLEtBQUtDLElBQUwsQ0FBVUMsS0FBVixDQUFnQixJQUFoQixFQUFzQkgsU0FBdEIsQ0FBbkIsR0FBc0QsSUFBakU7QUFDQUQsRUFBQUEsSUFBSSxDQUFDRyxJQUFMLENBQVUsSUFBVixFQUFnQixVQUFVRSxHQUFWLEVBQWU7QUFDN0JDLElBQUFBLFVBQVUsQ0FBQyxZQUFZO0FBQ3JCLFlBQU1ELEdBQU47QUFDRCxLQUZTLEVBRVAsQ0FGTyxDQUFWO0FBR0QsR0FKRDtBQUtELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgdmFyIHNlbGYgPSBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy50aGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB0aGlzO1xuICBzZWxmLnRoZW4obnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0sIDApO1xuICB9KTtcbn07XG4iXX0=