{"version":3,"sources":["TVEventHandler.js"],"names":["Platform","require","TVNavigationEventEmitter","NativeEventEmitter","TVEventHandler","__nativeTVNavigationEventListener","__nativeTVNavigationEventEmitter","prototype","enable","component","callback","OS","addListener","data","disable","remove","module","exports"],"mappings":"AAUA;;AAEA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,0BAAD,CAAxB;;AACA,IAAMC,wBAAwB,GAAGD,OAAO,CAAC,mCAAD,CAAP,CAC9BC,wBADH;;AAEA,IAAMC,kBAAkB,GAAGF,OAAO,CAAC,uCAAD,CAAlC;;AAEA,SAASG,cAAT,GAA0B;AACxB,OAAKC,iCAAL,GAAyC,IAAzC;AACA,OAAKC,gCAAL,GAAwC,IAAxC;AACD;;AAEDF,cAAc,CAACG,SAAf,CAAyBC,MAAzB,GAAkC,UAChCC,SADgC,EAEhCC,QAFgC,EAGhC;AACA,MAAIV,QAAQ,CAACW,EAAT,KAAgB,KAAhB,IAAyB,CAACT,wBAA9B,EAAwD;AACtD;AACD;;AAED,OAAKI,gCAAL,GAAwC,IAAIH,kBAAJ,CACtCD,wBADsC,CAAxC;AAGA,OAAKG,iCAAL,GAAyC,KAAKC,gCAAL,CAAsCM,WAAtC,CACvC,cADuC,EAEvC,UAAAC,IAAI,EAAI;AACN,QAAIH,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACD,SAAD,EAAYI,IAAZ,CAAR;AACD;AACF,GANsC,CAAzC;AAQD,CAnBD;;AAqBAT,cAAc,CAACG,SAAf,CAAyBO,OAAzB,GAAmC,YAAW;AAC5C,MAAI,KAAKT,iCAAT,EAA4C;AAC1C,SAAKA,iCAAL,CAAuCU,MAAvC;;AACA,WAAO,KAAKV,iCAAZ;AACD;;AACD,MAAI,KAAKC,gCAAT,EAA2C;AACzC,WAAO,KAAKA,gCAAZ;AACD;AACF,CARD;;AAUAU,MAAM,CAACC,OAAP,GAAiBb,cAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Platform = require('../../Utilities/Platform');\nconst TVNavigationEventEmitter = require('../../BatchedBridge/NativeModules')\n  .TVNavigationEventEmitter;\nconst NativeEventEmitter = require('../../EventEmitter/NativeEventEmitter');\n\nfunction TVEventHandler() {\n  this.__nativeTVNavigationEventListener = null;\n  this.__nativeTVNavigationEventEmitter = null;\n}\n\nTVEventHandler.prototype.enable = function(\n  component: ?any,\n  callback: Function,\n) {\n  if (Platform.OS === 'ios' && !TVNavigationEventEmitter) {\n    return;\n  }\n\n  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(\n    TVNavigationEventEmitter,\n  );\n  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener(\n    'onHWKeyEvent',\n    data => {\n      if (callback) {\n        callback(component, data);\n      }\n    },\n  );\n};\n\nTVEventHandler.prototype.disable = function() {\n  if (this.__nativeTVNavigationEventListener) {\n    this.__nativeTVNavigationEventListener.remove();\n    delete this.__nativeTVNavigationEventListener;\n  }\n  if (this.__nativeTVNavigationEventEmitter) {\n    delete this.__nativeTVNavigationEventEmitter;\n  }\n};\n\nmodule.exports = TVEventHandler;\n"]}