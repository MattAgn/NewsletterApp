{"file":"/Users/matthieu/projects/learning/NewsletterApp/src/complex-version/modules/signup/sagas.ts","mappings":";;AAAA,gDAA0D;AAG1D,6CAA6C;AAG7C,mCAA4C;AAC5C,gDAAoD;AACpD,oDAAiD;AAEjD,QAAQ,CAAC,CAAC,uBAAuB,CAC/B,MAAuF;IAEvF,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC;QACjC,MAAM,cAAI,CAAC,kBAAS,CAAC,mBAAmB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;QACrD,MAAM,aAAG,CAAC,wBAAc,CAAC,kBAAkB,CAAC,iBAAO,CAAC,sBAAsB,CAAC,CAAC,CAAC;KAC9E;IAAC,OAAO,GAAG,EAAE;QACZ,MAAM,aAAG,CAAC,wBAAc,CAAC,gBAAgB,CAAC,iBAAO,CAAC,UAAU,CAAC,CAAC,CAAC;KAChE;AACH,CAAC;AAED,QAAe,CAAC,CAAC,0BAA0B;IACzC,MAAM,mBAAS,CAAC,yBAAiB,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,CAAC;AACnF,CAAC;AAFD,gEAEC","names":[],"sources":["/Users/matthieu/projects/learning/NewsletterApp/src/complex-version/modules/signup/sagas.ts"],"sourcesContent":["import { call, put, takeEvery } from 'redux-saga/effects';\nimport { ActionsOfType } from '@martin_hotell/rex-tils';\n\nimport { SignUpApi } from '../../api/signup';\n\nimport { TSignUpActionObjectTypes } from './actions';\nimport { SignUpActionTypes } from './types';\nimport { ToasterActions } from '../toaster/actions';\nimport { wording } from '../../../utils/wording';\n\nfunction* subscribeNewsletterSaga(\n  action: ActionsOfType<TSignUpActionObjectTypes, SignUpActionTypes.SUBSCRIBE_NEWSLETTER>\n) {\n  try {\n    const { email } = action.payload;\n    yield call(SignUpApi.subscribeNewsletter, { email });\n    yield put(ToasterActions.showSuccessMessage(wording.subscriptionSuccessful));\n  } catch (err) {\n    yield put(ToasterActions.showErrorMessage(wording.basicError));\n  }\n}\n\nexport function* subscribeNewsletterWatcher() {\n  yield takeEvery(SignUpActionTypes.SUBSCRIBE_NEWSLETTER, subscribeNewsletterSaga);\n}\n"],"version":3}