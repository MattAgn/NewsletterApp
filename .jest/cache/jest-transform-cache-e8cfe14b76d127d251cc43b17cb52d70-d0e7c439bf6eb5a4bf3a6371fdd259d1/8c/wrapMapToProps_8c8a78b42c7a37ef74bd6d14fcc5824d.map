{"version":3,"sources":["wrapMapToProps.js"],"names":["_interopRequireDefault","require","exports","__esModule","wrapMapToPropsConstant","getDependsOnOwnProps","wrapMapToPropsFunc","_verifyPlainObject","getConstant","initConstantSelector","dispatch","options","constant","constantSelector","dependsOnOwnProps","mapToProps","undefined","Boolean","length","methodName","initProxySelector","_ref","displayName","proxy","mapToPropsProxy","stateOrDispatch","ownProps","detectFactoryAndVerify","props","process","env","NODE_ENV"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,sBAAR,GAAiCA,sBAAjC;AACAF,OAAO,CAACG,oBAAR,GAA+BA,oBAA/B;AACAH,OAAO,CAACI,kBAAR,GAA6BA,kBAA7B;;AAEA,IAAIC,kBAAkB,GAAGP,sBAAsB,CAACC,OAAO,CAAC,4BAAD,CAAR,CAA/C;;AAEA,SAASG,sBAAT,CAAgCI,WAAhC,EAA6C;AAC3C,SAAO,SAASC,oBAAT,CAA8BC,QAA9B,EAAwCC,OAAxC,EAAiD;AACtD,QAAIC,QAAQ,GAAGJ,WAAW,CAACE,QAAD,EAAWC,OAAX,CAA1B;;AAEA,aAASE,gBAAT,GAA4B;AAC1B,aAAOD,QAAP;AACD;;AAEDC,IAAAA,gBAAgB,CAACC,iBAAjB,GAAqC,KAArC;AACA,WAAOD,gBAAP;AACD,GATD;AAUD;;AASD,SAASR,oBAAT,CAA8BU,UAA9B,EAA0C;AACxC,SAAOA,UAAU,CAACD,iBAAX,KAAiC,IAAjC,IAAyCC,UAAU,CAACD,iBAAX,KAAiCE,SAA1E,GAAsFC,OAAO,CAACF,UAAU,CAACD,iBAAZ,CAA7F,GAA8HC,UAAU,CAACG,MAAX,KAAsB,CAA3J;AACD;;AAcD,SAASZ,kBAAT,CAA4BS,UAA5B,EAAwCI,UAAxC,EAAoD;AAClD,SAAO,SAASC,iBAAT,CAA2BV,QAA3B,EAAqCW,IAArC,EAA2C;AAChD,QAAIC,WAAW,GAAGD,IAAI,CAACC,WAAvB;;AAEA,QAAIC,KAAK,GAAG,SAASC,eAAT,CAAyBC,eAAzB,EAA0CC,QAA1C,EAAoD;AAC9D,aAAOH,KAAK,CAACT,iBAAN,GAA0BS,KAAK,CAACR,UAAN,CAAiBU,eAAjB,EAAkCC,QAAlC,CAA1B,GAAwEH,KAAK,CAACR,UAAN,CAAiBU,eAAjB,CAA/E;AACD,KAFD;;AAKAF,IAAAA,KAAK,CAACT,iBAAN,GAA0B,IAA1B;;AAEAS,IAAAA,KAAK,CAACR,UAAN,GAAmB,SAASY,sBAAT,CAAgCF,eAAhC,EAAiDC,QAAjD,EAA2D;AAC5EH,MAAAA,KAAK,CAACR,UAAN,GAAmBA,UAAnB;AACAQ,MAAAA,KAAK,CAACT,iBAAN,GAA0BT,oBAAoB,CAACU,UAAD,CAA9C;AACA,UAAIa,KAAK,GAAGL,KAAK,CAACE,eAAD,EAAkBC,QAAlB,CAAjB;;AAEA,UAAI,OAAOE,KAAP,KAAiB,UAArB,EAAiC;AAC/BL,QAAAA,KAAK,CAACR,UAAN,GAAmBa,KAAnB;AACAL,QAAAA,KAAK,CAACT,iBAAN,GAA0BT,oBAAoB,CAACuB,KAAD,CAA9C;AACAA,QAAAA,KAAK,GAAGL,KAAK,CAACE,eAAD,EAAkBC,QAAlB,CAAb;AACD;;AAED,UAAIG,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C,CAAC,GAAGxB,kBAAkB,CAAC,SAAD,CAAtB,EAAmCqB,KAAnC,EAA0CN,WAA1C,EAAuDH,UAAvD;AAC3C,aAAOS,KAAP;AACD,KAbD;;AAeA,WAAOL,KAAP;AACD,GA1BD;AA2BD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.wrapMapToPropsConstant = wrapMapToPropsConstant;\nexports.getDependsOnOwnProps = getDependsOnOwnProps;\nexports.wrapMapToPropsFunc = wrapMapToPropsFunc;\n\nvar _verifyPlainObject = _interopRequireDefault(require(\"../utils/verifyPlainObject\"));\n\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch, options) {\n    var constant = getConstant(dispatch, options);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n//\n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n\n\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== undefined ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n//\n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//\n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//\n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//\n\n\nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    var displayName = _ref.displayName;\n\n    var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      var props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') (0, _verifyPlainObject[\"default\"])(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}"]}