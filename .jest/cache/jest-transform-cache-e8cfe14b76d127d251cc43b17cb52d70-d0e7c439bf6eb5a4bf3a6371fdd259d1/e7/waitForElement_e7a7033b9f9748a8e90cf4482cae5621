e8099c707e1b3b2c312ff1b9c4599010
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = waitForExpect;

function waitForExpect(expectation) {
  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4500;
  var interval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50;
  var startTime = Date.now();
  return new Promise(function (resolve, reject) {
    var rejectOrRerun = function rejectOrRerun(error) {
      if (Date.now() - startTime >= timeout) {
        reject(error);
        return;
      }

      setTimeout(runExpectation, interval);
    };

    function runExpectation() {
      try {
        var result = expectation();
        resolve(result);
      } catch (error) {
        rejectOrRerun(error);
      }
    }

    setTimeout(runExpectation, 0);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhaXRGb3JFbGVtZW50LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIndhaXRGb3JFeHBlY3QiLCJleHBlY3RhdGlvbiIsInRpbWVvdXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJpbnRlcnZhbCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlamVjdE9yUmVydW4iLCJlcnJvciIsInNldFRpbWVvdXQiLCJydW5FeHBlY3RhdGlvbiIsInJlc3VsdCJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBOEIsWUFBOUIsRUFBMkM7QUFBQ0MsRUFBQUEsS0FBSyxFQUFDO0FBQVAsQ0FBM0M7QUFBeURELE9BQU8sQ0FBQ0UsT0FBUixHQUFnQkMsYUFBaEI7O0FBQThCLFNBQVNBLGFBQVQsQ0FBdUJDLFdBQXZCLEVBQW1DO0FBQUMsTUFBSUMsT0FBTyxHQUFDQyxTQUFTLENBQUNDLE1BQVYsR0FBaUIsQ0FBakIsSUFBb0JELFNBQVMsQ0FBQyxDQUFELENBQVQsS0FBZUUsU0FBbkMsR0FBNkNGLFNBQVMsQ0FBQyxDQUFELENBQXRELEdBQTBELElBQXRFO0FBQTJFLE1BQUlHLFFBQVEsR0FBQ0gsU0FBUyxDQUFDQyxNQUFWLEdBQWlCLENBQWpCLElBQW9CRCxTQUFTLENBQUMsQ0FBRCxDQUFULEtBQWVFLFNBQW5DLEdBQTZDRixTQUFTLENBQUMsQ0FBRCxDQUF0RCxHQUEwRCxFQUF2RTtBQUEwRSxNQUFJSSxTQUFTLEdBQUNDLElBQUksQ0FBQ0MsR0FBTCxFQUFkO0FBQXlCLFNBQU8sSUFBSUMsT0FBSixDQUFZLFVBQVNDLE9BQVQsRUFBaUJDLE1BQWpCLEVBQXdCO0FBQUMsUUFBSUMsYUFBYSxHQUFDLFNBQVNBLGFBQVQsQ0FBdUJDLEtBQXZCLEVBQTZCO0FBQUMsVUFBR04sSUFBSSxDQUFDQyxHQUFMLEtBQVdGLFNBQVgsSUFBc0JMLE9BQXpCLEVBQWlDO0FBQUNVLFFBQUFBLE1BQU0sQ0FBQ0UsS0FBRCxDQUFOO0FBQWM7QUFBUTs7QUFBQUMsTUFBQUEsVUFBVSxDQUFDQyxjQUFELEVBQWdCVixRQUFoQixDQUFWO0FBQXFDLEtBQTdJOztBQUE4SSxhQUFTVSxjQUFULEdBQXlCO0FBQUMsVUFBRztBQUFDLFlBQUlDLE1BQU0sR0FBQ2hCLFdBQVcsRUFBdEI7QUFBeUJVLFFBQUFBLE9BQU8sQ0FBQ00sTUFBRCxDQUFQO0FBQWlCLE9BQTlDLENBQThDLE9BQU1ILEtBQU4sRUFBWTtBQUFDRCxRQUFBQSxhQUFhLENBQUNDLEtBQUQsQ0FBYjtBQUFzQjtBQUFDOztBQUFBQyxJQUFBQSxVQUFVLENBQUNDLGNBQUQsRUFBZ0IsQ0FBaEIsQ0FBVjtBQUE4QixHQUE3VCxDQUFQO0FBQXVVIiwic291cmNlc0NvbnRlbnQiOlsiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRlZmF1bHQ9d2FpdEZvckV4cGVjdDtmdW5jdGlvbiB3YWl0Rm9yRXhwZWN0KGV4cGVjdGF0aW9uKXt2YXIgdGltZW91dD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06NDUwMDt2YXIgaW50ZXJ2YWw9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjUwO3ZhciBzdGFydFRpbWU9RGF0ZS5ub3coKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciByZWplY3RPclJlcnVuPWZ1bmN0aW9uIHJlamVjdE9yUmVydW4oZXJyb3Ipe2lmKERhdGUubm93KCktc3RhcnRUaW1lPj10aW1lb3V0KXtyZWplY3QoZXJyb3IpO3JldHVybjt9c2V0VGltZW91dChydW5FeHBlY3RhdGlvbixpbnRlcnZhbCk7fTtmdW5jdGlvbiBydW5FeHBlY3RhdGlvbigpe3RyeXt2YXIgcmVzdWx0PWV4cGVjdGF0aW9uKCk7cmVzb2x2ZShyZXN1bHQpO31jYXRjaChlcnJvcil7cmVqZWN0T3JSZXJ1bihlcnJvcik7fX1zZXRUaW1lb3V0KHJ1bkV4cGVjdGF0aW9uLDApO30pO30iXX0=