d7290643aa9ea0fcc1e29cf78831ca15
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getByAPI = exports.getAllByTestId = exports.getAllByProps = exports.getAllByDisplayValue = exports.getAllByPlaceholder = exports.getAllByText = exports.getAllByType = exports.getAllByName = exports.getByTestId = exports.getByProps = exports.getByDisplayValue = exports.getByPlaceholder = exports.getByText = exports.getByType = exports.getByName = void 0;

var React = _interopRequireWildcard(require("react"));

var _prettyFormat = _interopRequireDefault(require("pretty-format"));

var _errors = require("./errors");

var filterNodeByType = function filterNodeByType(node, type) {
  return node.type === type;
};

var filterNodeByName = function filterNodeByName(node, name) {
  return typeof node.type !== 'string' && (node.type.displayName === name || node.type.name === name);
};

var getNodeByText = function getNodeByText(node, text) {
  try {
    var _require = require('react-native'),
        Text = _require.Text,
        TextInput = _require.TextInput;

    var isTextComponent = filterNodeByType(node, Text);

    if (isTextComponent) {
      var textChildren = React.Children.map(node.props.children, function (child) {
        return child ? child.toString() : '';
      });

      if (textChildren) {
        var textToTest = textChildren.join('');
        return typeof text === 'string' ? text === textToTest : text.test(textToTest);
      }
    }

    return false;
  } catch (error) {
    throw (0, _errors.createLibraryNotSupportedError)(error);
  }
};

var getTextInputNodeByPlaceholder = function getTextInputNodeByPlaceholder(node, placeholder) {
  try {
    var _require2 = require('react-native'),
        TextInput = _require2.TextInput;

    return filterNodeByType(node, TextInput) && (typeof placeholder === 'string' ? placeholder === node.props.placeholder : placeholder.test(node.props.placeholder));
  } catch (error) {
    throw (0, _errors.createLibraryNotSupportedError)(error);
  }
};

var getTextInputNodeByDisplayValue = function getTextInputNodeByDisplayValue(node, value) {
  try {
    var _require3 = require('react-native'),
        TextInput = _require3.TextInput;

    return filterNodeByType(node, TextInput) && (typeof value === 'string' ? value === node.props.value : value.test(node.props.value));
  } catch (error) {
    throw (0, _errors.createLibraryNotSupportedError)(error);
  }
};

var getByName = function getByName(instance) {
  return function getByNameFn(name) {
    (0, _errors.logDeprecationWarning)('getByName', 'getByType');

    try {
      return typeof name === 'string' ? instance.find(function (node) {
        return filterNodeByName(node, name);
      }) : instance.findByType(name);
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByNameFn);
    }
  };
};

exports.getByName = getByName;

var getByType = function getByType(instance) {
  return function getByTypeFn(type) {
    try {
      return instance.findByType(type);
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByTypeFn);
    }
  };
};

exports.getByType = getByType;

var getByText = function getByText(instance) {
  return function getByTextFn(text) {
    try {
      return instance.find(function (node) {
        return getNodeByText(node, text);
      });
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByTextFn);
    }
  };
};

exports.getByText = getByText;

var getByPlaceholder = function getByPlaceholder(instance) {
  return function getByPlaceholderFn(placeholder) {
    try {
      return instance.find(function (node) {
        return getTextInputNodeByPlaceholder(node, placeholder);
      });
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByPlaceholderFn);
    }
  };
};

exports.getByPlaceholder = getByPlaceholder;

var getByDisplayValue = function getByDisplayValue(instance) {
  return function getByDisplayValueFn(placeholder) {
    try {
      return instance.find(function (node) {
        return getTextInputNodeByDisplayValue(node, placeholder);
      });
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByDisplayValueFn);
    }
  };
};

exports.getByDisplayValue = getByDisplayValue;

var getByProps = function getByProps(instance) {
  return function getByPropsFn(props) {
    try {
      return instance.findByProps(props);
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByPropsFn);
    }
  };
};

exports.getByProps = getByProps;

var getByTestId = function getByTestId(instance) {
  return function getByTestIdFn(testID) {
    try {
      return instance.findByProps({
        testID: testID
      });
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByTestIdFn);
    }
  };
};

exports.getByTestId = getByTestId;

var getAllByName = function getAllByName(instance) {
  return function getAllByNameFn(name) {
    (0, _errors.logDeprecationWarning)('getAllByName', 'getAllByType');
    var results = typeof name === 'string' ? instance.findAll(function (node) {
      return filterNodeByName(node, name);
    }) : instance.findAllByType(name);

    if (results.length === 0) {
      throw new _errors.ErrorWithStack('No instances found', getAllByNameFn);
    }

    return results;
  };
};

exports.getAllByName = getAllByName;

var getAllByType = function getAllByType(instance) {
  return function getAllByTypeFn(type) {
    var results = instance.findAllByType(type);

    if (results.length === 0) {
      throw new _errors.ErrorWithStack('No instances found', getAllByTypeFn);
    }

    return results;
  };
};

exports.getAllByType = getAllByType;

var getAllByText = function getAllByText(instance) {
  return function getAllByTextFn(text) {
    var results = instance.findAll(function (node) {
      return getNodeByText(node, text);
    });

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with text: " + String(text), getAllByTextFn);
    }

    return results;
  };
};

exports.getAllByText = getAllByText;

var getAllByPlaceholder = function getAllByPlaceholder(instance) {
  return function getAllByPlaceholderFn(placeholder) {
    var results = instance.findAll(function (node) {
      return getTextInputNodeByPlaceholder(node, placeholder);
    });

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with placeholder: " + String(placeholder), getAllByPlaceholderFn);
    }

    return results;
  };
};

exports.getAllByPlaceholder = getAllByPlaceholder;

var getAllByDisplayValue = function getAllByDisplayValue(instance) {
  return function getAllByDisplayValueFn(value) {
    var results = instance.findAll(function (node) {
      return getTextInputNodeByDisplayValue(node, value);
    });

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with display value: " + String(value), getAllByDisplayValueFn);
    }

    return results;
  };
};

exports.getAllByDisplayValue = getAllByDisplayValue;

var getAllByProps = function getAllByProps(instance) {
  return function getAllByPropsFn(props) {
    var results = instance.findAllByProps(props);

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with props:\n" + (0, _prettyFormat.default)(props), getAllByPropsFn);
    }

    return results;
  };
};

exports.getAllByProps = getAllByProps;

var getAllByTestId = function getAllByTestId(instance) {
  return function getAllByTestIdFn(testID) {
    var results = instance.findAllByProps({
      testID: testID
    }).filter(function (element) {
      return typeof element.type === 'string';
    });

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with testID: " + String(testID), getAllByTestIdFn);
    }

    return results;
  };
};

exports.getAllByTestId = getAllByTestId;

var getByAPI = function getByAPI(instance) {
  return {
    getByTestId: getByTestId(instance),
    getByName: getByName(instance),
    getByType: getByType(instance),
    getByText: getByText(instance),
    getByPlaceholder: getByPlaceholder(instance),
    getByDisplayValue: getByDisplayValue(instance),
    getByProps: getByProps(instance),
    getAllByTestId: getAllByTestId(instance),
    getAllByName: getAllByName(instance),
    getAllByType: getAllByType(instance),
    getAllByText: getAllByText(instance),
    getAllByPlaceholder: getAllByPlaceholder(instance),
    getAllByDisplayValue: getAllByDisplayValue(instance),
    getAllByProps: getAllByProps(instance)
  };
};

exports.getByAPI = getByAPI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEJ5QVBJLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImdldEJ5QVBJIiwiZ2V0QWxsQnlUZXN0SWQiLCJnZXRBbGxCeVByb3BzIiwiZ2V0QWxsQnlEaXNwbGF5VmFsdWUiLCJnZXRBbGxCeVBsYWNlaG9sZGVyIiwiZ2V0QWxsQnlUZXh0IiwiZ2V0QWxsQnlUeXBlIiwiZ2V0QWxsQnlOYW1lIiwiZ2V0QnlUZXN0SWQiLCJnZXRCeVByb3BzIiwiZ2V0QnlEaXNwbGF5VmFsdWUiLCJnZXRCeVBsYWNlaG9sZGVyIiwiZ2V0QnlUZXh0IiwiZ2V0QnlUeXBlIiwiZ2V0QnlOYW1lIiwiUmVhY3QiLCJfcHJldHR5Rm9ybWF0IiwiX2Vycm9ycyIsImZpbHRlck5vZGVCeVR5cGUiLCJub2RlIiwidHlwZSIsImZpbHRlck5vZGVCeU5hbWUiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJnZXROb2RlQnlUZXh0IiwidGV4dCIsIl9yZXF1aXJlIiwiVGV4dCIsIlRleHRJbnB1dCIsImlzVGV4dENvbXBvbmVudCIsInRleHRDaGlsZHJlbiIsIkNoaWxkcmVuIiwibWFwIiwicHJvcHMiLCJjaGlsZHJlbiIsImNoaWxkIiwidG9TdHJpbmciLCJ0ZXh0VG9UZXN0Iiwiam9pbiIsInRlc3QiLCJlcnJvciIsImNyZWF0ZUxpYnJhcnlOb3RTdXBwb3J0ZWRFcnJvciIsImdldFRleHRJbnB1dE5vZGVCeVBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiLCJfcmVxdWlyZTIiLCJnZXRUZXh0SW5wdXROb2RlQnlEaXNwbGF5VmFsdWUiLCJfcmVxdWlyZTMiLCJpbnN0YW5jZSIsImdldEJ5TmFtZUZuIiwibG9nRGVwcmVjYXRpb25XYXJuaW5nIiwiZmluZCIsImZpbmRCeVR5cGUiLCJFcnJvcldpdGhTdGFjayIsInByZXBhcmVFcnJvck1lc3NhZ2UiLCJnZXRCeVR5cGVGbiIsImdldEJ5VGV4dEZuIiwiZ2V0QnlQbGFjZWhvbGRlckZuIiwiZ2V0QnlEaXNwbGF5VmFsdWVGbiIsImdldEJ5UHJvcHNGbiIsImZpbmRCeVByb3BzIiwiZ2V0QnlUZXN0SWRGbiIsInRlc3RJRCIsImdldEFsbEJ5TmFtZUZuIiwicmVzdWx0cyIsImZpbmRBbGwiLCJmaW5kQWxsQnlUeXBlIiwibGVuZ3RoIiwiZ2V0QWxsQnlUeXBlRm4iLCJnZXRBbGxCeVRleHRGbiIsIlN0cmluZyIsImdldEFsbEJ5UGxhY2Vob2xkZXJGbiIsImdldEFsbEJ5RGlzcGxheVZhbHVlRm4iLCJnZXRBbGxCeVByb3BzRm4iLCJmaW5kQWxsQnlQcm9wcyIsImRlZmF1bHQiLCJnZXRBbGxCeVRlc3RJZEZuIiwiZmlsdGVyIiwiZWxlbWVudCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsc0JBQXNCLEdBQUNDLE9BQU8sQ0FBQyw4Q0FBRCxDQUFsQzs7QUFBbUYsSUFBSUMsdUJBQXVCLEdBQUNELE9BQU8sQ0FBQywrQ0FBRCxDQUFuQzs7QUFBcUZFLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBOEIsWUFBOUIsRUFBMkM7QUFBQ0MsRUFBQUEsS0FBSyxFQUFDO0FBQVAsQ0FBM0M7QUFBeURELE9BQU8sQ0FBQ0UsUUFBUixHQUFpQkYsT0FBTyxDQUFDRyxjQUFSLEdBQXVCSCxPQUFPLENBQUNJLGFBQVIsR0FBc0JKLE9BQU8sQ0FBQ0ssb0JBQVIsR0FBNkJMLE9BQU8sQ0FBQ00sbUJBQVIsR0FBNEJOLE9BQU8sQ0FBQ08sWUFBUixHQUFxQlAsT0FBTyxDQUFDUSxZQUFSLEdBQXFCUixPQUFPLENBQUNTLFlBQVIsR0FBcUJULE9BQU8sQ0FBQ1UsV0FBUixHQUFvQlYsT0FBTyxDQUFDVyxVQUFSLEdBQW1CWCxPQUFPLENBQUNZLGlCQUFSLEdBQTBCWixPQUFPLENBQUNhLGdCQUFSLEdBQXlCYixPQUFPLENBQUNjLFNBQVIsR0FBa0JkLE9BQU8sQ0FBQ2UsU0FBUixH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UUFBRCxDQUFoWTtBQUEyWTNDLElBQUFBLG1CQUFtQixFQUFDQSxtQkFBbUIsQ0FBQzJDLFFBQUQsQ0FBbGI7QUFBNmI1QyxJQUFBQSxvQkFBb0IsRUFBQ0Esb0JBQW9CLENBQUM0QyxRQUFELENBQXRlO0FBQWlmN0MsSUFBQUEsYUFBYSxFQUFDQSxhQUFhLENBQUM2QyxRQUFEO0FBQTVnQixHQUFOO0FBQStoQixDQUF4a0I7O0FBQXlrQmpELE9BQU8sQ0FBQ0UsUUFBUixHQUFpQkEsUUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdD1yZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7dmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkPXJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmdldEJ5QVBJPWV4cG9ydHMuZ2V0QWxsQnlUZXN0SWQ9ZXhwb3J0cy5nZXRBbGxCeVByb3BzPWV4cG9ydHMuZ2V0QWxsQnlEaXNwbGF5VmFsdWU9ZXhwb3J0cy5nZXRBbGxCeVBsYWNlaG9sZGVyPWV4cG9ydHMuZ2V0QWxsQnlUZXh0PWV4cG9ydHMuZ2V0QWxsQnlUeXBlPWV4cG9ydHMuZ2V0QWxsQnlOYW1lPWV4cG9ydHMuZ2V0QnlUZXN0SWQ9ZXhwb3J0cy5nZXRCeVByb3BzPWV4cG9ydHMuZ2V0QnlEaXNwbGF5VmFsdWU9ZXhwb3J0cy5nZXRCeVBsYWNlaG9sZGVyPWV4cG9ydHMuZ2V0QnlUZXh0PWV4cG9ydHMuZ2V0QnlUeXBlPWV4cG9ydHMuZ2V0QnlOYW1lPXZvaWQgMDt2YXIgUmVhY3Q9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTt2YXIgX3ByZXR0eUZvcm1hdD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcmV0dHktZm9ybWF0XCIpKTt2YXIgX2Vycm9ycz1yZXF1aXJlKFwiLi9lcnJvcnNcIik7dmFyIGZpbHRlck5vZGVCeVR5cGU9ZnVuY3Rpb24gZmlsdGVyTm9kZUJ5VHlwZShub2RlLHR5cGUpe3JldHVybiBub2RlLnR5cGU9PT10eXBlO307dmFyIGZpbHRlck5vZGVCeU5hbWU9ZnVuY3Rpb24gZmlsdGVyTm9kZUJ5TmFtZShub2RlLG5hbWUpe3JldHVybiB0eXBlb2Ygbm9kZS50eXBlIT09J3N0cmluZycmJihub2RlLnR5cGUuZGlzcGxheU5hbWU9PT1uYW1lfHxub2RlLnR5cGUubmFtZT09PW5hbWUpO307dmFyIGdldE5vZGVCeVRleHQ9ZnVuY3Rpb24gZ2V0Tm9kZUJ5VGV4dChub2RlLHRleHQpe3RyeXt2YXIgX3JlcXVpcmU9cmVxdWlyZSgncmVhY3QtbmF0aXZlJyksVGV4dD1fcmVxdWlyZS5UZXh0LFRleHRJbnB1dD1fcmVxdWlyZS5UZXh0SW5wdXQ7dmFyIGlzVGV4dENvbXBvbmVudD1maWx0ZXJOb2RlQnlUeXBlKG5vZGUsVGV4dCk7aWYoaXNUZXh0Q29tcG9uZW50KXt2YXIgdGV4dENoaWxkcmVuPVJlYWN0LkNoaWxkcmVuLm1hcChub2RlLnByb3BzLmNoaWxkcmVuLGZ1bmN0aW9uKGNoaWxkKXtyZXR1cm4gY2hpbGQ/Y2hpbGQudG9TdHJpbmcoKTonJzt9KTtpZih0ZXh0Q2hpbGRyZW4pe3ZhciB0ZXh0VG9UZXN0PXRleHRDaGlsZHJlbi5qb2luKCcnKTtyZXR1cm4gdHlwZW9mIHRleHQ9PT0nc3RyaW5nJz90ZXh0PT09dGV4dFRvVGVzdDp0ZXh0LnRlc3QodGV4dFRvVGVzdCk7fX1yZXR1cm4gZmFsc2U7fWNhdGNoKGVycm9yKXt0aHJvdygwLF9lcnJvcnMuY3JlYXRlTGlicmFyeU5vdFN1cHBvcnRlZEVycm9yKShlcnJvcik7fX07dmFyIGdldFRleHRJbnB1dE5vZGVCeVBsYWNlaG9sZGVyPWZ1bmN0aW9uIGdldFRleHRJbnB1dE5vZGVCeVBsYWNlaG9sZGVyKG5vZGUscGxhY2Vob2xkZXIpe3RyeXt2YXIgX3JlcXVpcmUyPXJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpLFRleHRJbnB1dD1fcmVxdWlyZTIuVGV4dElucHV0O3JldHVybiBmaWx0ZXJOb2RlQnlUeXBlKG5vZGUsVGV4dElucHV0KSYmKHR5cGVvZiBwbGFjZWhvbGRlcj09PSdzdHJpbmcnP3BsYWNlaG9sZGVyPT09bm9kZS5wcm9wcy5wbGFjZWhvbGRlcjpwbGFjZWhvbGRlci50ZXN0KG5vZGUucHJvcHMucGxhY2Vob2xkZXIpKTt9Y2F0Y2goZXJyb3Ipe3Rocm93KDAsX2Vycm9ycy5jcmVhdGVMaWJyYXJ5Tm90U3VwcG9ydGVkRXJyb3IpKGVycm9yKTt9fTt2YXIgZ2V0VGV4dElucHV0Tm9kZUJ5RGlzcGxheVZhbHVlPWZ1bmN0aW9uIGdldFRleHRJbnB1dE5vZGVCeURpc3BsYXlWYWx1ZShub2RlLHZhbHVlKXt0cnl7dmFyIF9yZXF1aXJlMz1yZXF1aXJlKCdyZWFjdC1uYXRpdmUnKSxUZXh0SW5wdXQ9X3JlcXVpcmUzLlRleHRJbnB1dDtyZXR1cm4gZmlsdGVyTm9kZUJ5VHlwZShub2RlLFRleHRJbnB1dCkmJih0eXBlb2YgdmFsdWU9PT0nc3RyaW5nJz92YWx1ZT09PW5vZGUucHJvcHMudmFsdWU6dmFsdWUudGVzdChub2RlLnByb3BzLnZhbHVlKSk7fWNhdGNoKGVycm9yKXt0aHJvdygwLF9lcnJvcnMuY3JlYXRlTGlicmFyeU5vdFN1cHBvcnRlZEVycm9yKShlcnJvcik7fX07dmFyIGdldEJ5TmFtZT1mdW5jdGlvbiBnZXRCeU5hbWUoaW5zdGFuY2Upe3JldHVybiBmdW5jdGlvbiBnZXRCeU5hbWVGbihuYW1lKXsoMCxfZXJyb3JzLmxvZ0RlcHJlY2F0aW9uV2FybmluZykoJ2dldEJ5TmFtZScsJ2dldEJ5VHlwZScpO3RyeXtyZXR1cm4gdHlwZW9mIG5hbWU9PT0nc3RyaW5nJz9pbnN0YW5jZS5maW5kKGZ1bmN0aW9uKG5vZGUpe3JldHVybiBmaWx0ZXJOb2RlQnlOYW1lKG5vZGUsbmFtZSk7fSk6aW5zdGFuY2UuZmluZEJ5VHlwZShuYW1lKTt9Y2F0Y2goZXJyb3Ipe3Rocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKCgwLF9lcnJvcnMucHJlcGFyZUVycm9yTWVzc2FnZSkoZXJyb3IpLGdldEJ5TmFtZUZuKTt9fTt9O2V4cG9ydHMuZ2V0QnlOYW1lPWdldEJ5TmFtZTt2YXIgZ2V0QnlUeXBlPWZ1bmN0aW9uIGdldEJ5VHlwZShpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEJ5VHlwZUZuKHR5cGUpe3RyeXtyZXR1cm4gaW5zdGFuY2UuZmluZEJ5VHlwZSh0eXBlKTt9Y2F0Y2goZXJyb3Ipe3Rocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKCgwLF9lcnJvcnMucHJlcGFyZUVycm9yTWVzc2FnZSkoZXJyb3IpLGdldEJ5VHlwZUZuKTt9fTt9O2V4cG9ydHMuZ2V0QnlUeXBlPWdldEJ5VHlwZTt2YXIgZ2V0QnlUZXh0PWZ1bmN0aW9uIGdldEJ5VGV4dChpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEJ5VGV4dEZuKHRleHQpe3RyeXtyZXR1cm4gaW5zdGFuY2UuZmluZChmdW5jdGlvbihub2RlKXtyZXR1cm4gZ2V0Tm9kZUJ5VGV4dChub2RlLHRleHQpO30pO31jYXRjaChlcnJvcil7dGhyb3cgbmV3IF9lcnJvcnMuRXJyb3JXaXRoU3RhY2soKDAsX2Vycm9ycy5wcmVwYXJlRXJyb3JNZXNzYWdlKShlcnJvciksZ2V0QnlUZXh0Rm4pO319O307ZXhwb3J0cy5nZXRCeVRleHQ9Z2V0QnlUZXh0O3ZhciBnZXRCeVBsYWNlaG9sZGVyPWZ1bmN0aW9uIGdldEJ5UGxhY2Vob2xkZXIoaW5zdGFuY2Upe3JldHVybiBmdW5jdGlvbiBnZXRCeVBsYWNlaG9sZGVyRm4ocGxhY2Vob2xkZXIpe3RyeXtyZXR1cm4gaW5zdGFuY2UuZmluZChmdW5jdGlvbihub2RlKXtyZXR1cm4gZ2V0VGV4dElucHV0Tm9kZUJ5UGxhY2Vob2xkZXIobm9kZSxwbGFjZWhvbGRlcik7fSk7fWNhdGNoKGVycm9yKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygoMCxfZXJyb3JzLnByZXBhcmVFcnJvck1lc3NhZ2UpKGVycm9yKSxnZXRCeVBsYWNlaG9sZGVyRm4pO319O307ZXhwb3J0cy5nZXRCeVBsYWNlaG9sZGVyPWdldEJ5UGxhY2Vob2xkZXI7dmFyIGdldEJ5RGlzcGxheVZhbHVlPWZ1bmN0aW9uIGdldEJ5RGlzcGxheVZhbHVlKGluc3RhbmNlKXtyZXR1cm4gZnVuY3Rpb24gZ2V0QnlEaXNwbGF5VmFsdWVGbihwbGFjZWhvbGRlcil7dHJ5e3JldHVybiBpbnN0YW5jZS5maW5kKGZ1bmN0aW9uKG5vZGUpe3JldHVybiBnZXRUZXh0SW5wdXROb2RlQnlEaXNwbGF5VmFsdWUobm9kZSxwbGFjZWhvbGRlcik7fSk7fWNhdGNoKGVycm9yKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygoMCxfZXJyb3JzLnByZXBhcmVFcnJvck1lc3NhZ2UpKGVycm9yKSxnZXRCeURpc3BsYXlWYWx1ZUZuKTt9fTt9O2V4cG9ydHMuZ2V0QnlEaXNwbGF5VmFsdWU9Z2V0QnlEaXNwbGF5VmFsdWU7dmFyIGdldEJ5UHJvcHM9ZnVuY3Rpb24gZ2V0QnlQcm9wcyhpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEJ5UHJvcHNGbihwcm9wcyl7dHJ5e3JldHVybiBpbnN0YW5jZS5maW5kQnlQcm9wcyhwcm9wcyk7fWNhdGNoKGVycm9yKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygoMCxfZXJyb3JzLnByZXBhcmVFcnJvck1lc3NhZ2UpKGVycm9yKSxnZXRCeVByb3BzRm4pO319O307ZXhwb3J0cy5nZXRCeVByb3BzPWdldEJ5UHJvcHM7dmFyIGdldEJ5VGVzdElkPWZ1bmN0aW9uIGdldEJ5VGVzdElkKGluc3RhbmNlKXtyZXR1cm4gZnVuY3Rpb24gZ2V0QnlUZXN0SWRGbih0ZXN0SUQpe3RyeXtyZXR1cm4gaW5zdGFuY2UuZmluZEJ5UHJvcHMoe3Rlc3RJRDp0ZXN0SUR9KTt9Y2F0Y2goZXJyb3Ipe3Rocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKCgwLF9lcnJvcnMucHJlcGFyZUVycm9yTWVzc2FnZSkoZXJyb3IpLGdldEJ5VGVzdElkRm4pO319O307ZXhwb3J0cy5nZXRCeVRlc3RJZD1nZXRCeVRlc3RJZDt2YXIgZ2V0QWxsQnlOYW1lPWZ1bmN0aW9uIGdldEFsbEJ5TmFtZShpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEFsbEJ5TmFtZUZuKG5hbWUpeygwLF9lcnJvcnMubG9nRGVwcmVjYXRpb25XYXJuaW5nKSgnZ2V0QWxsQnlOYW1lJywnZ2V0QWxsQnlUeXBlJyk7dmFyIHJlc3VsdHM9dHlwZW9mIG5hbWU9PT0nc3RyaW5nJz9pbnN0YW5jZS5maW5kQWxsKGZ1bmN0aW9uKG5vZGUpe3JldHVybiBmaWx0ZXJOb2RlQnlOYW1lKG5vZGUsbmFtZSk7fSk6aW5zdGFuY2UuZmluZEFsbEJ5VHlwZShuYW1lKTtpZihyZXN1bHRzLmxlbmd0aD09PTApe3Rocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKCdObyBpbnN0YW5jZXMgZm91bmQnLGdldEFsbEJ5TmFtZUZuKTt9cmV0dXJuIHJlc3VsdHM7fTt9O2V4cG9ydHMuZ2V0QWxsQnlOYW1lPWdldEFsbEJ5TmFtZTt2YXIgZ2V0QWxsQnlUeXBlPWZ1bmN0aW9uIGdldEFsbEJ5VHlwZShpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEFsbEJ5VHlwZUZuKHR5cGUpe3ZhciByZXN1bHRzPWluc3RhbmNlLmZpbmRBbGxCeVR5cGUodHlwZSk7aWYocmVzdWx0cy5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygnTm8gaW5zdGFuY2VzIGZvdW5kJyxnZXRBbGxCeVR5cGVGbik7fXJldHVybiByZXN1bHRzO307fTtleHBvcnRzLmdldEFsbEJ5VHlwZT1nZXRBbGxCeVR5cGU7dmFyIGdldEFsbEJ5VGV4dD1mdW5jdGlvbiBnZXRBbGxCeVRleHQoaW5zdGFuY2Upe3JldHVybiBmdW5jdGlvbiBnZXRBbGxCeVRleHRGbih0ZXh0KXt2YXIgcmVzdWx0cz1pbnN0YW5jZS5maW5kQWxsKGZ1bmN0aW9uKG5vZGUpe3JldHVybiBnZXROb2RlQnlUZXh0KG5vZGUsdGV4dCk7fSk7aWYocmVzdWx0cy5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjayhcIk5vIGluc3RhbmNlcyBmb3VuZCB3aXRoIHRleHQ6IFwiK1N0cmluZyh0ZXh0KSxnZXRBbGxCeVRleHRGbik7fXJldHVybiByZXN1bHRzO307fTtleHBvcnRzLmdldEFsbEJ5VGV4dD1nZXRBbGxCeVRleHQ7dmFyIGdldEFsbEJ5UGxhY2Vob2xkZXI9ZnVuY3Rpb24gZ2V0QWxsQnlQbGFjZWhvbGRlcihpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEFsbEJ5UGxhY2Vob2xkZXJGbihwbGFjZWhvbGRlcil7dmFyIHJlc3VsdHM9aW5zdGFuY2UuZmluZEFsbChmdW5jdGlvbihub2RlKXtyZXR1cm4gZ2V0VGV4dElucHV0Tm9kZUJ5UGxhY2Vob2xkZXIobm9kZSxwbGFjZWhvbGRlcik7fSk7aWYocmVzdWx0cy5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjayhcIk5vIGluc3RhbmNlcyBmb3VuZCB3aXRoIHBsYWNlaG9sZGVyOiBcIitTdHJpbmcocGxhY2Vob2xkZXIpLGdldEFsbEJ5UGxhY2Vob2xkZXJGbik7fXJldHVybiByZXN1bHRzO307fTtleHBvcnRzLmdldEFsbEJ5UGxhY2Vob2xkZXI9Z2V0QWxsQnlQbGFjZWhvbGRlcjt2YXIgZ2V0QWxsQnlEaXNwbGF5VmFsdWU9ZnVuY3Rpb24gZ2V0QWxsQnlEaXNwbGF5VmFsdWUoaW5zdGFuY2Upe3JldHVybiBmdW5jdGlvbiBnZXRBbGxCeURpc3BsYXlWYWx1ZUZuKHZhbHVlKXt2YXIgcmVzdWx0cz1pbnN0YW5jZS5maW5kQWxsKGZ1bmN0aW9uKG5vZGUpe3JldHVybiBnZXRUZXh0SW5wdXROb2RlQnlEaXNwbGF5VmFsdWUobm9kZSx2YWx1ZSk7fSk7aWYocmVzdWx0cy5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjayhcIk5vIGluc3RhbmNlcyBmb3VuZCB3aXRoIGRpc3BsYXkgdmFsdWU6IFwiK1N0cmluZyh2YWx1ZSksZ2V0QWxsQnlEaXNwbGF5VmFsdWVGbik7fXJldHVybiByZXN1bHRzO307fTtleHBvcnRzLmdldEFsbEJ5RGlzcGxheVZhbHVlPWdldEFsbEJ5RGlzcGxheVZhbHVlO3ZhciBnZXRBbGxCeVByb3BzPWZ1bmN0aW9uIGdldEFsbEJ5UHJvcHMoaW5zdGFuY2Upe3JldHVybiBmdW5jdGlvbiBnZXRBbGxCeVByb3BzRm4ocHJvcHMpe3ZhciByZXN1bHRzPWluc3RhbmNlLmZpbmRBbGxCeVByb3BzKHByb3BzKTtpZihyZXN1bHRzLmxlbmd0aD09PTApe3Rocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKFwiTm8gaW5zdGFuY2VzIGZvdW5kIHdpdGggcHJvcHM6XFxuXCIrKDAsX3ByZXR0eUZvcm1hdC5kZWZhdWx0KShwcm9wcyksZ2V0QWxsQnlQcm9wc0ZuKTt9cmV0dXJuIHJlc3VsdHM7fTt9O2V4cG9ydHMuZ2V0QWxsQnlQcm9wcz1nZXRBbGxCeVByb3BzO3ZhciBnZXRBbGxCeVRlc3RJZD1mdW5jdGlvbiBnZXRBbGxCeVRlc3RJZChpbnN0YW5jZSl7cmV0dXJuIGZ1bmN0aW9uIGdldEFsbEJ5VGVzdElkRm4odGVzdElEKXt2YXIgcmVzdWx0cz1pbnN0YW5jZS5maW5kQWxsQnlQcm9wcyh7dGVzdElEOnRlc3RJRH0pLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gdHlwZW9mIGVsZW1lbnQudHlwZT09PSdzdHJpbmcnO30pO2lmKHJlc3VsdHMubGVuZ3RoPT09MCl7dGhyb3cgbmV3IF9lcnJvcnMuRXJyb3JXaXRoU3RhY2soXCJObyBpbnN0YW5jZXMgZm91bmQgd2l0aCB0ZXN0SUQ6IFwiK1N0cmluZyh0ZXN0SUQpLGdldEFsbEJ5VGVzdElkRm4pO31yZXR1cm4gcmVzdWx0czt9O307ZXhwb3J0cy5nZXRBbGxCeVRlc3RJZD1nZXRBbGxCeVRlc3RJZDt2YXIgZ2V0QnlBUEk9ZnVuY3Rpb24gZ2V0QnlBUEkoaW5zdGFuY2Upe3JldHVybntnZXRCeVRlc3RJZDpnZXRCeVRlc3RJZChpbnN0YW5jZSksZ2V0QnlOYW1lOmdldEJ5TmFtZShpbnN0YW5jZSksZ2V0QnlUeXBlOmdldEJ5VHlwZShpbnN0YW5jZSksZ2V0QnlUZXh0OmdldEJ5VGV4dChpbnN0YW5jZSksZ2V0QnlQbGFjZWhvbGRlcjpnZXRCeVBsYWNlaG9sZGVyKGluc3RhbmNlKSxnZXRCeURpc3BsYXlWYWx1ZTpnZXRCeURpc3BsYXlWYWx1ZShpbnN0YW5jZSksZ2V0QnlQcm9wczpnZXRCeVByb3BzKGluc3RhbmNlKSxnZXRBbGxCeVRlc3RJZDpnZXRBbGxCeVRlc3RJZChpbnN0YW5jZSksZ2V0QWxsQnlOYW1lOmdldEFsbEJ5TmFtZShpbnN0YW5jZSksZ2V0QWxsQnlUeXBlOmdldEFsbEJ5VHlwZShpbnN0YW5jZSksZ2V0QWxsQnlUZXh0OmdldEFsbEJ5VGV4dChpbnN0YW5jZSksZ2V0QWxsQnlQbGFjZWhvbGRlcjpnZXRBbGxCeVBsYWNlaG9sZGVyKGluc3RhbmNlKSxnZXRBbGxCeURpc3BsYXlWYWx1ZTpnZXRBbGxCeURpc3BsYXlWYWx1ZShpbnN0YW5jZSksZ2V0QWxsQnlQcm9wczpnZXRBbGxCeVByb3BzKGluc3RhbmNlKX07fTtleHBvcnRzLmdldEJ5QVBJPWdldEJ5QVBJOyJdfQ==