{"version":3,"sources":["index.js"],"names":["_","message","opts","context","type","V","evenRound","x","censorNegativeZero","Math","floor","round","integerPart","n","trunc","sign","modulo","y","signMightNotMatch","createIntegerConversion","bitLength","typeOpts","isSigned","unsigned","lowerBound","upperBound","pow","twoToTheBitLength","twoToOneLessThanTheBitLength","undefined","enforceRange","Number","isFinite","TypeError","isNaN","clamp","min","max","exports","any","void","boolean","val","byte","octet","short","long","double","float","Object","is","fround","DOMString","treatNullAsEmptyString","String","ByteString","c","i","codePointAt","USVString","S","length","U","charCodeAt","push","fromCodePoint","d","a","b","join","object","convertCallbackFunction","Error","ArrayBuffer","DataView","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray","Float32Array","Float64Array","forEach","func","name","article","test","ArrayBufferView","isView","BufferSource","DOMTimeStamp","Function","VoidFunction"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _(message, opts) {\n    return `${opts && opts.context ? opts.context : \"Value\"} ${message}.`;\n}\n\nfunction type(V) {\n    if (V === null) {\n        return \"Null\";\n    }\n    switch (typeof V) {\n        case \"undefined\":\n            return \"Undefined\";\n        case \"boolean\":\n            return \"Boolean\";\n        case \"number\":\n            return \"Number\";\n        case \"string\":\n            return \"String\";\n        case \"symbol\":\n            return \"Symbol\";\n        case \"object\":\n            // Falls through\n        case \"function\":\n            // Falls through\n        default:\n            // Per ES spec, typeof returns an implemention-defined value that is not any of the existing ones for\n            // uncallable non-standard exotic objects. Yet Type() which the Web IDL spec depends on returns Object for\n            // such cases. So treat the default case as an object.\n            return \"Object\";\n    }\n}\n\n// Round x to the nearest integer, choosing the even integer if it lies halfway between two.\nfunction evenRound(x) {\n    // There are four cases for numbers with fractional part being .5:\n    //\n    // case |     x     | floor(x) | round(x) | expected | x <> 0 | x % 1 | x & 1 |   example\n    //   1  |  2n + 0.5 |  2n      |  2n + 1  |  2n      |   >    |  0.5  |   0   |  0.5 ->  0\n    //   2  |  2n + 1.5 |  2n + 1  |  2n + 2  |  2n + 2  |   >    |  0.5  |   1   |  1.5 ->  2\n    //   3  | -2n - 0.5 | -2n - 1  | -2n      | -2n      |   <    | -0.5  |   0   | -0.5 ->  0\n    //   4  | -2n - 1.5 | -2n - 2  | -2n - 1  | -2n - 2  |   <    | -0.5  |   1   | -1.5 -> -2\n    // (where n is a non-negative integer)\n    //\n    // Branch here for cases 1 and 4\n    if ((x > 0 && (x % 1) === +0.5 && (x & 1) === 0) ||\n        (x < 0 && (x % 1) === -0.5 && (x & 1) === 1)) {\n        return censorNegativeZero(Math.floor(x));\n    }\n\n    return censorNegativeZero(Math.round(x));\n}\n\nfunction integerPart(n) {\n    return censorNegativeZero(Math.trunc(n));\n}\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction modulo(x, y) {\n    // https://tc39.github.io/ecma262/#eqn-modulo\n    // Note that http://stackoverflow.com/a/4467559/3191 does NOT work for large modulos\n    const signMightNotMatch = x % y;\n    if (sign(y) !== sign(signMightNotMatch)) {\n        return signMightNotMatch + y;\n    }\n    return signMightNotMatch;\n}\n\nfunction censorNegativeZero(x) {\n    return x === 0 ? 0 : x;\n}\n\nfunction createIntegerConversion(bitLength, typeOpts) {\n    const isSigned = !typeOpts.unsigned;\n\n    let lowerBound;\n    let upperBound;\n    if (bitLength === 64) {\n        upperBound = Math.pow(2, 53) - 1;\n        lowerBound = !isSigned ? 0 : -Math.pow(2, 53) + 1;\n    } else if (!isSigned) {\n        lowerBound = 0;\n        upperBound = Math.pow(2, bitLength) - 1;\n    } else {\n        lowerBound = -Math.pow(2, bitLength - 1);\n        upperBound = Math.pow(2, bitLength - 1) - 1;\n    }\n\n    const twoToTheBitLength = Math.pow(2, bitLength);\n    const twoToOneLessThanTheBitLength = Math.pow(2, bitLength - 1);\n\n    return (V, opts) => {\n        if (opts === undefined) {\n            opts = {};\n        }\n\n        let x = +V;\n        x = censorNegativeZero(x); // Spec discussion ongoing: https://github.com/heycam/webidl/issues/306\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(_(\"is not a finite number\", opts));\n            }\n\n            x = integerPart(x);\n\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(_(\n                    `is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`, opts));\n            }\n\n            return x;\n        }\n\n        if (!Number.isNaN(x) && opts.clamp) {\n            x = Math.min(Math.max(x, lowerBound), upperBound);\n            x = evenRound(x);\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n        x = integerPart(x);\n\n        // Math.pow(2, 64) is not accurately representable in JavaScript, so try to avoid these per-spec operations if\n        // possible. Hopefully it's an optimization for the non-64-bitLength cases too.\n        if (x >= lowerBound && x <= upperBound) {\n            return x;\n        }\n\n        // These will not work great for bitLength of 64, but oh well. See the README for more details.\n        x = modulo(x, twoToTheBitLength);\n        if (isSigned && x >= twoToOneLessThanTheBitLength) {\n            return x - twoToTheBitLength;\n        }\n        return x;\n    };\n}\n\nexports.any = V => {\n    return V;\n};\n\nexports.void = function () {\n    return undefined;\n};\n\nexports.boolean = function (val) {\n    return !!val;\n};\n\nexports.byte = createIntegerConversion(8, { unsigned: false });\nexports.octet = createIntegerConversion(8, { unsigned: true });\n\nexports.short = createIntegerConversion(16, { unsigned: false });\nexports[\"unsigned short\"] = createIntegerConversion(16, { unsigned: true });\n\nexports.long = createIntegerConversion(32, { unsigned: false });\nexports[\"unsigned long\"] = createIntegerConversion(32, { unsigned: true });\n\nexports[\"long long\"] = createIntegerConversion(64, { unsigned: false });\nexports[\"unsigned long long\"] = createIntegerConversion(64, { unsigned: true });\n\nexports.double = (V, opts) => {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(_(\"is not a finite floating-point value\", opts));\n    }\n\n    return x;\n};\n\nexports[\"unrestricted double\"] = V => {\n    const x = +V;\n\n    return x;\n};\n\nexports.float = (V, opts) => {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(_(\"is not a finite floating-point value\", opts));\n    }\n\n    if (Object.is(x, -0)) {\n        return x;\n    }\n\n    const y = Math.fround(x);\n\n    if (!Number.isFinite(y)) {\n        throw new TypeError(_(\"is outside the range of a single-precision floating-point value\", opts));\n    }\n\n    return y;\n};\n\nexports[\"unrestricted float\"] = V => {\n    const x = +V;\n\n    if (isNaN(x)) {\n        return x;\n    }\n\n    if (Object.is(x, -0)) {\n        return x;\n    }\n\n    return Math.fround(x);\n};\n\nexports.DOMString = function (V, opts) {\n    if (opts === undefined) {\n        opts = {};\n    }\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    if (typeof V === \"symbol\") {\n        throw new TypeError(_(\"is a symbol, which cannot be converted to a string\", opts));\n    }\n\n    return String(V);\n};\n\nexports.ByteString = (V, opts) => {\n    const x = exports.DOMString(V, opts);\n    let c;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(_(\"is not a valid ByteString\", opts));\n        }\n    }\n\n    return x;\n};\n\nexports.USVString = (V, opts) => {\n    const S = exports.DOMString(V, opts);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else if (i === n - 1) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            const d = S.charCodeAt(i + 1);\n            if (0xDC00 <= d && d <= 0xDFFF) {\n                const a = c & 0x3FF;\n                const b = d & 0x3FF;\n                U.push(String.fromCodePoint((2 << 15) + ((2 << 9) * a) + b));\n                ++i;\n            } else {\n                U.push(String.fromCodePoint(0xFFFD));\n            }\n        }\n    }\n\n    return U.join(\"\");\n};\n\nexports.object = (V, opts) => {\n    if (type(V) !== \"Object\") {\n        throw new TypeError(_(\"is not an object\", opts));\n    }\n\n    return V;\n};\n\n// Not exported, but used in Function and VoidFunction.\n\n// Neither Function nor VoidFunction is defined with [TreatNonObjectAsNull], so\n// handling for that is omitted.\nfunction convertCallbackFunction(V, opts) {\n    if (typeof V !== \"function\") {\n        throw new TypeError(_(\"is not a function\", opts));\n    }\n    return V;\n}\n\n[\n    Error,\n    ArrayBuffer, // The IsDetachedBuffer abstract operation is not exposed in JS\n    DataView, Int8Array, Int16Array, Int32Array, Uint8Array,\n    Uint16Array, Uint32Array, Uint8ClampedArray, Float32Array, Float64Array\n].forEach(func => {\n    const name = func.name;\n    const article = /^[AEIOU]/.test(name) ? \"an\" : \"a\";\n    exports[name] = (V, opts) => {\n        if (!(V instanceof func)) {\n            throw new TypeError(_(`is not ${article} ${name} object`, opts));\n        }\n\n        return V;\n    };\n});\n\n// Common definitions\n\nexports.ArrayBufferView = (V, opts) => {\n    if (!ArrayBuffer.isView(V)) {\n        throw new TypeError(_(\"is not a view on an ArrayBuffer object\", opts));\n    }\n\n    return V;\n};\n\nexports.BufferSource = (V, opts) => {\n    if (!(ArrayBuffer.isView(V) || V instanceof ArrayBuffer)) {\n        throw new TypeError(_(\"is not an ArrayBuffer object or a view on one\", opts));\n    }\n\n    return V;\n};\n\nexports.DOMTimeStamp = exports[\"unsigned long long\"];\n\nexports.Function = convertCallbackFunction;\n\nexports.VoidFunction = convertCallbackFunction;\n"]}