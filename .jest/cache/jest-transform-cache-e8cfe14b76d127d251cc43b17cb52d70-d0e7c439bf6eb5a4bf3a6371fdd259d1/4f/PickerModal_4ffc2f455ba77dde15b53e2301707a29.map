{"version":3,"sources":["PickerModal.js"],"names":["PickerModal","openPicker","pickerModal","open","onValueChange","value","props","onChangeText","onSubmitEditing","renderPicker","placeholder","values","length","Platform","OS","unshift","label","picker","map","item","ref","opacity","position","top","bottom","right","left","children","PureComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AAEA;;AACA;;IAMMA,W;;;;;;;;;;;;;;;;UAGJC,U,GAAa,YAAM;AACjB,UAAI,MAAKC,WAAT,EAAsB,MAAKA,WAAL,CAAiBC,IAAjB;AACvB,K;;UAEDC,a,GAAgB,UAACC,KAAD,EAAgB;AAC9B,UAAI,MAAKC,KAAL,CAAWC,YAAf,EAA6B,MAAKD,KAAL,CAAWC,YAAX,CAAwBF,KAAxB;AAC7B,UAAI,MAAKC,KAAL,CAAWE,eAAf,EAAgC,MAAKF,KAAL,CAAWE,eAAX;AACjC,K;;UAEDC,Y,GAAe,YAAM;AAAA,wBACY,MAAKH,KADjB;AAAA,UACXI,WADW,eACXA,WADW;AAAA,UACEL,KADF,eACEA,KADF;AAEnB,UAAI,CAAC,MAAKC,KAAL,CAAWK,MAAZ,IAAsB,CAAC,MAAKL,KAAL,CAAWK,MAAX,CAAkBC,MAA7C,EAAqD,OAAO,IAAP;AACrD,UAAMD,MAAM,oCAAO,MAAKL,KAAL,CAAWK,MAAlB,CAAZ;;AACA,UAAIE,sBAASC,EAAT,KAAgB,KAApB,EAA2B;AACzBH,QAAAA,MAAM,CAACI,OAAP,CAAe;AAAEV,UAAAA,KAAK,EAAE,EAAT;AAAaW,UAAAA,KAAK,EAAEN,WAAW,IAAI;AAAnC,SAAf;AACD,OAFD,MAEO;AAELC,QAAAA,MAAM,CAACI,OAAP,CAAe;AAAEV,UAAAA,KAAK,EAAE,EAAT;AAAaW,UAAAA,KAAK,EAAE;AAApB,SAAf;AACD;;AACD,UAAMC,MAAM,GACV,6BAAC,mBAAD;AACE,QAAA,aAAa,EAAE,MAAKb,aADtB;AAEE,QAAA,aAAa,EAAEC,KAFjB;AAGE,QAAA,MAAM,EAAEK;AAHV,SAKGC,MAAM,CAACO,GAAP,CAAW,UAAAC,IAAI;AAAA,eACd,6BAAC,mBAAD,CAAQ,IAAR;AAAa,UAAA,GAAG,EAAEA,IAAI,CAACd;AAAvB,WAAkCc,IAAlC,EADc;AAAA,OAAf,CALH,CADF;;AAYA,aAAON,sBAASC,EAAT,KAAgB,KAAhB,GACL,6BAAC,sBAAD;AACE,QAAA,GAAG,EAAE,aAAAM,IAAG,EAAI;AACV,gBAAKlB,WAAL,GAAmBkB,IAAnB;AACD;AAHH,SAKGH,MALH,CADK,GASL,6BAAC,iBAAD;AACE,QAAA,KAAK,EAAE;AACLI,UAAAA,OAAO,EAAE,CADJ;AAELC,UAAAA,QAAQ,EAAE,UAFL;AAGLC,UAAAA,GAAG,EAAE,CAHA;AAILC,UAAAA,MAAM,EAAE,CAJH;AAKLC,UAAAA,KAAK,EAAE,CALF;AAMLC,UAAAA,IAAI,EAAE;AAND;AADT,SAUGT,MAVH,CATF;AAsBD,K;;;;;;;6BAEQ;AACP,aACE,6BAAC,iBAAD,QACE,6BAAC,wBAAD;AAAiB,QAAA,OAAO,EAAE,KAAKhB;AAA/B,SACG,KAAKK,KAAL,CAAWqB,QADd,CADF,EAIG,KAAKlB,YAAL,EAJH,CADF;AAQD;;;EAnEuBmB,oB;;eAsEX5B,W","sourcesContent":["// @flow\nimport React, { PureComponent } from \"react\";\nimport { View, Platform, Picker } from \"react-native\";\n\nimport KeyboardModal from \"./KeyboardModal\";\nimport DisableKeyboard from \"./DisableKeyboard\";\n\ntype PropsType = {\n  values: Array<{ label: string, value: string }>\n};\n\nclass PickerModal extends PureComponent<PropsType> {\n  pickerModal: ?KeyboardModal;\n\n  openPicker = () => {\n    if (this.pickerModal) this.pickerModal.open();\n  };\n\n  onValueChange = (value: any) => {\n    if (this.props.onChangeText) this.props.onChangeText(value);\n    if (this.props.onSubmitEditing) this.props.onSubmitEditing();\n  };\n\n  renderPicker = () => {\n    const { placeholder, value } = this.props;\n    if (!this.props.values || !this.props.values.length) return null;\n    const values = [...this.props.values];\n    if (Platform.OS === \"ios\") {\n      values.unshift({ value: \"\", label: placeholder || \"\" });\n    } else {\n      // Fix for issue: https://github.com/facebook/react-native/issues/15556\n      values.unshift({ value: \"\", label: \"\" });\n    }\n    const picker = (\n      <Picker\n        onValueChange={this.onValueChange}\n        selectedValue={value}\n        prompt={placeholder}\n      >\n        {values.map(item => (\n          <Picker.Item key={item.value} {...item} />\n        ))}\n      </Picker>\n    );\n\n    return Platform.OS === \"ios\" ? (\n      <KeyboardModal\n        ref={ref => {\n          this.pickerModal = ref;\n        }}\n      >\n        {picker}\n      </KeyboardModal>\n    ) : (\n      <View\n        style={{\n          opacity: 0,\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          right: 0,\n          left: 0\n        }}\n      >\n        {picker}\n      </View>\n    );\n  };\n\n  render() {\n    return (\n      <View>\n        <DisableKeyboard onPress={this.openPicker}>\n          {this.props.children}\n        </DisableKeyboard>\n        {this.renderPicker()}\n      </View>\n    );\n  }\n}\n\nexport default PickerModal;\n"]}