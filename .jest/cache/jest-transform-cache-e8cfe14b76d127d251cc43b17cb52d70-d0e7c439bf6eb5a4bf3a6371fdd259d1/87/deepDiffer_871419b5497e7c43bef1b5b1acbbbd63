512caa81c717167426d57af9d08fe7e5
'use strict';

var deepDiffer = function deepDiffer(one, two) {
  var maxDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;

  if (maxDepth === 0) {
    return true;
  }

  if (one === two) {
    return false;
  }

  if (typeof one === 'function' && typeof two === 'function') {
    return false;
  }

  if (typeof one !== 'object' || one === null) {
    return one !== two;
  }

  if (typeof two !== 'object' || two === null) {
    return true;
  }

  if (one.constructor !== two.constructor) {
    return true;
  }

  if (Array.isArray(one)) {
    var len = one.length;

    if (two.length !== len) {
      return true;
    }

    for (var ii = 0; ii < len; ii++) {
      if (deepDiffer(one[ii], two[ii], maxDepth - 1)) {
        return true;
      }
    }
  } else {
    for (var key in one) {
      if (deepDiffer(one[key], two[key], maxDepth - 1)) {
        return true;
      }
    }

    for (var twoKey in two) {
      if (one[twoKey] === undefined && two[twoKey] !== undefined) {
        return true;
      }
    }
  }

  return false;
};

module.exports = deepDiffer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZXBEaWZmZXIuanMiXSwibmFtZXMiOlsiZGVlcERpZmZlciIsIm9uZSIsInR3byIsIm1heERlcHRoIiwiY29uc3RydWN0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJsZW4iLCJsZW5ndGgiLCJpaSIsImtleSIsInR3b0tleSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOztBQUtBLElBQU1BLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQ2pCQyxHQURpQixFQUVqQkMsR0FGaUIsRUFJUjtBQUFBLE1BRFRDLFFBQ1MsdUVBRFUsQ0FBQyxDQUNYOztBQUNULE1BQUlBLFFBQVEsS0FBSyxDQUFqQixFQUFvQjtBQUNsQixXQUFPLElBQVA7QUFDRDs7QUFDRCxNQUFJRixHQUFHLEtBQUtDLEdBQVosRUFBaUI7QUFFZixXQUFPLEtBQVA7QUFDRDs7QUFDRCxNQUFJLE9BQU9ELEdBQVAsS0FBZSxVQUFmLElBQTZCLE9BQU9DLEdBQVAsS0FBZSxVQUFoRCxFQUE0RDtBQUUxRCxXQUFPLEtBQVA7QUFDRDs7QUFDRCxNQUFJLE9BQU9ELEdBQVAsS0FBZSxRQUFmLElBQTJCQSxHQUFHLEtBQUssSUFBdkMsRUFBNkM7QUFFM0MsV0FBT0EsR0FBRyxLQUFLQyxHQUFmO0FBQ0Q7O0FBQ0QsTUFBSSxPQUFPQSxHQUFQLEtBQWUsUUFBZixJQUEyQkEsR0FBRyxLQUFLLElBQXZDLEVBQTZDO0FBRzNDLFdBQU8sSUFBUDtBQUNEOztBQUNELE1BQUlELEdBQUcsQ0FBQ0csV0FBSixLQUFvQkYsR0FBRyxDQUFDRSxXQUE1QixFQUF5QztBQUN2QyxXQUFPLElBQVA7QUFDRDs7QUFDRCxNQUFJQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0wsR0FBZCxDQUFKLEVBQXdCO0FBRXRCLFFBQU1NLEdBQUcsR0FBR04sR0FBRyxDQUFDTyxNQUFoQjs7QUFDQSxRQUFJTixHQUFHLENBQUNNLE1BQUosS0FBZUQsR0FBbkIsRUFBd0I7QUFDdEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsU0FBSyxJQUFJRSxFQUFFLEdBQUcsQ0FBZCxFQUFpQkEsRUFBRSxHQUFHRixHQUF0QixFQUEyQkUsRUFBRSxFQUE3QixFQUFpQztBQUMvQixVQUFJVCxVQUFVLENBQUNDLEdBQUcsQ0FBQ1EsRUFBRCxDQUFKLEVBQVVQLEdBQUcsQ0FBQ08sRUFBRCxDQUFiLEVBQW1CTixRQUFRLEdBQUcsQ0FBOUIsQ0FBZCxFQUFnRDtBQUM5QyxlQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0YsR0FYRCxNQVdPO0FBQ0wsU0FBSyxJQUFNTyxHQUFYLElBQWtCVCxHQUFsQixFQUF1QjtBQUNyQixVQUFJRCxVQUFVLENBQUNDLEdBQUcsQ0FBQ1MsR0FBRCxDQUFKLEVBQVdSLEdBQUcsQ0FBQ1EsR0FBRCxDQUFkLEVBQXFCUCxRQUFRLEdBQUcsQ0FBaEMsQ0FBZCxFQUFrRDtBQUNoRCxlQUFPLElBQVA7QUFDRDtBQUNGOztBQUNELFNBQUssSUFBTVEsTUFBWCxJQUFxQlQsR0FBckIsRUFBMEI7QUFHeEIsVUFBSUQsR0FBRyxDQUFDVSxNQUFELENBQUgsS0FBZ0JDLFNBQWhCLElBQTZCVixHQUFHLENBQUNTLE1BQUQsQ0FBSCxLQUFnQkMsU0FBakQsRUFBNEQ7QUFDMUQsZUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQUNGOztBQUNELFNBQU8sS0FBUDtBQUNELENBdEREOztBQXdEQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxVQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBAcmV0dXJucyB7Ym9vbH0gdHJ1ZSBpZiBkaWZmZXJlbnQsIGZhbHNlIGlmIGVxdWFsXG4gKi9cbmNvbnN0IGRlZXBEaWZmZXIgPSBmdW5jdGlvbihcbiAgb25lOiBhbnksXG4gIHR3bzogYW55LFxuICBtYXhEZXB0aDogbnVtYmVyID0gLTEsXG4pOiBib29sZWFuIHtcbiAgaWYgKG1heERlcHRoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9uZSA9PT0gdHdvKSB7XG4gICAgLy8gU2hvcnQgY2lyY3VpdCBvbiBpZGVudGljYWwgb2JqZWN0IHJlZmVyZW5jZXMgaW5zdGVhZCBvZiB0cmF2ZXJzaW5nIHRoZW0uXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2Ygb25lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0d28gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBXZSBjb25zaWRlciBhbGwgZnVuY3Rpb25zIGVxdWFsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2Ygb25lICE9PSAnb2JqZWN0JyB8fCBvbmUgPT09IG51bGwpIHtcbiAgICAvLyBQcmltaXRpdmVzIGNhbiBiZSBkaXJlY3RseSBjb21wYXJlZFxuICAgIHJldHVybiBvbmUgIT09IHR3bztcbiAgfVxuICBpZiAodHlwZW9mIHR3byAhPT0gJ29iamVjdCcgfHwgdHdvID09PSBudWxsKSB7XG4gICAgLy8gV2Uga25vdyB0aGV5IGFyZSBkaWZmZXJlbnQgYmVjYXVzZSB0aGUgcHJldmlvdXMgY2FzZSB3b3VsZCBoYXZlIHRyaWdnZXJlZFxuICAgIC8vIG90aGVyd2lzZS5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAob25lLmNvbnN0cnVjdG9yICE9PSB0d28uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvbmUpKSB7XG4gICAgLy8gV2Uga25vdyB0d28gaXMgYWxzbyBhbiBhcnJheSBiZWNhdXNlIHRoZSBjb25zdHJ1Y3RvcnMgYXJlIGVxdWFsXG4gICAgY29uc3QgbGVuID0gb25lLmxlbmd0aDtcbiAgICBpZiAodHdvLmxlbmd0aCAhPT0gbGVuKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykge1xuICAgICAgaWYgKGRlZXBEaWZmZXIob25lW2lpXSwgdHdvW2lpXSwgbWF4RGVwdGggLSAxKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb25lKSB7XG4gICAgICBpZiAoZGVlcERpZmZlcihvbmVba2V5XSwgdHdvW2tleV0sIG1heERlcHRoIC0gMSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgdHdvS2V5IGluIHR3bykge1xuICAgICAgLy8gVGhlIG9ubHkgY2FzZSB3ZSBoYXZlbid0IGNoZWNrZWQgeWV0IGlzIGtleXMgdGhhdCBhcmUgaW4gdHdvIGJ1dCBhcmVuJ3RcbiAgICAgIC8vIGluIG9uZSwgd2hpY2ggbWVhbnMgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgaWYgKG9uZVt0d29LZXldID09PSB1bmRlZmluZWQgJiYgdHdvW3R3b0tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWVwRGlmZmVyO1xuIl19