{"version":3,"sources":["stack-trace-parser.cjs.js"],"names":["Object","defineProperty","exports","value","UNKNOWN_FUNCTION","parse","stackString","lines","split","reduce","stack","line","parseResult","parseChrome","parseWinjs","parseGecko","parseJSC","parseNode","push","chromeRe","chromeEvalRe","parts","exec","isNative","indexOf","isEval","submatch","file","methodName","arguments","lineNumber","column","winjsRe","geckoRe","geckoEvalRe","javaScriptCoreRe","nodeRe"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar UNKNOWN_FUNCTION = '<unknown>';\n/**\n * This parses the different stack traces and puts them into one format\n * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)\n */\n\nfunction parse(stackString) {\n  var lines = stackString.split('\\n');\n  return lines.reduce(function (stack, line) {\n    var parseResult = parseChrome(line) || parseWinjs(line) || parseGecko(line) || parseJSC(line) || parseNode(line);\n\n    if (parseResult) {\n      stack.push(parseResult);\n    }\n\n    return stack;\n  }, []);\n}\nvar chromeRe = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nvar chromeEvalRe = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nfunction parseChrome(line) {\n  var parts = chromeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n  var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n  var submatch = chromeEvalRe.exec(parts[2]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1]; // url\n\n    parts[3] = submatch[2]; // line\n\n    parts[4] = submatch[3]; // column\n  }\n\n  return {\n    file: !isNative ? parts[2] : null,\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: isNative ? [parts[2]] : [],\n    lineNumber: parts[3] ? +parts[3] : null,\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar winjsRe = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseWinjs(line) {\n  var parts = winjsRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nvar geckoRe = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar geckoEvalRe = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nfunction parseGecko(line) {\n  var parts = geckoRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n  var submatch = geckoEvalRe.exec(parts[3]);\n\n  if (isEval && submatch != null) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1];\n    parts[4] = submatch[2];\n    parts[5] = null; // no column when eval\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: parts[2] ? parts[2].split(',') : [],\n    lineNumber: parts[4] ? +parts[4] : null,\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar javaScriptCoreRe = /^(?:\\s*([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;\n\nfunction parseJSC(line) {\n  var parts = javaScriptCoreRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[3],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[4],\n    column: parts[5] ? +parts[5] : null\n  };\n}\n\nvar nodeRe = /^\\s*at (?:((?:\\[object object\\])?\\S+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nfunction parseNode(line) {\n  var parts = nodeRe.exec(line);\n\n  if (!parts) {\n    return null;\n  }\n\n  return {\n    file: parts[2],\n    methodName: parts[1] || UNKNOWN_FUNCTION,\n    arguments: [],\n    lineNumber: +parts[3],\n    column: parts[4] ? +parts[4] : null\n  };\n}\n\nexports.parse = parse;\n"]}