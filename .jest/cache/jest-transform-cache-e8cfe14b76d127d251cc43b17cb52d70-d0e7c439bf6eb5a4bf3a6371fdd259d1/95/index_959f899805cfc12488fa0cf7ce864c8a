c26b37b9c506b15ea85de396eb40518d
(function (factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module['exports'] = factory() : typeof define === 'function' && define['amd'] ? define(factory()) : window['stylisRuleSheet'] = factory();
})(function () {
  'use strict';

  return function (insertRule) {
    var delimiter = '/*|*/';
    var needle = delimiter + '}';

    function toSheet(block) {
      if (block) try {
        insertRule(block + '}');
      } catch (e) {}
    }

    return function ruleSheet(context, content, selectors, parents, line, column, length, ns, depth, at) {
      switch (context) {
        case 1:
          if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(content + ';'), '';
          break;

        case 2:
          if (ns === 0) return content + delimiter;
          break;

        case 3:
          switch (ns) {
            case 102:
            case 112:
              return insertRule(selectors[0] + content), '';

            default:
              return content + (at === 0 ? delimiter : '');
          }

        case -2:
          content.split(needle).forEach(toSheet);
      }
    };
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwid2luZG93IiwiaW5zZXJ0UnVsZSIsImRlbGltaXRlciIsIm5lZWRsZSIsInRvU2hlZXQiLCJibG9jayIsImUiLCJydWxlU2hlZXQiLCJjb250ZXh0IiwiY29udGVudCIsInNlbGVjdG9ycyIsInBhcmVudHMiLCJsaW5lIiwiY29sdW1uIiwibGVuZ3RoIiwibnMiLCJkZXB0aCIsImF0IiwiY2hhckNvZGVBdCIsInNwbGl0IiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6IkFBQUMsV0FBVUEsT0FBVixFQUFtQjtBQUNuQixTQUFPQyxPQUFQLEtBQW1CLFFBQW5CLElBQStCLE9BQU9DLE1BQVAsS0FBa0IsV0FBakQsR0FBZ0VBLE1BQU0sQ0FBQyxTQUFELENBQU4sR0FBb0JGLE9BQU8sRUFBM0YsR0FDQyxPQUFPRyxNQUFQLEtBQWtCLFVBQWxCLElBQWdDQSxNQUFNLENBQUMsS0FBRCxDQUF0QyxHQUFnREEsTUFBTSxDQUFDSCxPQUFPLEVBQVIsQ0FBdEQsR0FDRUksTUFBTSxDQUFDLGlCQUFELENBQU4sR0FBNEJKLE9BQU8sRUFGdEM7QUFHQSxDQUpBLEVBSUMsWUFBWTtBQUViOztBQUVBLFNBQU8sVUFBVUssVUFBVixFQUFzQjtBQUM1QixRQUFJQyxTQUFTLEdBQUcsT0FBaEI7QUFDQSxRQUFJQyxNQUFNLEdBQUdELFNBQVMsR0FBQyxHQUF2Qjs7QUFFQSxhQUFTRSxPQUFULENBQWtCQyxLQUFsQixFQUF5QjtBQUN4QixVQUFJQSxLQUFKLEVBQ0MsSUFBSTtBQUNISixRQUFBQSxVQUFVLENBQUNJLEtBQUssR0FBRyxHQUFULENBQVY7QUFDQSxPQUZELENBRUUsT0FBT0MsQ0FBUCxFQUFVLENBQUU7QUFDZjs7QUFFRCxXQUFPLFNBQVNDLFNBQVQsQ0FBb0JDLE9BQXBCLEVBQTZCQyxPQUE3QixFQUFzQ0MsU0FBdEMsRUFBaURDLE9BQWpELEVBQTBEQyxJQUExRCxFQUFnRUMsTUFBaEUsRUFBd0VDLE1BQXhFLEVBQWdGQyxFQUFoRixFQUFvRkMsS0FBcEYsRUFBMkZDLEVBQTNGLEVBQStGO0FBQ3JHLGNBQVFULE9BQVI7QUFFQyxhQUFLLENBQUw7QUFFQyxjQUFJUSxLQUFLLEtBQUssQ0FBVixJQUFlUCxPQUFPLENBQUNTLFVBQVIsQ0FBbUIsQ0FBbkIsTUFBMEIsRUFBN0MsRUFDQyxPQUFPakIsVUFBVSxDQUFDUSxPQUFPLEdBQUMsR0FBVCxDQUFWLEVBQXlCLEVBQWhDO0FBQ0Q7O0FBRUQsYUFBSyxDQUFMO0FBQ0MsY0FBSU0sRUFBRSxLQUFLLENBQVgsRUFDQyxPQUFPTixPQUFPLEdBQUdQLFNBQWpCO0FBQ0Q7O0FBRUQsYUFBSyxDQUFMO0FBQ0Msa0JBQVFhLEVBQVI7QUFFQyxpQkFBSyxHQUFMO0FBQ0EsaUJBQUssR0FBTDtBQUNDLHFCQUFPZCxVQUFVLENBQUNTLFNBQVMsQ0FBQyxDQUFELENBQVQsR0FBYUQsT0FBZCxDQUFWLEVBQWtDLEVBQXpDOztBQUNEO0FBQ0MscUJBQU9BLE9BQU8sSUFBSVEsRUFBRSxLQUFLLENBQVAsR0FBV2YsU0FBWCxHQUF1QixFQUEzQixDQUFkO0FBTkY7O0FBUUQsYUFBSyxDQUFDLENBQU47QUFDQ08sVUFBQUEsT0FBTyxDQUFDVSxLQUFSLENBQWNoQixNQUFkLEVBQXNCaUIsT0FBdEIsQ0FBOEJoQixPQUE5QjtBQXZCRjtBQXlCQSxLQTFCRDtBQTJCQSxHQXRDRDtBQXVDQSxDQS9DQSxDQUFEIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IChtb2R1bGVbJ2V4cG9ydHMnXSA9IGZhY3RvcnkoKSkgOlxuXHRcdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSA/IGRlZmluZShmYWN0b3J5KCkpIDpcblx0XHRcdCh3aW5kb3dbJ3N0eWxpc1J1bGVTaGVldCddID0gZmFjdG9yeSgpKVxufShmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbnNlcnRSdWxlKSB7XG5cdFx0dmFyIGRlbGltaXRlciA9ICcvKnwqLydcblx0XHR2YXIgbmVlZGxlID0gZGVsaW1pdGVyKyd9J1xuXG5cdFx0ZnVuY3Rpb24gdG9TaGVldCAoYmxvY2spIHtcblx0XHRcdGlmIChibG9jaylcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpbnNlcnRSdWxlKGJsb2NrICsgJ30nKVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblxuXHRcdHJldHVybiBmdW5jdGlvbiBydWxlU2hlZXQgKGNvbnRleHQsIGNvbnRlbnQsIHNlbGVjdG9ycywgcGFyZW50cywgbGluZSwgY29sdW1uLCBsZW5ndGgsIG5zLCBkZXB0aCwgYXQpIHtcblx0XHRcdHN3aXRjaCAoY29udGV4dCkge1xuXHRcdFx0XHQvLyBwcm9wZXJ0eVxuXHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0Ly8gQGltcG9ydFxuXHRcdFx0XHRcdGlmIChkZXB0aCA9PT0gMCAmJiBjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDY0KVxuXHRcdFx0XHRcdFx0cmV0dXJuIGluc2VydFJ1bGUoY29udGVudCsnOycpLCAnJ1xuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdC8vIHNlbGVjdG9yXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAobnMgPT09IDApXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGVudCArIGRlbGltaXRlclxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdC8vIGF0LXJ1bGVcblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN3aXRjaCAobnMpIHtcblx0XHRcdFx0XHRcdC8vIEBmb250LWZhY2UsIEBwYWdlXG5cdFx0XHRcdFx0XHRjYXNlIDEwMjpcblx0XHRcdFx0XHRcdGNhc2UgMTEyOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaW5zZXJ0UnVsZShzZWxlY3RvcnNbMF0rY29udGVudCksICcnXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGVudCArIChhdCA9PT0gMCA/IGRlbGltaXRlciA6ICcnKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0Y2FzZSAtMjpcblx0XHRcdFx0XHRjb250ZW50LnNwbGl0KG5lZWRsZSkuZm9yRWFjaCh0b1NoZWV0KVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSkpXG4iXX0=