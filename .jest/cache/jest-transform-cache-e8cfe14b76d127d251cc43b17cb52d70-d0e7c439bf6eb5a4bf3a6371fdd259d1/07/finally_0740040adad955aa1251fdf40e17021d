079733a21324cfdb4cc27e297597dfec
'use strict';

var Promise = require('./core.js');

module.exports = Promise;

Promise.prototype['finally'] = function (f) {
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmFsbHkuanMiXSwibmFtZXMiOlsiUHJvbWlzZSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdG90eXBlIiwiZiIsInRoZW4iLCJ2YWx1ZSIsInJlc29sdmUiLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBckI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsT0FBakI7O0FBQ0FBLE9BQU8sQ0FBQ0ksU0FBUixDQUFrQixTQUFsQixJQUErQixVQUFVQyxDQUFWLEVBQWE7QUFDMUMsU0FBTyxLQUFLQyxJQUFMLENBQVUsVUFBVUMsS0FBVixFQUFpQjtBQUNoQyxXQUFPUCxPQUFPLENBQUNRLE9BQVIsQ0FBZ0JILENBQUMsRUFBakIsRUFBcUJDLElBQXJCLENBQTBCLFlBQVk7QUFDM0MsYUFBT0MsS0FBUDtBQUNELEtBRk0sQ0FBUDtBQUdELEdBSk0sRUFJSixVQUFVRSxHQUFWLEVBQWU7QUFDaEIsV0FBT1QsT0FBTyxDQUFDUSxPQUFSLENBQWdCSCxDQUFDLEVBQWpCLEVBQXFCQyxJQUFyQixDQUEwQixZQUFZO0FBQzNDLFlBQU1HLEdBQU47QUFDRCxLQUZNLENBQVA7QUFHRCxHQVJNLENBQVA7QUFTRCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gZnVuY3Rpb24gKGYpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufTtcbiJdfQ==