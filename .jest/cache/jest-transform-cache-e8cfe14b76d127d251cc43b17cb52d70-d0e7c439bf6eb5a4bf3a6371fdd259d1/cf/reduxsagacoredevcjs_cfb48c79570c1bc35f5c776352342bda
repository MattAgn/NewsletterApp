b72b9c052e1d1a2cfd005f7ec753d477
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopDefault(ex) {
  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;
}

var symbols = require('@redux-saga/symbols');

var _extends = _interopDefault(require('@babel/runtime/helpers/extends'));

var _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));

var is = require('@redux-saga/is');

var __chunk_1 = require('./chunk-774a4f38.js');

var redux = require('redux');

var deferred = _interopDefault(require('@redux-saga/deferred'));

require('@redux-saga/delay-p');

var queue = [];
var semaphore = 0;

function exec(task) {
  try {
    suspend();
    task();
  } finally {
    release();
  }
}

function asap(task) {
  queue.push(task);

  if (!semaphore) {
    suspend();
    flush();
  }
}

function immediately(task) {
  try {
    suspend();
    return task();
  } finally {
    flush();
  }
}

function suspend() {
  semaphore++;
}

function release() {
  semaphore--;
}

function flush() {
  release();
  var task;

  while (!semaphore && (task = queue.shift()) !== undefined) {
    exec(task);
  }
}

var array = function array(patterns) {
  return function (input) {
    return patterns.some(function (p) {
      return matcher(p)(input);
    });
  };
};

var predicate = function predicate(_predicate) {
  return function (input) {
    return _predicate(input);
  };
};

var string = function string(pattern) {
  return function (input) {
    return input.type === String(pattern);
  };
};

var symbol = function symbol(pattern) {
  return function (input) {
    return input.type === pattern;
  };
};

var wildcard = function wildcard() {
  return __chunk_1.kTrue;
};

function matcher(pattern) {
  var matcherCreator = pattern === '*' ? wildcard : is.string(pattern) ? string : is.array(pattern) ? array : is.stringableFunc(pattern) ? string : is.func(pattern) ? predicate : is.symbol(pattern) ? symbol : null;

  if (matcherCreator === null) {
    throw new Error("invalid pattern: " + pattern);
  }

  return matcherCreator(pattern);
}

var END = {
  type: symbols.CHANNEL_END_TYPE
};

var isEnd = function isEnd(a) {
  return a && a.type === symbols.CHANNEL_END_TYPE;
};

var CLOSED_CHANNEL_WITH_TAKERS = 'Cannot have a closed channel with pending takers';
var INVALID_BUFFER = 'invalid buffer passed to channel factory function';
var UNDEFINED_INPUT_ERROR = "Saga or channel was provided with an undefined action\nHints:\n  - check that your Action Creator returns a non-undefined value\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners";

function channel(buffer) {
  if (buffer === void 0) {
    buffer = __chunk_1.expanding();
  }

  var closed = false;
  var takers = [];
  {
    __chunk_1.check(buffer, is.buffer, INVALID_BUFFER);
  }

  function checkForbiddenStates() {
    if (closed && takers.length) {
      throw __chunk_1.internalErr(CLOSED_CHANNEL_WITH_TAKERS);
    }

    if (takers.length && !buffer.isEmpty()) {
      throw __chunk_1.internalErr('Cannot have pending takers with non empty buffer');
    }
  }

  function put(input) {
    {
      checkForbiddenStates();

      __chunk_1.check(input, is.notUndef, UNDEFINED_INPUT_ERROR);
    }

    if (closed) {
      return;
    }

    if (takers.length === 0) {
      return buffer.put(input);
    }

    var cb = takers.shift();
    cb(input);
  }

  function take(cb) {
    {
      checkForbiddenStates();

      __chunk_1.check(cb, is.func, "channel.take's callback must be a function");
    }

    if (closed && buffer.isEmpty()) {
      cb(END);
    } else if (!buffer.isEmpty()) {
      cb(buffer.take());
    } else {
      takers.push(cb);

      cb.cancel = function () {
        __chunk_1.remove(takers, cb);
      };
    }
  }

  function flush(cb) {
    {
      checkForbiddenStates();

      __chunk_1.check(cb, is.func, "channel.flush' callback must be a function");
    }

    if (closed && buffer.isEmpty()) {
      cb(END);
      return;
    }

    cb(buffer.flush());
  }

  function close() {
    {
      checkForbiddenStates();
    }

    if (closed) {
      return;
    }

    closed = true;
    var arr = takers;
    takers = [];

    for (var i = 0, len = arr.length; i < len; i++) {
      var taker = arr[i];
      taker(END);
    }
  }

  return {
    take: take,
    put: put,
    flush: flush,
    close: close
  };
}

function eventChannel(subscribe, buffer) {
  if (buffer === void 0) {
    buffer = __chunk_1.none();
  }

  var closed = false;
  var unsubscribe;
  var chan = channel(buffer);

  var close = function close() {
    if (closed) {
      return;
    }

    closed = true;

    if (is.func(unsubscribe)) {
      unsubscribe();
    }

    chan.close();
  };

  unsubscribe = subscribe(function (input) {
    if (isEnd(input)) {
      close();
      return;
    }

    chan.put(input);
  });
  {
    __chunk_1.check(unsubscribe, is.func, 'in eventChannel: subscribe should return a function to unsubscribe');
  }
  unsubscribe = __chunk_1.once(unsubscribe);

  if (closed) {
    unsubscribe();
  }

  return {
    take: chan.take,
    flush: chan.flush,
    close: close
  };
}

function multicastChannel() {
  var _ref;

  var closed = false;
  var currentTakers = [];
  var nextTakers = currentTakers;

  function checkForbiddenStates() {
    if (closed && nextTakers.length) {
      throw __chunk_1.internalErr(CLOSED_CHANNEL_WITH_TAKERS);
    }
  }

  var ensureCanMutateNextTakers = function ensureCanMutateNextTakers() {
    if (nextTakers !== currentTakers) {
      return;
    }

    nextTakers = currentTakers.slice();
  };

  var close = function close() {
    {
      checkForbiddenStates();
    }
    closed = true;
    var takers = currentTakers = nextTakers;
    nextTakers = [];
    takers.forEach(function (taker) {
      taker(END);
    });
  };

  return _ref = {}, _ref[symbols.MULTICAST] = true, _ref.put = function put(input) {
    {
      checkForbiddenStates();

      __chunk_1.check(input, is.notUndef, UNDEFINED_INPUT_ERROR);
    }

    if (closed) {
      return;
    }

    if (isEnd(input)) {
      close();
      return;
    }

    var takers = currentTakers = nextTakers;

    for (var i = 0, len = takers.length; i < len; i++) {
      var taker = takers[i];

      if (taker[symbols.MATCH](input)) {
        taker.cancel();
        taker(input);
      }
    }
  }, _ref.take = function take(cb, matcher) {
    if (matcher === void 0) {
      matcher = wildcard;
    }

    {
      checkForbiddenStates();
    }

    if (closed) {
      cb(END);
      return;
    }

    cb[symbols.MATCH] = matcher;
    ensureCanMutateNextTakers();
    nextTakers.push(cb);
    cb.cancel = __chunk_1.once(function () {
      ensureCanMutateNextTakers();

      __chunk_1.remove(nextTakers, cb);
    });
  }, _ref.close = close, _ref;
}

function stdChannel() {
  var chan = multicastChannel();
  var put = chan.put;

  chan.put = function (input) {
    if (input[symbols.SAGA_ACTION]) {
      put(input);
      return;
    }

    asap(function () {
      put(input);
    });
  };

  return chan;
}

var RUNNING = 0;
var CANCELLED = 1;
var ABORTED = 2;
var DONE = 3;

function resolvePromise(promise, cb) {
  var cancelPromise = promise[symbols.CANCEL];

  if (is.func(cancelPromise)) {
    cb.cancel = cancelPromise;
  }

  promise.then(cb, function (error) {
    cb(error, true);
  });
}

var current = 0;

var nextEffectId = function nextEffectId() {
  return ++current;
};

var _effectRunnerMap;

function getIteratorMetaInfo(iterator, fn) {
  if (iterator.isSagaIterator) {
    return {
      name: iterator.meta.name
    };
  }

  return __chunk_1.getMetaInfo(fn);
}

function createTaskIterator(_ref) {
  var context = _ref.context,
      fn = _ref.fn,
      args = _ref.args;

  try {
    var result = fn.apply(context, args);

    if (is.iterator(result)) {
      return result;
    }

    var resolved = false;

    var next = function next(arg) {
      if (!resolved) {
        resolved = true;
        return {
          value: result,
          done: !is.promise(result)
        };
      } else {
        return {
          value: arg,
          done: true
        };
      }
    };

    return __chunk_1.makeIterator(next);
  } catch (err) {
    return __chunk_1.makeIterator(function () {
      throw err;
    });
  }
}

function runPutEffect(env, _ref2, cb) {
  var channel = _ref2.channel,
      action = _ref2.action,
      resolve = _ref2.resolve;
  asap(function () {
    var result;

    try {
      result = (channel ? channel.put : env.dispatch)(action);
    } catch (error) {
      cb(error, true);
      return;
    }

    if (resolve && is.promise(result)) {
      resolvePromise(result, cb);
    } else {
      cb(result);
    }
  });
}

function runTakeEffect(env, _ref3, cb) {
  var _ref3$channel = _ref3.channel,
      channel = _ref3$channel === void 0 ? env.channel : _ref3$channel,
      pattern = _ref3.pattern,
      maybe = _ref3.maybe;

  var takeCb = function takeCb(input) {
    if (input instanceof Error) {
      cb(input, true);
      return;
    }

    if (isEnd(input) && !maybe) {
      cb(symbols.TERMINATE);
      return;
    }

    cb(input);
  };

  try {
    channel.take(takeCb, is.notUndef(pattern) ? matcher(pattern) : null);
  } catch (err) {
    cb(err, true);
    return;
  }

  cb.cancel = takeCb.cancel;
}

function runCallEffect(env, _ref4, cb, _ref5) {
  var context = _ref4.context,
      fn = _ref4.fn,
      args = _ref4.args;
  var task = _ref5.task;

  try {
    var result = fn.apply(context, args);

    if (is.promise(result)) {
      resolvePromise(result, cb);
      return;
    }

    if (is.iterator(result)) {
      proc(env, result, task.context, current, __chunk_1.getMetaInfo(fn), false, cb);
      return;
    }

    cb(result);
  } catch (error) {
    cb(error, true);
  }
}

function runCPSEffect(env, _ref6, cb) {
  var context = _ref6.context,
      fn = _ref6.fn,
      args = _ref6.args;

  try {
    var cpsCb = function cpsCb(err, res) {
      if (is.undef(err)) {
        cb(res);
      } else {
        cb(err, true);
      }
    };

    fn.apply(context, args.concat(cpsCb));

    if (cpsCb.cancel) {
      cb.cancel = cpsCb.cancel;
    }
  } catch (error) {
    cb(error, true);
  }
}

function runForkEffect(env, _ref7, cb, _ref8) {
  var context = _ref7.context,
      fn = _ref7.fn,
      args = _ref7.args,
      detached = _ref7.detached;
  var parent = _ref8.task;
  var taskIterator = createTaskIterator({
    context: context,
    fn: fn,
    args: args
  });
  var meta = getIteratorMetaInfo(taskIterator, fn);
  immediately(function () {
    var child = proc(env, taskIterator, parent.context, current, meta, detached, __chunk_1.noop);

    if (detached) {
      cb(child);
    } else {
      if (child.isRunning()) {
        parent.queue.addTask(child);
        cb(child);
      } else if (child.isAborted()) {
        parent.queue.abort(child.error());
      } else {
        cb(child);
      }
    }
  });
}

function runJoinEffect(env, taskOrTasks, cb, _ref9) {
  var task = _ref9.task;

  var joinSingleTask = function joinSingleTask(taskToJoin, cb) {
    if (taskToJoin.isRunning()) {
      var joiner = {
        task: task,
        cb: cb
      };

      cb.cancel = function () {
        if (taskToJoin.isRunning()) __chunk_1.remove(taskToJoin.joiners, joiner);
      };

      taskToJoin.joiners.push(joiner);
    } else {
      if (taskToJoin.isAborted()) {
        cb(taskToJoin.error(), true);
      } else {
        cb(taskToJoin.result());
      }
    }
  };

  if (is.array(taskOrTasks)) {
    if (taskOrTasks.length === 0) {
      cb([]);
      return;
    }

    var childCallbacks = __chunk_1.createAllStyleChildCallbacks(taskOrTasks, cb);

    taskOrTasks.forEach(function (t, i) {
      joinSingleTask(t, childCallbacks[i]);
    });
  } else {
    joinSingleTask(taskOrTasks, cb);
  }
}

function cancelSingleTask(taskToCancel) {
  if (taskToCancel.isRunning()) {
    taskToCancel.cancel();
  }
}

function runCancelEffect(env, taskOrTasks, cb, _ref10) {
  var task = _ref10.task;

  if (taskOrTasks === symbols.SELF_CANCELLATION) {
    cancelSingleTask(task);
  } else if (is.array(taskOrTasks)) {
    taskOrTasks.forEach(cancelSingleTask);
  } else {
    cancelSingleTask(taskOrTasks);
  }

  cb();
}

function runAllEffect(env, effects, cb, _ref11) {
  var digestEffect = _ref11.digestEffect;
  var effectId = current;
  var keys = Object.keys(effects);

  if (keys.length === 0) {
    cb(is.array(effects) ? [] : {});
    return;
  }

  var childCallbacks = __chunk_1.createAllStyleChildCallbacks(effects, cb);

  keys.forEach(function (key) {
    digestEffect(effects[key], effectId, childCallbacks[key], key);
  });
}

function runRaceEffect(env, effects, cb, _ref12) {
  var digestEffect = _ref12.digestEffect;
  var effectId = current;
  var keys = Object.keys(effects);
  var response = is.array(effects) ? __chunk_1.createEmptyArray(keys.length) : {};
  var childCbs = {};
  var completed = false;
  keys.forEach(function (key) {
    var chCbAtKey = function chCbAtKey(res, isErr) {
      if (completed) {
        return;
      }

      if (isErr || __chunk_1.shouldComplete(res)) {
        cb.cancel();
        cb(res, isErr);
      } else {
        cb.cancel();
        completed = true;
        response[key] = res;
        cb(response);
      }
    };

    chCbAtKey.cancel = __chunk_1.noop;
    childCbs[key] = chCbAtKey;
  });

  cb.cancel = function () {
    if (!completed) {
      completed = true;
      keys.forEach(function (key) {
        return childCbs[key].cancel();
      });
    }
  };

  keys.forEach(function (key) {
    if (completed) {
      return;
    }

    digestEffect(effects[key], effectId, childCbs[key], key);
  });
}

function runSelectEffect(env, _ref13, cb) {
  var selector = _ref13.selector,
      args = _ref13.args;

  try {
    var state = selector.apply(void 0, [env.getState()].concat(args));
    cb(state);
  } catch (error) {
    cb(error, true);
  }
}

function runChannelEffect(env, _ref14, cb) {
  var pattern = _ref14.pattern,
      buffer = _ref14.buffer;
  var chan = channel(buffer);
  var match = matcher(pattern);

  var taker = function taker(action) {
    if (!isEnd(action)) {
      env.channel.take(taker, match);
    }

    chan.put(action);
  };

  var close = chan.close;

  chan.close = function () {
    taker.cancel();
    close();
  };

  env.channel.take(taker, match);
  cb(chan);
}

function runCancelledEffect(env, data, cb, _ref15) {
  var task = _ref15.task;
  cb(task.isCancelled());
}

function runFlushEffect(env, channel, cb) {
  channel.flush(cb);
}

function runGetContextEffect(env, prop, cb, _ref16) {
  var task = _ref16.task;
  cb(task.context[prop]);
}

function runSetContextEffect(env, props, cb, _ref17) {
  var task = _ref17.task;

  __chunk_1.assignWithSymbols(task.context, props);

  cb();
}

var effectRunnerMap = (_effectRunnerMap = {}, _effectRunnerMap[__chunk_1.TAKE] = runTakeEffect, _effectRunnerMap[__chunk_1.PUT] = runPutEffect, _effectRunnerMap[__chunk_1.ALL] = runAllEffect, _effectRunnerMap[__chunk_1.RACE] = runRaceEffect, _effectRunnerMap[__chunk_1.CALL] = runCallEffect, _effectRunnerMap[__chunk_1.CPS] = runCPSEffect, _effectRunnerMap[__chunk_1.FORK] = runForkEffect, _effectRunnerMap[__chunk_1.JOIN] = runJoinEffect, _effectRunnerMap[__chunk_1.CANCEL] = runCancelEffect, _effectRunnerMap[__chunk_1.SELECT] = runSelectEffect, _effectRunnerMap[__chunk_1.ACTION_CHANNEL] = runChannelEffect, _effectRunnerMap[__chunk_1.CANCELLED] = runCancelledEffect, _effectRunnerMap[__chunk_1.FLUSH] = runFlushEffect, _effectRunnerMap[__chunk_1.GET_CONTEXT] = runGetContextEffect, _effectRunnerMap[__chunk_1.SET_CONTEXT] = runSetContextEffect, _effectRunnerMap);

function forkQueue(mainTask, onAbort, cont) {
  var tasks = [];
  var result;
  var completed = false;
  addTask(mainTask);

  var getTasks = function getTasks() {
    return tasks;
  };

  function abort(err) {
    onAbort();
    cancelAll();
    cont(err, true);
  }

  function addTask(task) {
    tasks.push(task);

    task.cont = function (res, isErr) {
      if (completed) {
        return;
      }

      __chunk_1.remove(tasks, task);

      task.cont = __chunk_1.noop;

      if (isErr) {
        abort(res);
      } else {
        if (task === mainTask) {
          result = res;
        }

        if (!tasks.length) {
          completed = true;
          cont(result);
        }
      }
    };
  }

  function cancelAll() {
    if (completed) {
      return;
    }

    completed = true;
    tasks.forEach(function (t) {
      t.cont = __chunk_1.noop;
      t.cancel();
    });
    tasks = [];
  }

  return {
    addTask: addTask,
    cancelAll: cancelAll,
    abort: abort,
    getTasks: getTasks
  };
}

function formatLocation(fileName, lineNumber) {
  return fileName + "?" + lineNumber;
}

function effectLocationAsString(effect) {
  var location = __chunk_1.getLocation(effect);

  if (location) {
    var code = location.code,
        fileName = location.fileName,
        lineNumber = location.lineNumber;
    var source = code + "  " + formatLocation(fileName, lineNumber);
    return source;
  }

  return '';
}

function sagaLocationAsString(sagaMeta) {
  var name = sagaMeta.name,
      location = sagaMeta.location;

  if (location) {
    return name + "  " + formatLocation(location.fileName, location.lineNumber);
  }

  return name;
}

function cancelledTasksAsString(sagaStack) {
  var cancelledTasks = __chunk_1.flatMap(function (i) {
    return i.cancelledTasks;
  }, sagaStack);

  if (!cancelledTasks.length) {
    return '';
  }

  return ['Tasks cancelled due to error:'].concat(cancelledTasks).join('\n');
}

var crashedEffect = null;
var sagaStack = [];

var addSagaFrame = function addSagaFrame(frame) {
  frame.crashedEffect = crashedEffect;
  sagaStack.push(frame);
};

var clear = function clear() {
  crashedEffect = null;
  sagaStack.length = 0;
};

var setCrashedEffect = function setCrashedEffect(effect) {
  crashedEffect = effect;
};

var toString = function toString() {
  var firstSaga = sagaStack[0],
      otherSagas = sagaStack.slice(1);
  var crashedEffectLocation = firstSaga.crashedEffect ? effectLocationAsString(firstSaga.crashedEffect) : null;
  var errorMessage = "The above error occurred in task " + sagaLocationAsString(firstSaga.meta) + (crashedEffectLocation ? " \n when executing effect " + crashedEffectLocation : '');
  return [errorMessage].concat(otherSagas.map(function (s) {
    return "    created by " + sagaLocationAsString(s.meta);
  }), [cancelledTasksAsString(sagaStack)]).join('\n');
};

function newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont) {
  var _task;

  var status = RUNNING;
  var taskResult;
  var taskError;
  var deferredEnd = null;
  var cancelledDueToErrorTasks = [];
  var context = Object.create(parentContext);
  var queue = forkQueue(mainTask, function onAbort() {
    cancelledDueToErrorTasks.push.apply(cancelledDueToErrorTasks, queue.getTasks().map(function (t) {
      return t.meta.name;
    }));
  }, end);

  function cancel() {
    if (status === RUNNING) {
      status = CANCELLED;
      queue.cancelAll();
      end(symbols.TASK_CANCEL, false);
    }
  }

  function end(result, isErr) {
    if (!isErr) {
      if (result === symbols.TASK_CANCEL) {
        status = CANCELLED;
      } else if (status !== CANCELLED) {
        status = DONE;
      }

      taskResult = result;
      deferredEnd && deferredEnd.resolve(result);
    } else {
      status = ABORTED;
      addSagaFrame({
        meta: meta,
        cancelledTasks: cancelledDueToErrorTasks
      });

      if (task.isRoot) {
        var sagaStack = toString();
        clear();
        env.onError(result, {
          sagaStack: sagaStack
        });
      }

      taskError = result;
      deferredEnd && deferredEnd.reject(result);
    }

    task.cont(result, isErr);
    task.joiners.forEach(function (joiner) {
      joiner.cb(result, isErr);
    });
    task.joiners = null;
  }

  function setContext(props) {
    {
      __chunk_1.check(props, is.object, __chunk_1.createSetContextWarning('task', props));
    }

    __chunk_1.assignWithSymbols(context, props);
  }

  function toPromise() {
    if (deferredEnd) {
      return deferredEnd.promise;
    }

    deferredEnd = deferred();

    if (status === ABORTED) {
      deferredEnd.reject(taskError);
    } else if (status !== RUNNING) {
      deferredEnd.resolve(taskResult);
    }

    return deferredEnd.promise;
  }

  var task = (_task = {}, _task[symbols.TASK] = true, _task.id = parentEffectId, _task.meta = meta, _task.isRoot = isRoot, _task.context = context, _task.joiners = [], _task.queue = queue, _task.cancel = cancel, _task.cont = cont, _task.end = end, _task.setContext = setContext, _task.toPromise = toPromise, _task.isRunning = function isRunning() {
    return status === RUNNING;
  }, _task.isCancelled = function isCancelled() {
    return status === CANCELLED || status === RUNNING && mainTask.status === CANCELLED;
  }, _task.isAborted = function isAborted() {
    return status === ABORTED;
  }, _task.result = function result() {
    return taskResult;
  }, _task.error = function error() {
    return taskError;
  }, _task);
  return task;
}

function proc(env, iterator, parentContext, parentEffectId, meta, isRoot, cont) {
  if (iterator[__chunk_1.asyncIteratorSymbol]) {
    throw new Error("redux-saga doesn't support async generators, please use only regular ones");
  }

  var finalRunEffect = env.finalizeRunEffect(runEffect);
  next.cancel = __chunk_1.noop;
  var mainTask = {
    meta: meta,
    cancel: cancelMain,
    status: RUNNING
  };
  var task = newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont);
  var executingContext = {
    task: task,
    digestEffect: digestEffect
  };

  function cancelMain() {
    if (mainTask.status === RUNNING) {
      mainTask.status = CANCELLED;
      next(symbols.TASK_CANCEL);
    }
  }

  cont.cancel = task.cancel;
  next();
  return task;

  function next(arg, isErr) {
    try {
      var result;

      if (isErr) {
        result = iterator.throw(arg);
        clear();
      } else if (__chunk_1.shouldCancel(arg)) {
        mainTask.status = CANCELLED;
        next.cancel();
        result = is.func(iterator.return) ? iterator.return(symbols.TASK_CANCEL) : {
          done: true,
          value: symbols.TASK_CANCEL
        };
      } else if (__chunk_1.shouldTerminate(arg)) {
        result = is.func(iterator.return) ? iterator.return() : {
          done: true
        };
      } else {
        result = iterator.next(arg);
      }

      if (!result.done) {
        digestEffect(result.value, parentEffectId, next);
      } else {
        if (mainTask.status !== CANCELLED) {
          mainTask.status = DONE;
        }

        mainTask.cont(result.value);
      }
    } catch (error) {
      if (mainTask.status === CANCELLED) {
        throw error;
      }

      mainTask.status = ABORTED;
      mainTask.cont(error, true);
    }
  }

  function runEffect(effect, effectId, currCb) {
    if (is.promise(effect)) {
      resolvePromise(effect, currCb);
    } else if (is.iterator(effect)) {
      proc(env, effect, task.context, effectId, meta, false, currCb);
    } else if (effect && effect[symbols.IO]) {
      var effectRunner = effectRunnerMap[effect.type];
      effectRunner(env, effect.payload, currCb, executingContext);
    } else {
      currCb(effect);
    }
  }

  function digestEffect(effect, parentEffectId, cb, label) {
    if (label === void 0) {
      label = '';
    }

    var effectId = nextEffectId();
    env.sagaMonitor && env.sagaMonitor.effectTriggered({
      effectId: effectId,
      parentEffectId: parentEffectId,
      label: label,
      effect: effect
    });
    var effectSettled;

    function currCb(res, isErr) {
      if (effectSettled) {
        return;
      }

      effectSettled = true;
      cb.cancel = __chunk_1.noop;

      if (env.sagaMonitor) {
        if (isErr) {
          env.sagaMonitor.effectRejected(effectId, res);
        } else {
          env.sagaMonitor.effectResolved(effectId, res);
        }
      }

      if (isErr) {
        setCrashedEffect(effect);
      }

      cb(res, isErr);
    }

    currCb.cancel = __chunk_1.noop;

    cb.cancel = function () {
      if (effectSettled) {
        return;
      }

      effectSettled = true;
      currCb.cancel();
      currCb.cancel = __chunk_1.noop;
      env.sagaMonitor && env.sagaMonitor.effectCancelled(effectId);
    };

    finalRunEffect(effect, effectId, currCb);
  }
}

var RUN_SAGA_SIGNATURE = 'runSaga(options, saga, ...args)';
var NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + ": saga argument must be a Generator function!";

function runSaga(_ref, saga) {
  var _ref$channel = _ref.channel,
      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,
      dispatch = _ref.dispatch,
      getState = _ref.getState,
      _ref$context = _ref.context,
      context = _ref$context === void 0 ? {} : _ref$context,
      sagaMonitor = _ref.sagaMonitor,
      effectMiddlewares = _ref.effectMiddlewares,
      _ref$onError = _ref.onError,
      onError = _ref$onError === void 0 ? __chunk_1.logError : _ref$onError;

  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  {
    __chunk_1.check(saga, is.func, NON_GENERATOR_ERR);
  }
  var iterator = saga.apply(void 0, args);
  {
    __chunk_1.check(iterator, is.iterator, NON_GENERATOR_ERR);
  }
  var effectId = nextEffectId();

  if (sagaMonitor) {
    sagaMonitor.rootSagaStarted = sagaMonitor.rootSagaStarted || __chunk_1.noop;
    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || __chunk_1.noop;
    sagaMonitor.effectResolved = sagaMonitor.effectResolved || __chunk_1.noop;
    sagaMonitor.effectRejected = sagaMonitor.effectRejected || __chunk_1.noop;
    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || __chunk_1.noop;
    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || __chunk_1.noop;
    sagaMonitor.rootSagaStarted({
      effectId: effectId,
      saga: saga,
      args: args
    });
  }

  {
    if (is.notUndef(dispatch)) {
      __chunk_1.check(dispatch, is.func, 'dispatch must be a function');
    }

    if (is.notUndef(getState)) {
      __chunk_1.check(getState, is.func, 'getState must be a function');
    }

    if (is.notUndef(effectMiddlewares)) {
      var MIDDLEWARE_TYPE_ERROR = 'effectMiddlewares must be an array of functions';

      __chunk_1.check(effectMiddlewares, is.array, MIDDLEWARE_TYPE_ERROR);

      effectMiddlewares.forEach(function (effectMiddleware) {
        return __chunk_1.check(effectMiddleware, is.func, MIDDLEWARE_TYPE_ERROR);
      });
    }

    __chunk_1.check(onError, is.func, 'onError passed to the redux-saga is not a function!');
  }
  var finalizeRunEffect;

  if (effectMiddlewares) {
    var middleware = redux.compose.apply(void 0, effectMiddlewares);

    finalizeRunEffect = function finalizeRunEffect(runEffect) {
      return function (effect, effectId, currCb) {
        var plainRunEffect = function plainRunEffect(eff) {
          return runEffect(eff, effectId, currCb);
        };

        return middleware(plainRunEffect)(effect);
      };
    };
  } else {
    finalizeRunEffect = __chunk_1.identity;
  }

  var env = {
    channel: channel,
    dispatch: __chunk_1.wrapSagaDispatch(dispatch),
    getState: getState,
    sagaMonitor: sagaMonitor,
    onError: onError,
    finalizeRunEffect: finalizeRunEffect
  };
  return immediately(function () {
    var task = proc(env, iterator, context, effectId, __chunk_1.getMetaInfo(saga), true, __chunk_1.noop);

    if (sagaMonitor) {
      sagaMonitor.effectResolved(effectId, task);
    }

    return task;
  });
}

function sagaMiddlewareFactory(_ref) {
  if (_ref === void 0) {
    _ref = {};
  }

  var _ref2 = _ref,
      _ref2$context = _ref2.context,
      context = _ref2$context === void 0 ? {} : _ref2$context,
      _ref2$channel = _ref2.channel,
      channel = _ref2$channel === void 0 ? stdChannel() : _ref2$channel,
      sagaMonitor = _ref2.sagaMonitor,
      options = _objectWithoutPropertiesLoose(_ref2, ["context", "channel", "sagaMonitor"]);

  var boundRunSaga;
  {
    __chunk_1.check(channel, is.channel, 'options.channel passed to the Saga middleware is not a channel');
  }

  function sagaMiddleware(_ref3) {
    var getState = _ref3.getState,
        dispatch = _ref3.dispatch;
    boundRunSaga = runSaga.bind(null, _extends({}, options, {
      context: context,
      channel: channel,
      dispatch: dispatch,
      getState: getState,
      sagaMonitor: sagaMonitor
    }));
    return function (next) {
      return function (action) {
        if (sagaMonitor && sagaMonitor.actionDispatched) {
          sagaMonitor.actionDispatched(action);
        }

        var result = next(action);
        channel.put(action);
        return result;
      };
    };
  }

  sagaMiddleware.run = function () {
    if (!boundRunSaga) {
      throw new Error('Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware');
    }

    return boundRunSaga.apply(void 0, arguments);
  };

  sagaMiddleware.setContext = function (props) {
    {
      __chunk_1.check(props, is.object, __chunk_1.createSetContextWarning('sagaMiddleware', props));
    }

    __chunk_1.assignWithSymbols(context, props);
  };

  return sagaMiddleware;
}

exports.CANCEL = symbols.CANCEL;
exports.SAGA_LOCATION = symbols.SAGA_LOCATION;
exports.buffers = __chunk_1.buffers;
exports.detach = __chunk_1.detach;
exports.default = sagaMiddlewareFactory;
exports.runSaga = runSaga;
exports.END = END;
exports.isEnd = isEnd;
exports.eventChannel = eventChannel;
exports.channel = channel;
exports.multicastChannel = multicastChannel;
exports.stdChannel = stdChannel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZHV4LXNhZ2EtY29yZS5kZXYuY2pzLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2ludGVyb3BEZWZhdWx0IiwiZXgiLCJzeW1ib2xzIiwicmVxdWlyZSIsIl9leHRlbmRzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJpcyIsIl9fY2h1bmtfMSIsInJlZHV4IiwiZGVmZXJyZWQiLCJxdWV1ZSIsInNlbWFwaG9yZSIsImV4ZWMiLCJ0YXNrIiwic3VzcGVuZCIsInJlbGVhc2UiLCJhc2FwIiwicHVzaCIsImZsdXNoIiwiaW1tZWRpYXRlbHkiLCJzaGlmdCIsInVuZGVmaW5lZCIsImFycmF5IiwicGF0dGVybnMiLCJpbnB1dCIsInNvbWUiLCJwIiwibWF0Y2hlciIsInByZWRpY2F0ZSIsIl9wcmVkaWNhdGUiLCJzdHJpbmciLCJwYXR0ZXJuIiwidHlwZSIsIlN0cmluZyIsInN5bWJvbCIsIndpbGRjYXJkIiwia1RydWUiLCJtYXRjaGVyQ3JlYXRvciIsInN0cmluZ2FibGVGdW5jIiwiZnVuYyIsIkVycm9yIiwiRU5EIiwiQ0hBTk5FTF9FTkRfVFlQRSIsImlzRW5kIiwiYSIsIkNMT1NFRF9DSEFOTkVMX1dJVEhfVEFLRVJTIiwiSU5WQUxJRF9CVUZGRVIiLCJVTkRFRklORURfSU5QVVRfRVJST1IiLCJjaGFubmVsIiwiYnVmZmVyIiwiZXhwYW5kaW5nIiwiY2xvc2VkIiwidGFrZXJzIiwiY2hlY2siLCJjaGVja0ZvcmJpZGRlblN0YXRlcyIsImxlbmd0aCIsImludGVybmFsRXJyIiwiaXNFbXB0eSIsInB1dCIsIm5vdFVuZGVmIiwiY2IiLCJ0YWtlIiwiY2FuY2VsIiwicmVtb3ZlIiwiY2xvc2UiLCJhcnIiLCJpIiwibGVuIiwidGFrZXIiLCJldmVudENoYW5uZWwiLCJzdWJzY3JpYmUiLCJub25lIiwidW5zdWJzY3JpYmUiLCJjaGFuIiwib25jZSIsIm11bHRpY2FzdENoYW5uZWwiLCJfcmVmIiwiY3VycmVudFRha2VycyIsIm5leHRUYWtlcnMiLCJlbnN1cmVDYW5NdXRhdGVOZXh0VGFrZXJzIiwic2xpY2UiLCJmb3JFYWNoIiwiTVVMVElDQVNUIiwiTUFUQ0giLCJzdGRDaGFubmVsIiwiU0FHQV9BQ1RJT04iLCJSVU5OSU5HIiwiQ0FOQ0VMTEVEIiwiQUJPUlRFRCIsIkRPTkUiLCJyZXNvbHZlUHJvbWlzZSIsInByb21pc2UiLCJjYW5jZWxQcm9taXNlIiwiQ0FOQ0VMIiwidGhlbiIsImVycm9yIiwiY3VycmVudCIsIm5leHRFZmZlY3RJZCIsIl9lZmZlY3RSdW5uZXJNYXAiLCJnZXRJdGVyYXRvck1ldGFJbmZvIiwiaXRlcmF0b3IiLCJmbiIsImlzU2FnYUl0ZXJhdG9yIiwibmFtZSIsIm1ldGEiLCJnZXRNZXRhSW5mbyIsImNyZWF0ZVRhc2tJdGVyYXRvciIsImNvbnRleHQiLCJhcmdzIiwicmVzdWx0IiwiYXBwbHkiLCJyZXNvbHZlZCIsIm5leHQiLCJhcmciLCJkb25lIiwibWFrZUl0ZXJhdG9yIiwiZXJyIiwicnVuUHV0RWZmZWN0IiwiZW52IiwiX3JlZjIiLCJhY3Rpb24iLCJyZXNvbHZlIiwiZGlzcGF0Y2giLCJydW5UYWtlRWZmZWN0IiwiX3JlZjMiLCJfcmVmMyRjaGFubmVsIiwibWF5YmUiLCJ0YWtlQ2IiLCJURVJNSU5BVEUiLCJydW5DYWxsRWZmZWN0IiwiX3JlZjQiLCJfcmVmNSIsInByb2MiLCJydW5DUFNFZmZlY3QiLCJfcmVmNiIsImNwc0NiIiwicmVzIiwidW5kZWYiLCJjb25jYXQiLCJydW5Gb3JrRWZmZWN0IiwiX3JlZjciLCJfcmVmOCIsImRldGFjaGVkIiwicGFyZW50IiwidGFza0l0ZXJhdG9yIiwiY2hpbGQiLCJub29wIiwiaXNSdW5uaW5nIiwiYWRkVGFzayIsImlzQWJvcnRlZCIsImFib3J0IiwicnVuSm9pbkVmZmVjdCIsInRhc2tPclRhc2tzIiwiX3JlZjkiLCJqb2luU2luZ2xlVGFzayIsInRhc2tUb0pvaW4iLCJqb2luZXIiLCJqb2luZXJzIiwiY2hpbGRDYWxsYmFja3MiLCJjcmVhdGVBbGxTdHlsZUNoaWxkQ2FsbGJhY2tzIiwidCIsImNhbmNlbFNpbmdsZVRhc2siLCJ0YXNrVG9DYW5jZWwiLCJydW5DYW5jZWxFZmZlY3QiLCJfcmVmMTAiLCJTRUxGX0NBTkNFTExBVElPTiIsInJ1bkFsbEVmZmVjdCIsImVmZmVjdHMiLCJfcmVmMTEiLCJkaWdlc3RFZmZlY3QiLCJlZmZlY3RJZCIsImtleXMiLCJrZXkiLCJydW5SYWNlRWZmZWN0IiwiX3JlZjEyIiwicmVzcG9uc2UiLCJjcmVhdGVFbXB0eUFycmF5IiwiY2hpbGRDYnMiLCJjb21wbGV0ZWQiLCJjaENiQXRLZXkiLCJpc0VyciIsInNob3VsZENvbXBsZXRlIiwicnVuU2VsZWN0RWZmZWN0IiwiX3JlZjEzIiwic2VsZWN0b3IiLCJzdGF0ZSIsImdldFN0YXRlIiwicnVuQ2hhbm5lbEVmZmVjdCIsIl9yZWYxNCIsIm1hdGNoIiwicnVuQ2FuY2VsbGVkRWZmZWN0IiwiZGF0YSIsIl9yZWYxNSIsImlzQ2FuY2VsbGVkIiwicnVuRmx1c2hFZmZlY3QiLCJydW5HZXRDb250ZXh0RWZmZWN0IiwicHJvcCIsIl9yZWYxNiIsInJ1blNldENvbnRleHRFZmZlY3QiLCJwcm9wcyIsIl9yZWYxNyIsImFzc2lnbldpdGhTeW1ib2xzIiwiZWZmZWN0UnVubmVyTWFwIiwiVEFLRSIsIlBVVCIsIkFMTCIsIlJBQ0UiLCJDQUxMIiwiQ1BTIiwiRk9SSyIsIkpPSU4iLCJTRUxFQ1QiLCJBQ1RJT05fQ0hBTk5FTCIsIkZMVVNIIiwiR0VUX0NPTlRFWFQiLCJTRVRfQ09OVEVYVCIsImZvcmtRdWV1ZSIsIm1haW5UYXNrIiwib25BYm9ydCIsImNvbnQiLCJ0YXNrcyIsImdldFRhc2tzIiwiY2FuY2VsQWxsIiwiZm9ybWF0TG9jYXRpb24iLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJlZmZlY3RMb2NhdGlvbkFzU3RyaW5nIiwiZWZmZWN0IiwibG9jYXRpb24iLCJnZXRMb2NhdGlvbiIsImNvZGUiLCJzb3VyY2UiLCJzYWdhTG9jYXRpb25Bc1N0cmluZyIsInNhZ2FNZXRhIiwiY2FuY2VsbGVkVGFza3NBc1N0cmluZyIsInNhZ2FTdGFjayIsImNhbmNlbGxlZFRhc2tzIiwiZmxhdE1hcCIsImpvaW4iLCJjcmFzaGVkRWZmZWN0IiwiYWRkU2FnYUZyYW1lIiwiZnJhbWUiLCJjbGVhciIsInNldENyYXNoZWRFZmZlY3QiLCJ0b1N0cmluZyIsImZpcnN0U2FnYSIsIm90aGVyU2FnYXMiLCJjcmFzaGVkRWZmZWN0TG9jYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJtYXAiLCJzIiwibmV3VGFzayIsInBhcmVudENvbnRleHQiLCJwYXJlbnRFZmZlY3RJZCIsImlzUm9vdCIsIl90YXNrIiwic3RhdHVzIiwidGFza1Jlc3VsdCIsInRhc2tFcnJvciIsImRlZmVycmVkRW5kIiwiY2FuY2VsbGVkRHVlVG9FcnJvclRhc2tzIiwiY3JlYXRlIiwiZW5kIiwiVEFTS19DQU5DRUwiLCJvbkVycm9yIiwicmVqZWN0Iiwic2V0Q29udGV4dCIsIm9iamVjdCIsImNyZWF0ZVNldENvbnRleHRXYXJuaW5nIiwidG9Qcm9taXNlIiwiVEFTSyIsImlkIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImZpbmFsUnVuRWZmZWN0IiwiZmluYWxpemVSdW5FZmZlY3QiLCJydW5FZmZlY3QiLCJjYW5jZWxNYWluIiwiZXhlY3V0aW5nQ29udGV4dCIsInRocm93Iiwic2hvdWxkQ2FuY2VsIiwicmV0dXJuIiwic2hvdWxkVGVybWluYXRlIiwiY3VyckNiIiwiSU8iLCJlZmZlY3RSdW5uZXIiLCJwYXlsb2FkIiwibGFiZWwiLCJzYWdhTW9uaXRvciIsImVmZmVjdFRyaWdnZXJlZCIsImVmZmVjdFNldHRsZWQiLCJlZmZlY3RSZWplY3RlZCIsImVmZmVjdFJlc29sdmVkIiwiZWZmZWN0Q2FuY2VsbGVkIiwiUlVOX1NBR0FfU0lHTkFUVVJFIiwiTk9OX0dFTkVSQVRPUl9FUlIiLCJydW5TYWdhIiwic2FnYSIsIl9yZWYkY2hhbm5lbCIsIl9yZWYkY29udGV4dCIsImVmZmVjdE1pZGRsZXdhcmVzIiwiX3JlZiRvbkVycm9yIiwibG9nRXJyb3IiLCJfbGVuIiwiYXJndW1lbnRzIiwiQXJyYXkiLCJfa2V5Iiwicm9vdFNhZ2FTdGFydGVkIiwiYWN0aW9uRGlzcGF0Y2hlZCIsIk1JRERMRVdBUkVfVFlQRV9FUlJPUiIsImVmZmVjdE1pZGRsZXdhcmUiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsInBsYWluUnVuRWZmZWN0IiwiZWZmIiwiaWRlbnRpdHkiLCJ3cmFwU2FnYURpc3BhdGNoIiwic2FnYU1pZGRsZXdhcmVGYWN0b3J5IiwiX3JlZjIkY29udGV4dCIsIl9yZWYyJGNoYW5uZWwiLCJvcHRpb25zIiwiYm91bmRSdW5TYWdhIiwic2FnYU1pZGRsZXdhcmUiLCJiaW5kIiwicnVuIiwiU0FHQV9MT0NBVElPTiIsImJ1ZmZlcnMiLCJkZXRhY2giLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUFFQyxFQUFBQSxLQUFLLEVBQUU7QUFBVCxDQUE3Qzs7QUFFQSxTQUFTQyxlQUFULENBQTBCQyxFQUExQixFQUE4QjtBQUFFLFNBQVFBLEVBQUUsSUFBSyxPQUFPQSxFQUFQLEtBQWMsUUFBckIsSUFBa0MsYUFBYUEsRUFBaEQsR0FBc0RBLEVBQUUsQ0FBQyxTQUFELENBQXhELEdBQXNFQSxFQUE3RTtBQUFrRjs7QUFFbEgsSUFBSUMsT0FBTyxHQUFHQyxPQUFPLENBQUMscUJBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsUUFBUSxHQUFHSixlQUFlLENBQUNHLE9BQU8sQ0FBQyxnQ0FBRCxDQUFSLENBQTlCOztBQUNBLElBQUlFLDZCQUE2QixHQUFHTCxlQUFlLENBQUNHLE9BQU8sQ0FBQyxxREFBRCxDQUFSLENBQW5EOztBQUNBLElBQUlHLEVBQUUsR0FBR0gsT0FBTyxDQUFDLGdCQUFELENBQWhCOztBQUNBLElBQUlJLFNBQVMsR0FBR0osT0FBTyxDQUFDLHFCQUFELENB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RUFBb0RyRSxLQUFwRCxDQUFsQztBQUNEOztBQUVEaE0sSUFBQUEsU0FBUyxDQUFDa00saUJBQVYsQ0FBNEI5RixPQUE1QixFQUFxQzRGLEtBQXJDO0FBQ0QsR0FORDs7QUFRQSxTQUFPMEgsY0FBUDtBQUNEOztBQUVEblUsT0FBTyxDQUFDK0YsTUFBUixHQUFpQjNGLE9BQU8sQ0FBQzJGLE1BQXpCO0FBQ0EvRixPQUFPLENBQUNzVSxhQUFSLEdBQXdCbFUsT0FBTyxDQUFDa1UsYUFBaEM7QUFDQXRVLE9BQU8sQ0FBQ3VVLE9BQVIsR0FBa0I5VCxTQUFTLENBQUM4VCxPQUE1QjtBQUNBdlUsT0FBTyxDQUFDd1UsTUFBUixHQUFpQi9ULFNBQVMsQ0FBQytULE1BQTNCO0FBQ0F4VSxPQUFPLENBQUN5VSxPQUFSLEdBQWtCWCxxQkFBbEI7QUFDQTlULE9BQU8sQ0FBQ3lTLE9BQVIsR0FBa0JBLE9BQWxCO0FBQ0F6UyxPQUFPLENBQUMyQyxHQUFSLEdBQWNBLEdBQWQ7QUFDQTNDLE9BQU8sQ0FBQzZDLEtBQVIsR0FBZ0JBLEtBQWhCO0FBQ0E3QyxPQUFPLENBQUN1RSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBdkUsT0FBTyxDQUFDa0QsT0FBUixHQUFrQkEsT0FBbEI7QUFDQWxELE9BQU8sQ0FBQzZFLGdCQUFSLEdBQTJCQSxnQkFBM0I7QUFDQTdFLE9BQU8sQ0FBQ3NGLFVBQVIsR0FBcUJBLFVBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIHN5bWJvbHMgPSByZXF1aXJlKCdAcmVkdXgtc2FnYS9zeW1ib2xzJyk7XG52YXIgX2V4dGVuZHMgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJykpO1xudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZScpKTtcbnZhciBpcyA9IHJlcXVpcmUoJ0ByZWR1eC1zYWdhL2lzJyk7XG52YXIgX19jaHVua18xID0gcmVxdWlyZSgnLi9jaHVuay03NzRhNGYzOC5qcycpO1xudmFyIHJlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcbnZhciBkZWZlcnJlZCA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdAcmVkdXgtc2FnYS9kZWZlcnJlZCcpKTtcbnJlcXVpcmUoJ0ByZWR1eC1zYWdhL2RlbGF5LXAnKTtcblxudmFyIHF1ZXVlID0gW107XG4vKipcbiAgVmFyaWFibGUgdG8gaG9sZCBhIGNvdW50aW5nIHNlbWFwaG9yZVxuICAtIEluY3JlbWVudGluZyBhZGRzIGEgbG9jayBhbmQgcHV0cyB0aGUgc2NoZWR1bGVyIGluIGEgYHN1c3BlbmRlZGAgc3RhdGUgKGlmIGl0J3Mgbm90XG4gICAgYWxyZWFkeSBzdXNwZW5kZWQpXG4gIC0gRGVjcmVtZW50aW5nIHJlbGVhc2VzIGEgbG9jay4gWmVybyBsb2NrcyBwdXRzIHRoZSBzY2hlZHVsZXIgaW4gYSBgcmVsZWFzZWRgIHN0YXRlLiBUaGlzXG4gICAgdHJpZ2dlcnMgZmx1c2hpbmcgdGhlIHF1ZXVlZCB0YXNrcy5cbioqL1xuXG52YXIgc2VtYXBob3JlID0gMDtcbi8qKlxuICBFeGVjdXRlcyBhIHRhc2sgJ2F0b21pY2FsbHknLiBUYXNrcyBzY2hlZHVsZWQgZHVyaW5nIHRoaXMgZXhlY3V0aW9uIHdpbGwgYmUgcXVldWVkXG4gIGFuZCBmbHVzaGVkIGFmdGVyIHRoaXMgdGFzayBoYXMgZmluaXNoZWQgKGFzc3VtaW5nIHRoZSBzY2hlZHVsZXIgZW5kdXAgaW4gYSByZWxlYXNlZFxuICBzdGF0ZSkuXG4qKi9cblxuZnVuY3Rpb24gZXhlYyh0YXNrKSB7XG4gIHRyeSB7XG4gICAgc3VzcGVuZCgpO1xuICAgIHRhc2soKTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZWxlYXNlKCk7XG4gIH1cbn1cbi8qKlxuICBFeGVjdXRlcyBvciBxdWV1ZXMgYSB0YXNrIGRlcGVuZGluZyBvbiB0aGUgc3RhdGUgb2YgdGhlIHNjaGVkdWxlciAoYHN1c3BlbmRlZGAgb3IgYHJlbGVhc2VkYClcbioqL1xuXG5cbmZ1bmN0aW9uIGFzYXAodGFzaykge1xuICBxdWV1ZS5wdXNoKHRhc2spO1xuXG4gIGlmICghc2VtYXBob3JlKSB7XG4gICAgc3VzcGVuZCgpO1xuICAgIGZsdXNoKCk7XG4gIH1cbn1cbi8qKlxuICogUHV0cyB0aGUgc2NoZWR1bGVyIGluIGEgYHN1c3BlbmRlZGAgc3RhdGUgYW5kIGV4ZWN1dGVzIGEgdGFzayBpbW1lZGlhdGVseS5cbiAqL1xuXG5mdW5jdGlvbiBpbW1lZGlhdGVseSh0YXNrKSB7XG4gIHRyeSB7XG4gICAgc3VzcGVuZCgpO1xuICAgIHJldHVybiB0YXNrKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZmx1c2goKTtcbiAgfVxufVxuLyoqXG4gIFB1dHMgdGhlIHNjaGVkdWxlciBpbiBhIGBzdXNwZW5kZWRgIHN0YXRlLiBTY2hlZHVsZWQgdGFza3Mgd2lsbCBiZSBxdWV1ZWQgdW50aWwgdGhlXG4gIHNjaGVkdWxlciBpcyByZWxlYXNlZC5cbioqL1xuXG5mdW5jdGlvbiBzdXNwZW5kKCkge1xuICBzZW1hcGhvcmUrKztcbn1cbi8qKlxuICBQdXRzIHRoZSBzY2hlZHVsZXIgaW4gYSBgcmVsZWFzZWRgIHN0YXRlLlxuKiovXG5cblxuZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgc2VtYXBob3JlLS07XG59XG4vKipcbiAgUmVsZWFzZXMgdGhlIGN1cnJlbnQgbG9jay4gRXhlY3V0ZXMgYWxsIHF1ZXVlZCB0YXNrcyBpZiB0aGUgc2NoZWR1bGVyIGlzIGluIHRoZSByZWxlYXNlZCBzdGF0ZS5cbioqL1xuXG5cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICByZWxlYXNlKCk7XG4gIHZhciB0YXNrO1xuXG4gIHdoaWxlICghc2VtYXBob3JlICYmICh0YXNrID0gcXVldWUuc2hpZnQoKSkgIT09IHVuZGVmaW5lZCkge1xuICAgIGV4ZWModGFzayk7XG4gIH1cbn1cblxudmFyIGFycmF5ID0gZnVuY3Rpb24gYXJyYXkocGF0dGVybnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiBwYXR0ZXJucy5zb21lKGZ1bmN0aW9uIChwKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcihwKShpbnB1dCk7XG4gICAgfSk7XG4gIH07XG59O1xudmFyIHByZWRpY2F0ZSA9IGZ1bmN0aW9uIHByZWRpY2F0ZShfcHJlZGljYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gX3ByZWRpY2F0ZShpbnB1dCk7XG4gIH07XG59O1xudmFyIHN0cmluZyA9IGZ1bmN0aW9uIHN0cmluZyhwYXR0ZXJuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQudHlwZSA9PT0gU3RyaW5nKHBhdHRlcm4pO1xuICB9O1xufTtcbnZhciBzeW1ib2wgPSBmdW5jdGlvbiBzeW1ib2wocGF0dGVybikge1xuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0LnR5cGUgPT09IHBhdHRlcm47XG4gIH07XG59O1xudmFyIHdpbGRjYXJkID0gZnVuY3Rpb24gd2lsZGNhcmQoKSB7XG4gIHJldHVybiBfX2NodW5rXzEua1RydWU7XG59O1xuZnVuY3Rpb24gbWF0Y2hlcihwYXR0ZXJuKSB7XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICB2YXIgbWF0Y2hlckNyZWF0b3IgPSBwYXR0ZXJuID09PSAnKicgPyB3aWxkY2FyZCA6IGlzLnN0cmluZyhwYXR0ZXJuKSA/IHN0cmluZyA6IGlzLmFycmF5KHBhdHRlcm4pID8gYXJyYXkgOiBpcy5zdHJpbmdhYmxlRnVuYyhwYXR0ZXJuKSA/IHN0cmluZyA6IGlzLmZ1bmMocGF0dGVybikgPyBwcmVkaWNhdGUgOiBpcy5zeW1ib2wocGF0dGVybikgPyBzeW1ib2wgOiBudWxsO1xuXG4gIGlmIChtYXRjaGVyQ3JlYXRvciA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGF0dGVybjogXCIgKyBwYXR0ZXJuKTtcbiAgfVxuXG4gIHJldHVybiBtYXRjaGVyQ3JlYXRvcihwYXR0ZXJuKTtcbn1cblxudmFyIEVORCA9IHtcbiAgdHlwZTogc3ltYm9scy5DSEFOTkVMX0VORF9UWVBFXG59O1xudmFyIGlzRW5kID0gZnVuY3Rpb24gaXNFbmQoYSkge1xuICByZXR1cm4gYSAmJiBhLnR5cGUgPT09IHN5bWJvbHMuQ0hBTk5FTF9FTkRfVFlQRTtcbn07XG52YXIgQ0xPU0VEX0NIQU5ORUxfV0lUSF9UQUtFUlMgPSAnQ2Fubm90IGhhdmUgYSBjbG9zZWQgY2hhbm5lbCB3aXRoIHBlbmRpbmcgdGFrZXJzJztcbnZhciBJTlZBTElEX0JVRkZFUiA9ICdpbnZhbGlkIGJ1ZmZlciBwYXNzZWQgdG8gY2hhbm5lbCBmYWN0b3J5IGZ1bmN0aW9uJztcbnZhciBVTkRFRklORURfSU5QVVRfRVJST1IgPSBcIlNhZ2Egb3IgY2hhbm5lbCB3YXMgcHJvdmlkZWQgd2l0aCBhbiB1bmRlZmluZWQgYWN0aW9uXFxuSGludHM6XFxuICAtIGNoZWNrIHRoYXQgeW91ciBBY3Rpb24gQ3JlYXRvciByZXR1cm5zIGEgbm9uLXVuZGVmaW5lZCB2YWx1ZVxcbiAgLSBpZiB0aGUgU2FnYSB3YXMgc3RhcnRlZCB1c2luZyBydW5TYWdhLCBjaGVjayB0aGF0IHlvdXIgc3Vic2NyaWJlIHNvdXJjZSBwcm92aWRlcyB0aGUgYWN0aW9uIHRvIGl0cyBsaXN0ZW5lcnNcIjtcbmZ1bmN0aW9uIGNoYW5uZWwoYnVmZmVyKSB7XG4gIGlmIChidWZmZXIgPT09IHZvaWQgMCkge1xuICAgIGJ1ZmZlciA9IF9fY2h1bmtfMS5leHBhbmRpbmcoKTtcbiAgfVxuXG4gIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgdmFyIHRha2VycyA9IFtdO1xuXG4gIHtcbiAgICBfX2NodW5rXzEuY2hlY2soYnVmZmVyLCBpcy5idWZmZXIsIElOVkFMSURfQlVGRkVSKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCkge1xuICAgIGlmIChjbG9zZWQgJiYgdGFrZXJzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgX19jaHVua18xLmludGVybmFsRXJyKENMT1NFRF9DSEFOTkVMX1dJVEhfVEFLRVJTKTtcbiAgICB9XG5cbiAgICBpZiAodGFrZXJzLmxlbmd0aCAmJiAhYnVmZmVyLmlzRW1wdHkoKSkge1xuICAgICAgdGhyb3cgX19jaHVua18xLmludGVybmFsRXJyKCdDYW5ub3QgaGF2ZSBwZW5kaW5nIHRha2VycyB3aXRoIG5vbiBlbXB0eSBidWZmZXInKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwdXQoaW5wdXQpIHtcbiAgICB7XG4gICAgICBjaGVja0ZvcmJpZGRlblN0YXRlcygpO1xuICAgICAgX19jaHVua18xLmNoZWNrKGlucHV0LCBpcy5ub3RVbmRlZiwgVU5ERUZJTkVEX0lOUFVUX0VSUk9SKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRha2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZmZXIucHV0KGlucHV0KTtcbiAgICB9XG5cbiAgICB2YXIgY2IgPSB0YWtlcnMuc2hpZnQoKTtcbiAgICBjYihpbnB1dCk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWtlKGNiKSB7XG4gICAge1xuICAgICAgY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKTtcbiAgICAgIF9fY2h1bmtfMS5jaGVjayhjYiwgaXMuZnVuYywgXCJjaGFubmVsLnRha2UncyBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCAmJiBidWZmZXIuaXNFbXB0eSgpKSB7XG4gICAgICBjYihFTkQpO1xuICAgIH0gZWxzZSBpZiAoIWJ1ZmZlci5pc0VtcHR5KCkpIHtcbiAgICAgIGNiKGJ1ZmZlci50YWtlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWtlcnMucHVzaChjYik7XG5cbiAgICAgIGNiLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19jaHVua18xLnJlbW92ZSh0YWtlcnMsIGNiKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goY2IpIHtcbiAgICB7XG4gICAgICBjaGVja0ZvcmJpZGRlblN0YXRlcygpO1xuICAgICAgX19jaHVua18xLmNoZWNrKGNiLCBpcy5mdW5jLCBcImNoYW5uZWwuZmx1c2gnIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkICYmIGJ1ZmZlci5pc0VtcHR5KCkpIHtcbiAgICAgIGNiKEVORCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2IoYnVmZmVyLmZsdXNoKCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAge1xuICAgICAgY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgICB2YXIgYXJyID0gdGFrZXJzO1xuICAgIHRha2VycyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHRha2VyID0gYXJyW2ldO1xuICAgICAgdGFrZXIoRU5EKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRha2U6IHRha2UsXG4gICAgcHV0OiBwdXQsXG4gICAgZmx1c2g6IGZsdXNoLFxuICAgIGNsb3NlOiBjbG9zZVxuICB9O1xufVxuZnVuY3Rpb24gZXZlbnRDaGFubmVsKHN1YnNjcmliZSwgYnVmZmVyKSB7XG4gIGlmIChidWZmZXIgPT09IHZvaWQgMCkge1xuICAgIGJ1ZmZlciA9IF9fY2h1bmtfMS5ub25lKCk7XG4gIH1cblxuICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gIHZhciB1bnN1YnNjcmliZTtcbiAgdmFyIGNoYW4gPSBjaGFubmVsKGJ1ZmZlcik7XG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsb3NlZCA9IHRydWU7XG5cbiAgICBpZiAoaXMuZnVuYyh1bnN1YnNjcmliZSkpIHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgY2hhbi5jbG9zZSgpO1xuICB9O1xuXG4gIHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGlmIChpc0VuZChpbnB1dCkpIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbi5wdXQoaW5wdXQpO1xuICB9KTtcblxuICB7XG4gICAgX19jaHVua18xLmNoZWNrKHVuc3Vic2NyaWJlLCBpcy5mdW5jLCAnaW4gZXZlbnRDaGFubmVsOiBzdWJzY3JpYmUgc2hvdWxkIHJldHVybiBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlJyk7XG4gIH1cblxuICB1bnN1YnNjcmliZSA9IF9fY2h1bmtfMS5vbmNlKHVuc3Vic2NyaWJlKTtcblxuICBpZiAoY2xvc2VkKSB7XG4gICAgdW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGFrZTogY2hhbi50YWtlLFxuICAgIGZsdXNoOiBjaGFuLmZsdXNoLFxuICAgIGNsb3NlOiBjbG9zZVxuICB9O1xufVxuZnVuY3Rpb24gbXVsdGljYXN0Q2hhbm5lbCgpIHtcbiAgdmFyIF9yZWY7XG5cbiAgdmFyIGNsb3NlZCA9IGZhbHNlO1xuICB2YXIgY3VycmVudFRha2VycyA9IFtdO1xuICB2YXIgbmV4dFRha2VycyA9IGN1cnJlbnRUYWtlcnM7XG5cbiAgZnVuY3Rpb24gY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKSB7XG4gICAgaWYgKGNsb3NlZCAmJiBuZXh0VGFrZXJzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgX19jaHVua18xLmludGVybmFsRXJyKENMT1NFRF9DSEFOTkVMX1dJVEhfVEFLRVJTKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZW5zdXJlQ2FuTXV0YXRlTmV4dFRha2VycyA9IGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRUYWtlcnMoKSB7XG4gICAgaWYgKG5leHRUYWtlcnMgIT09IGN1cnJlbnRUYWtlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuZXh0VGFrZXJzID0gY3VycmVudFRha2Vycy5zbGljZSgpO1xuICB9O1xuXG4gIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgfVxuXG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgICB2YXIgdGFrZXJzID0gY3VycmVudFRha2VycyA9IG5leHRUYWtlcnM7XG4gICAgbmV4dFRha2VycyA9IFtdO1xuICAgIHRha2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0YWtlcikge1xuICAgICAgdGFrZXIoRU5EKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW3N5bWJvbHMuTVVMVElDQVNUXSA9IHRydWUsIF9yZWYucHV0ID0gZnVuY3Rpb24gcHV0KGlucHV0KSB7XG4gICAge1xuICAgICAgY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKTtcbiAgICAgIF9fY2h1bmtfMS5jaGVjayhpbnB1dCwgaXMubm90VW5kZWYsIFVOREVGSU5FRF9JTlBVVF9FUlJPUik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0VuZChpbnB1dCkpIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRha2VycyA9IGN1cnJlbnRUYWtlcnMgPSBuZXh0VGFrZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRha2Vycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHRha2VyID0gdGFrZXJzW2ldO1xuXG4gICAgICBpZiAodGFrZXJbc3ltYm9scy5NQVRDSF0oaW5wdXQpKSB7XG4gICAgICAgIHRha2VyLmNhbmNlbCgpO1xuICAgICAgICB0YWtlcihpbnB1dCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfcmVmLnRha2UgPSBmdW5jdGlvbiB0YWtlKGNiLCBtYXRjaGVyKSB7XG4gICAgaWYgKG1hdGNoZXIgPT09IHZvaWQgMCkge1xuICAgICAgbWF0Y2hlciA9IHdpbGRjYXJkO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgY2IoRU5EKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYltzeW1ib2xzLk1BVENIXSA9IG1hdGNoZXI7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dFRha2VycygpO1xuICAgIG5leHRUYWtlcnMucHVzaChjYik7XG4gICAgY2IuY2FuY2VsID0gX19jaHVua18xLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dFRha2VycygpO1xuICAgICAgX19jaHVua18xLnJlbW92ZShuZXh0VGFrZXJzLCBjYik7XG4gICAgfSk7XG4gIH0sIF9yZWYuY2xvc2UgPSBjbG9zZSwgX3JlZjtcbn1cbmZ1bmN0aW9uIHN0ZENoYW5uZWwoKSB7XG4gIHZhciBjaGFuID0gbXVsdGljYXN0Q2hhbm5lbCgpO1xuICB2YXIgcHV0ID0gY2hhbi5wdXQ7XG5cbiAgY2hhbi5wdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXRbc3ltYm9scy5TQUdBX0FDVElPTl0pIHtcbiAgICAgIHB1dChpbnB1dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICBwdXQoaW5wdXQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBjaGFuO1xufVxuXG52YXIgUlVOTklORyA9IDA7XG52YXIgQ0FOQ0VMTEVEID0gMTtcbnZhciBBQk9SVEVEID0gMjtcbnZhciBET05FID0gMztcblxuZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgY2IpIHtcbiAgdmFyIGNhbmNlbFByb21pc2UgPSBwcm9taXNlW3N5bWJvbHMuQ0FOQ0VMXTtcblxuICBpZiAoaXMuZnVuYyhjYW5jZWxQcm9taXNlKSkge1xuICAgIGNiLmNhbmNlbCA9IGNhbmNlbFByb21pc2U7XG4gIH1cblxuICBwcm9taXNlLnRoZW4oY2IsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNiKGVycm9yLCB0cnVlKTtcbiAgfSk7XG59XG5cbnZhciBjdXJyZW50ID0gMDtcbnZhciBuZXh0RWZmZWN0SWQgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKytjdXJyZW50O1xufSk7XG5cbnZhciBfZWZmZWN0UnVubmVyTWFwO1xuXG5mdW5jdGlvbiBnZXRJdGVyYXRvck1ldGFJbmZvKGl0ZXJhdG9yLCBmbikge1xuICBpZiAoaXRlcmF0b3IuaXNTYWdhSXRlcmF0b3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaXRlcmF0b3IubWV0YS5uYW1lXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfX2NodW5rXzEuZ2V0TWV0YUluZm8oZm4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrSXRlcmF0b3IoX3JlZikge1xuICB2YXIgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIGZuID0gX3JlZi5mbixcbiAgICAgIGFyZ3MgPSBfcmVmLmFyZ3M7XG5cbiAgLy8gY2F0Y2ggc3luY2hyb25vdXMgZmFpbHVyZXM7IHNlZSAjMTUyIGFuZCAjNDQxXG4gIHRyeSB7XG4gICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpOyAvLyBpLmUuIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHJldHVybnMgYW4gaXRlcmF0b3JcblxuICAgIGlmIChpcy5pdGVyYXRvcihyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xuXG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGFyZykge1xuICAgICAgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICByZXNvbHZlZCA9IHRydWU7IC8vIE9ubHkgcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBmb3JrIHdpbGwgYmUgaW50ZXJwcmV0ZWQuIFNlZSAjMTU3M1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IHJlc3VsdCxcbiAgICAgICAgICBkb25lOiAhaXMucHJvbWlzZShyZXN1bHQpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiBhcmcsXG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX19jaHVua18xLm1ha2VJdGVyYXRvcihuZXh0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZG8gbm90IGJ1YmJsZSB1cCBzeW5jaHJvbm91cyBmYWlsdXJlcyBmb3IgZGV0YWNoZWQgZm9ya3NcbiAgICAvLyBpbnN0ZWFkIGNyZWF0ZSBhIGZhaWxlZCB0YXNrLiBTZWUgIzE1MiBhbmQgIzQ0MVxuICAgIHJldHVybiBfX2NodW5rXzEubWFrZUl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5QdXRFZmZlY3QoZW52LCBfcmVmMiwgY2IpIHtcbiAgdmFyIGNoYW5uZWwgPSBfcmVmMi5jaGFubmVsLFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uLFxuICAgICAgcmVzb2x2ZSA9IF9yZWYyLnJlc29sdmU7XG5cbiAgLyoqXG4gICBTY2hlZHVsZSB0aGUgcHV0IGluIGNhc2UgYW5vdGhlciBzYWdhIGlzIGhvbGRpbmcgYSBsb2NrLlxuICAgVGhlIHB1dCB3aWxsIGJlIGV4ZWN1dGVkIGF0b21pY2FsbHkuIGllIG5lc3RlZCBwdXRzIHdpbGwgZXhlY3V0ZSBhZnRlclxuICAgdGhpcyBwdXQgaGFzIHRlcm1pbmF0ZWQuXG4gICAqKi9cbiAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdDtcblxuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAoY2hhbm5lbCA/IGNoYW5uZWwucHV0IDogZW52LmRpc3BhdGNoKShhY3Rpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjYihlcnJvciwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmUgJiYgaXMucHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2IocmVzdWx0KTtcbiAgICB9XG4gIH0pOyAvLyBQdXQgZWZmZWN0cyBhcmUgbm9uIGNhbmNlbGxhYmxlc1xufVxuXG5mdW5jdGlvbiBydW5UYWtlRWZmZWN0KGVudiwgX3JlZjMsIGNiKSB7XG4gIHZhciBfcmVmMyRjaGFubmVsID0gX3JlZjMuY2hhbm5lbCxcbiAgICAgIGNoYW5uZWwgPSBfcmVmMyRjaGFubmVsID09PSB2b2lkIDAgPyBlbnYuY2hhbm5lbCA6IF9yZWYzJGNoYW5uZWwsXG4gICAgICBwYXR0ZXJuID0gX3JlZjMucGF0dGVybixcbiAgICAgIG1heWJlID0gX3JlZjMubWF5YmU7XG5cbiAgdmFyIHRha2VDYiA9IGZ1bmN0aW9uIHRha2VDYihpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjYihpbnB1dCwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRW5kKGlucHV0KSAmJiAhbWF5YmUpIHtcbiAgICAgIGNiKHN5bWJvbHMuVEVSTUlOQVRFKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYihpbnB1dCk7XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjaGFubmVsLnRha2UodGFrZUNiLCBpcy5ub3RVbmRlZihwYXR0ZXJuKSA/IG1hdGNoZXIocGF0dGVybikgOiBudWxsKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY2IoZXJyLCB0cnVlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjYi5jYW5jZWwgPSB0YWtlQ2IuY2FuY2VsO1xufVxuXG5mdW5jdGlvbiBydW5DYWxsRWZmZWN0KGVudiwgX3JlZjQsIGNiLCBfcmVmNSkge1xuICB2YXIgY29udGV4dCA9IF9yZWY0LmNvbnRleHQsXG4gICAgICBmbiA9IF9yZWY0LmZuLFxuICAgICAgYXJncyA9IF9yZWY0LmFyZ3M7XG4gIHZhciB0YXNrID0gX3JlZjUudGFzaztcblxuICAvLyBjYXRjaCBzeW5jaHJvbm91cyBmYWlsdXJlczsgc2VlICMxNTJcbiAgdHJ5IHtcbiAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG5cbiAgICBpZiAoaXMucHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXMuaXRlcmF0b3IocmVzdWx0KSkge1xuICAgICAgLy8gcmVzb2x2ZSBpdGVyYXRvclxuICAgICAgcHJvYyhlbnYsIHJlc3VsdCwgdGFzay5jb250ZXh0LCBjdXJyZW50LCBfX2NodW5rXzEuZ2V0TWV0YUluZm8oZm4pLFxuICAgICAgLyogaXNSb290ICovXG4gICAgICBmYWxzZSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNiKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2IoZXJyb3IsIHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1bkNQU0VmZmVjdChlbnYsIF9yZWY2LCBjYikge1xuICB2YXIgY29udGV4dCA9IF9yZWY2LmNvbnRleHQsXG4gICAgICBmbiA9IF9yZWY2LmZuLFxuICAgICAgYXJncyA9IF9yZWY2LmFyZ3M7XG5cbiAgLy8gQ1BTIChpZSBub2RlIHN0eWxlIGZ1bmN0aW9ucykgY2FuIGRlZmluZSB0aGVpciBvd24gY2FuY2VsbGF0aW9uIGxvZ2ljXG4gIC8vIGJ5IHNldHRpbmcgY2FuY2VsIGZpZWxkIG9uIHRoZSBjYlxuICAvLyBjYXRjaCBzeW5jaHJvbm91cyBmYWlsdXJlczsgc2VlICMxNTJcbiAgdHJ5IHtcbiAgICB2YXIgY3BzQ2IgPSBmdW5jdGlvbiBjcHNDYihlcnIsIHJlcykge1xuICAgICAgaWYgKGlzLnVuZGVmKGVycikpIHtcbiAgICAgICAgY2IocmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKGVyciwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KGNwc0NiKSk7XG5cbiAgICBpZiAoY3BzQ2IuY2FuY2VsKSB7XG4gICAgICBjYi5jYW5jZWwgPSBjcHNDYi5jYW5jZWw7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNiKGVycm9yLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5Gb3JrRWZmZWN0KGVudiwgX3JlZjcsIGNiLCBfcmVmOCkge1xuICB2YXIgY29udGV4dCA9IF9yZWY3LmNvbnRleHQsXG4gICAgICBmbiA9IF9yZWY3LmZuLFxuICAgICAgYXJncyA9IF9yZWY3LmFyZ3MsXG4gICAgICBkZXRhY2hlZCA9IF9yZWY3LmRldGFjaGVkO1xuICB2YXIgcGFyZW50ID0gX3JlZjgudGFzaztcbiAgdmFyIHRhc2tJdGVyYXRvciA9IGNyZWF0ZVRhc2tJdGVyYXRvcih7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICBmbjogZm4sXG4gICAgYXJnczogYXJnc1xuICB9KTtcbiAgdmFyIG1ldGEgPSBnZXRJdGVyYXRvck1ldGFJbmZvKHRhc2tJdGVyYXRvciwgZm4pO1xuICBpbW1lZGlhdGVseShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoaWxkID0gcHJvYyhlbnYsIHRhc2tJdGVyYXRvciwgcGFyZW50LmNvbnRleHQsIGN1cnJlbnQsIG1ldGEsIGRldGFjaGVkLCBfX2NodW5rXzEubm9vcCk7XG5cbiAgICBpZiAoZGV0YWNoZWQpIHtcbiAgICAgIGNiKGNoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNoaWxkLmlzUnVubmluZygpKSB7XG4gICAgICAgIHBhcmVudC5xdWV1ZS5hZGRUYXNrKGNoaWxkKTtcbiAgICAgICAgY2IoY2hpbGQpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZC5pc0Fib3J0ZWQoKSkge1xuICAgICAgICBwYXJlbnQucXVldWUuYWJvcnQoY2hpbGQuZXJyb3IoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYihjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9KTsgLy8gRm9yayBlZmZlY3RzIGFyZSBub24gY2FuY2VsbGFibGVzXG59XG5cbmZ1bmN0aW9uIHJ1bkpvaW5FZmZlY3QoZW52LCB0YXNrT3JUYXNrcywgY2IsIF9yZWY5KSB7XG4gIHZhciB0YXNrID0gX3JlZjkudGFzaztcblxuICB2YXIgam9pblNpbmdsZVRhc2sgPSBmdW5jdGlvbiBqb2luU2luZ2xlVGFzayh0YXNrVG9Kb2luLCBjYikge1xuICAgIGlmICh0YXNrVG9Kb2luLmlzUnVubmluZygpKSB7XG4gICAgICB2YXIgam9pbmVyID0ge1xuICAgICAgICB0YXNrOiB0YXNrLFxuICAgICAgICBjYjogY2JcbiAgICAgIH07XG5cbiAgICAgIGNiLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRhc2tUb0pvaW4uaXNSdW5uaW5nKCkpIF9fY2h1bmtfMS5yZW1vdmUodGFza1RvSm9pbi5qb2luZXJzLCBqb2luZXIpO1xuICAgICAgfTtcblxuICAgICAgdGFza1RvSm9pbi5qb2luZXJzLnB1c2goam9pbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRhc2tUb0pvaW4uaXNBYm9ydGVkKCkpIHtcbiAgICAgICAgY2IodGFza1RvSm9pbi5lcnJvcigpLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKHRhc2tUb0pvaW4ucmVzdWx0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBpZiAoaXMuYXJyYXkodGFza09yVGFza3MpKSB7XG4gICAgaWYgKHRhc2tPclRhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2IoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjaGlsZENhbGxiYWNrcyA9IF9fY2h1bmtfMS5jcmVhdGVBbGxTdHlsZUNoaWxkQ2FsbGJhY2tzKHRhc2tPclRhc2tzLCBjYik7XG4gICAgdGFza09yVGFza3MuZm9yRWFjaChmdW5jdGlvbiAodCwgaSkge1xuICAgICAgam9pblNpbmdsZVRhc2sodCwgY2hpbGRDYWxsYmFja3NbaV0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGpvaW5TaW5nbGVUYXNrKHRhc2tPclRhc2tzLCBjYik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsU2luZ2xlVGFzayh0YXNrVG9DYW5jZWwpIHtcbiAgaWYgKHRhc2tUb0NhbmNlbC5pc1J1bm5pbmcoKSkge1xuICAgIHRhc2tUb0NhbmNlbC5jYW5jZWwoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DYW5jZWxFZmZlY3QoZW52LCB0YXNrT3JUYXNrcywgY2IsIF9yZWYxMCkge1xuICB2YXIgdGFzayA9IF9yZWYxMC50YXNrO1xuXG4gIGlmICh0YXNrT3JUYXNrcyA9PT0gc3ltYm9scy5TRUxGX0NBTkNFTExBVElPTikge1xuICAgIGNhbmNlbFNpbmdsZVRhc2sodGFzayk7XG4gIH0gZWxzZSBpZiAoaXMuYXJyYXkodGFza09yVGFza3MpKSB7XG4gICAgdGFza09yVGFza3MuZm9yRWFjaChjYW5jZWxTaW5nbGVUYXNrKTtcbiAgfSBlbHNlIHtcbiAgICBjYW5jZWxTaW5nbGVUYXNrKHRhc2tPclRhc2tzKTtcbiAgfVxuXG4gIGNiKCk7IC8vIGNhbmNlbCBlZmZlY3RzIGFyZSBub24gY2FuY2VsbGFibGVzXG59XG5cbmZ1bmN0aW9uIHJ1bkFsbEVmZmVjdChlbnYsIGVmZmVjdHMsIGNiLCBfcmVmMTEpIHtcbiAgdmFyIGRpZ2VzdEVmZmVjdCA9IF9yZWYxMS5kaWdlc3RFZmZlY3Q7XG4gIHZhciBlZmZlY3RJZCA9IGN1cnJlbnQ7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZWZmZWN0cyk7XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgY2IoaXMuYXJyYXkoZWZmZWN0cykgPyBbXSA6IHt9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGRDYWxsYmFja3MgPSBfX2NodW5rXzEuY3JlYXRlQWxsU3R5bGVDaGlsZENhbGxiYWNrcyhlZmZlY3RzLCBjYik7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGlnZXN0RWZmZWN0KGVmZmVjdHNba2V5XSwgZWZmZWN0SWQsIGNoaWxkQ2FsbGJhY2tzW2tleV0sIGtleSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBydW5SYWNlRWZmZWN0KGVudiwgZWZmZWN0cywgY2IsIF9yZWYxMikge1xuICB2YXIgZGlnZXN0RWZmZWN0ID0gX3JlZjEyLmRpZ2VzdEVmZmVjdDtcbiAgdmFyIGVmZmVjdElkID0gY3VycmVudDtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhlZmZlY3RzKTtcbiAgdmFyIHJlc3BvbnNlID0gaXMuYXJyYXkoZWZmZWN0cykgPyBfX2NodW5rXzEuY3JlYXRlRW1wdHlBcnJheShrZXlzLmxlbmd0aCkgOiB7fTtcbiAgdmFyIGNoaWxkQ2JzID0ge307XG4gIHZhciBjb21wbGV0ZWQgPSBmYWxzZTtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY2hDYkF0S2V5ID0gZnVuY3Rpb24gY2hDYkF0S2V5KHJlcywgaXNFcnIpIHtcbiAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNFcnIgfHwgX19jaHVua18xLnNob3VsZENvbXBsZXRlKHJlcykpIHtcbiAgICAgICAgLy8gUmFjZSBBdXRvIGNhbmNlbGxhdGlvblxuICAgICAgICBjYi5jYW5jZWwoKTtcbiAgICAgICAgY2IocmVzLCBpc0Vycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYi5jYW5jZWwoKTtcbiAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzcG9uc2Vba2V5XSA9IHJlcztcbiAgICAgICAgY2IocmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaENiQXRLZXkuY2FuY2VsID0gX19jaHVua18xLm5vb3A7XG4gICAgY2hpbGRDYnNba2V5XSA9IGNoQ2JBdEtleTtcbiAgfSk7XG5cbiAgY2IuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHByZXZlbnRzIHVubmVjZXNzYXJ5IGNhbmNlbGxhdGlvblxuICAgIGlmICghY29tcGxldGVkKSB7XG4gICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkQ2JzW2tleV0uY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlnZXN0RWZmZWN0KGVmZmVjdHNba2V5XSwgZWZmZWN0SWQsIGNoaWxkQ2JzW2tleV0sIGtleSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBydW5TZWxlY3RFZmZlY3QoZW52LCBfcmVmMTMsIGNiKSB7XG4gIHZhciBzZWxlY3RvciA9IF9yZWYxMy5zZWxlY3RvcixcbiAgICAgIGFyZ3MgPSBfcmVmMTMuYXJncztcblxuICB0cnkge1xuICAgIHZhciBzdGF0ZSA9IHNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgW2Vudi5nZXRTdGF0ZSgpXS5jb25jYXQoYXJncykpO1xuICAgIGNiKHN0YXRlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjYihlcnJvciwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcnVuQ2hhbm5lbEVmZmVjdChlbnYsIF9yZWYxNCwgY2IpIHtcbiAgdmFyIHBhdHRlcm4gPSBfcmVmMTQucGF0dGVybixcbiAgICAgIGJ1ZmZlciA9IF9yZWYxNC5idWZmZXI7XG4gIHZhciBjaGFuID0gY2hhbm5lbChidWZmZXIpO1xuICB2YXIgbWF0Y2ggPSBtYXRjaGVyKHBhdHRlcm4pO1xuXG4gIHZhciB0YWtlciA9IGZ1bmN0aW9uIHRha2VyKGFjdGlvbikge1xuICAgIGlmICghaXNFbmQoYWN0aW9uKSkge1xuICAgICAgZW52LmNoYW5uZWwudGFrZSh0YWtlciwgbWF0Y2gpO1xuICAgIH1cblxuICAgIGNoYW4ucHV0KGFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGNsb3NlID0gY2hhbi5jbG9zZTtcblxuICBjaGFuLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIHRha2VyLmNhbmNlbCgpO1xuICAgIGNsb3NlKCk7XG4gIH07XG5cbiAgZW52LmNoYW5uZWwudGFrZSh0YWtlciwgbWF0Y2gpO1xuICBjYihjaGFuKTtcbn1cblxuZnVuY3Rpb24gcnVuQ2FuY2VsbGVkRWZmZWN0KGVudiwgZGF0YSwgY2IsIF9yZWYxNSkge1xuICB2YXIgdGFzayA9IF9yZWYxNS50YXNrO1xuICBjYih0YXNrLmlzQ2FuY2VsbGVkKCkpO1xufVxuXG5mdW5jdGlvbiBydW5GbHVzaEVmZmVjdChlbnYsIGNoYW5uZWwsIGNiKSB7XG4gIGNoYW5uZWwuZmx1c2goY2IpO1xufVxuXG5mdW5jdGlvbiBydW5HZXRDb250ZXh0RWZmZWN0KGVudiwgcHJvcCwgY2IsIF9yZWYxNikge1xuICB2YXIgdGFzayA9IF9yZWYxNi50YXNrO1xuICBjYih0YXNrLmNvbnRleHRbcHJvcF0pO1xufVxuXG5mdW5jdGlvbiBydW5TZXRDb250ZXh0RWZmZWN0KGVudiwgcHJvcHMsIGNiLCBfcmVmMTcpIHtcbiAgdmFyIHRhc2sgPSBfcmVmMTcudGFzaztcbiAgX19jaHVua18xLmFzc2lnbldpdGhTeW1ib2xzKHRhc2suY29udGV4dCwgcHJvcHMpO1xuICBjYigpO1xufVxuXG52YXIgZWZmZWN0UnVubmVyTWFwID0gKF9lZmZlY3RSdW5uZXJNYXAgPSB7fSwgX2VmZmVjdFJ1bm5lck1hcFtfX2NodW5rXzEuVEFLRV0gPSBydW5UYWtlRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5QVVRdID0gcnVuUHV0RWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5BTExdID0gcnVuQWxsRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5SQUNFXSA9IHJ1blJhY2VFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLkNBTExdID0gcnVuQ2FsbEVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtfX2NodW5rXzEuQ1BTXSA9IHJ1bkNQU0VmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtfX2NodW5rXzEuRk9SS10gPSBydW5Gb3JrRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5KT0lOXSA9IHJ1bkpvaW5FZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLkNBTkNFTF0gPSBydW5DYW5jZWxFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLlNFTEVDVF0gPSBydW5TZWxlY3RFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLkFDVElPTl9DSEFOTkVMXSA9IHJ1bkNoYW5uZWxFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLkNBTkNFTExFRF0gPSBydW5DYW5jZWxsZWRFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbX19jaHVua18xLkZMVVNIXSA9IHJ1bkZsdXNoRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5HRVRfQ09OVEVYVF0gPSBydW5HZXRDb250ZXh0RWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW19fY2h1bmtfMS5TRVRfQ09OVEVYVF0gPSBydW5TZXRDb250ZXh0RWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwKTtcblxuLyoqXG4gVXNlZCB0byB0cmFjayBhIHBhcmVudCB0YXNrIGFuZCBpdHMgZm9ya3NcbiBJbiB0aGUgZm9yayBtb2RlbCwgZm9ya2VkIHRhc2tzIGFyZSBhdHRhY2hlZCBieSBkZWZhdWx0IHRvIHRoZWlyIHBhcmVudFxuIFdlIG1vZGVsIHRoaXMgdXNpbmcgdGhlIGNvbmNlcHQgb2YgUGFyZW50IHRhc2sgJiYgbWFpbiBUYXNrXG4gbWFpbiB0YXNrIGlzIHRoZSBtYWluIGZsb3cgb2YgdGhlIGN1cnJlbnQgR2VuZXJhdG9yLCB0aGUgcGFyZW50IHRhc2tzIGlzIHRoZVxuIGFnZ3JlZ2F0aW9uIG9mIHRoZSBtYWluIHRhc2tzICsgYWxsIGl0cyBmb3JrZWQgdGFza3MuXG4gVGh1cyB0aGUgd2hvbGUgbW9kZWwgcmVwcmVzZW50cyBhbiBleGVjdXRpb24gdHJlZSB3aXRoIG11bHRpcGxlIGJyYW5jaGVzICh2cyB0aGVcbiBsaW5lYXIgZXhlY3V0aW9uIHRyZWUgaW4gc2VxdWVudGlhbCAobm9uIHBhcmFsbGVsKSBwcm9ncmFtbWluZylcblxuIEEgcGFyZW50IHRhc2tzIGhhcyB0aGUgZm9sbG93aW5nIHNlbWFudGljc1xuIC0gSXQgY29tcGxldGVzIGlmIGFsbCBpdHMgZm9ya3MgZWl0aGVyIGNvbXBsZXRlIG9yIGFsbCBjYW5jZWxsZWRcbiAtIElmIGl0J3MgY2FuY2VsbGVkLCBhbGwgZm9ya3MgYXJlIGNhbmNlbGxlZCBhcyB3ZWxsXG4gLSBJdCBhYm9ydHMgaWYgYW55IHVuY2F1Z2h0IGVycm9yIGJ1YmJsZXMgdXAgZnJvbSBmb3Jrc1xuIC0gSWYgaXQgY29tcGxldGVzLCB0aGUgcmV0dXJuIHZhbHVlIGlzIHRoZSBvbmUgcmV0dXJuZWQgYnkgdGhlIG1haW4gdGFza1xuICoqL1xuXG5mdW5jdGlvbiBmb3JrUXVldWUobWFpblRhc2ssIG9uQWJvcnQsIGNvbnQpIHtcbiAgdmFyIHRhc2tzID0gW107XG4gIHZhciByZXN1bHQ7XG4gIHZhciBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgYWRkVGFzayhtYWluVGFzayk7XG5cbiAgdmFyIGdldFRhc2tzID0gZnVuY3Rpb24gZ2V0VGFza3MoKSB7XG4gICAgcmV0dXJuIHRhc2tzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFib3J0KGVycikge1xuICAgIG9uQWJvcnQoKTtcbiAgICBjYW5jZWxBbGwoKTtcbiAgICBjb250KGVyciwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUYXNrKHRhc2spIHtcbiAgICB0YXNrcy5wdXNoKHRhc2spO1xuXG4gICAgdGFzay5jb250ID0gZnVuY3Rpb24gKHJlcywgaXNFcnIpIHtcbiAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfX2NodW5rXzEucmVtb3ZlKHRhc2tzLCB0YXNrKTtcbiAgICAgIHRhc2suY29udCA9IF9fY2h1bmtfMS5ub29wO1xuXG4gICAgICBpZiAoaXNFcnIpIHtcbiAgICAgICAgYWJvcnQocmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YXNrID09PSBtYWluVGFzaykge1xuICAgICAgICAgIHJlc3VsdCA9IHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBjb250KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsQWxsKCkge1xuICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgIHRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgIHQuY29udCA9IF9fY2h1bmtfMS5ub29wO1xuICAgICAgdC5jYW5jZWwoKTtcbiAgICB9KTtcbiAgICB0YXNrcyA9IFtdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRUYXNrOiBhZGRUYXNrLFxuICAgIGNhbmNlbEFsbDogY2FuY2VsQWxsLFxuICAgIGFib3J0OiBhYm9ydCxcbiAgICBnZXRUYXNrczogZ2V0VGFza3NcbiAgfTtcbn1cblxuLy8gdGhlcmUgY2FuIGJlIG9ubHkgYSBzaW5nbGUgc2FnYSBlcnJvciBjcmVhdGVkIGF0IGFueSBnaXZlbiBtb21lbnRcblxuZnVuY3Rpb24gZm9ybWF0TG9jYXRpb24oZmlsZU5hbWUsIGxpbmVOdW1iZXIpIHtcbiAgcmV0dXJuIGZpbGVOYW1lICsgXCI/XCIgKyBsaW5lTnVtYmVyO1xufVxuXG5mdW5jdGlvbiBlZmZlY3RMb2NhdGlvbkFzU3RyaW5nKGVmZmVjdCkge1xuICB2YXIgbG9jYXRpb24gPSBfX2NodW5rXzEuZ2V0TG9jYXRpb24oZWZmZWN0KTtcblxuICBpZiAobG9jYXRpb24pIHtcbiAgICB2YXIgY29kZSA9IGxvY2F0aW9uLmNvZGUsXG4gICAgICAgIGZpbGVOYW1lID0gbG9jYXRpb24uZmlsZU5hbWUsXG4gICAgICAgIGxpbmVOdW1iZXIgPSBsb2NhdGlvbi5saW5lTnVtYmVyO1xuICAgIHZhciBzb3VyY2UgPSBjb2RlICsgXCIgIFwiICsgZm9ybWF0TG9jYXRpb24oZmlsZU5hbWUsIGxpbmVOdW1iZXIpO1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIHNhZ2FMb2NhdGlvbkFzU3RyaW5nKHNhZ2FNZXRhKSB7XG4gIHZhciBuYW1lID0gc2FnYU1ldGEubmFtZSxcbiAgICAgIGxvY2F0aW9uID0gc2FnYU1ldGEubG9jYXRpb247XG5cbiAgaWYgKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5hbWUgKyBcIiAgXCIgKyBmb3JtYXRMb2NhdGlvbihsb2NhdGlvbi5maWxlTmFtZSwgbG9jYXRpb24ubGluZU51bWJlcik7XG4gIH1cblxuICByZXR1cm4gbmFtZTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGVkVGFza3NBc1N0cmluZyhzYWdhU3RhY2spIHtcbiAgdmFyIGNhbmNlbGxlZFRhc2tzID0gX19jaHVua18xLmZsYXRNYXAoZnVuY3Rpb24gKGkpIHtcbiAgICByZXR1cm4gaS5jYW5jZWxsZWRUYXNrcztcbiAgfSwgc2FnYVN0YWNrKTtcblxuICBpZiAoIWNhbmNlbGxlZFRhc2tzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJldHVybiBbJ1Rhc2tzIGNhbmNlbGxlZCBkdWUgdG8gZXJyb3I6J10uY29uY2F0KGNhbmNlbGxlZFRhc2tzKS5qb2luKCdcXG4nKTtcbn1cblxudmFyIGNyYXNoZWRFZmZlY3QgPSBudWxsO1xudmFyIHNhZ2FTdGFjayA9IFtdO1xudmFyIGFkZFNhZ2FGcmFtZSA9IGZ1bmN0aW9uIGFkZFNhZ2FGcmFtZShmcmFtZSkge1xuICBmcmFtZS5jcmFzaGVkRWZmZWN0ID0gY3Jhc2hlZEVmZmVjdDtcbiAgc2FnYVN0YWNrLnB1c2goZnJhbWUpO1xufTtcbnZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICBjcmFzaGVkRWZmZWN0ID0gbnVsbDtcbiAgc2FnYVN0YWNrLmxlbmd0aCA9IDA7XG59OyAvLyB0aGlzIHNldHMgY3Jhc2hlZCBlZmZlY3QgZm9yIHRoZSBzb29uLXRvLWJlLXJlcG9ydGVkIHNhZ2EgZnJhbWVcbi8vIHRoaXMgc2xpZ2h0bHkgc3RyZWF0Y2hlcyB0aGUgc2luZ2xldG9uIG5hdHVyZSBvZiB0aGlzIG1vZHVsZSBpbnRvIHdyb25nIGRpcmVjdGlvblxuLy8gYXMgaXQncyBldmVuIGxlc3Mgb2J2aW91cyB3aGF0J3MgdGhlIGRhdGEgZmxvdyBoZXJlLCBidXQgaXQgaXMgd2hhdCBpdCBpcyBmb3Igbm93XG5cbnZhciBzZXRDcmFzaGVkRWZmZWN0ID0gZnVuY3Rpb24gc2V0Q3Jhc2hlZEVmZmVjdChlZmZlY3QpIHtcbiAgY3Jhc2hlZEVmZmVjdCA9IGVmZmVjdDtcbn07XG4vKipcbiAgQHJldHVybnMge3N0cmluZ31cblxuICBAZXhhbXBsZVxuICBUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGFzayBlcnJvckluUHV0U2FnYSB7cGF0aFRvRmlsZX1cbiAgd2hlbiBleGVjdXRpbmcgZWZmZWN0IHB1dCh7dHlwZTogJ1JFRFVDRVJfQUNUSU9OX0VSUk9SX0lOX1BVVCd9KSB7cGF0aFRvRmlsZX1cbiAgICAgIGNyZWF0ZWQgYnkgZmV0Y2hTYWdhIHtwYXRoVG9GaWxlfVxuICAgICAgY3JlYXRlZCBieSByb290U2FnYSB7cGF0aFRvRmlsZX1cbiovXG5cbnZhciB0b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICB2YXIgZmlyc3RTYWdhID0gc2FnYVN0YWNrWzBdLFxuICAgICAgb3RoZXJTYWdhcyA9IHNhZ2FTdGFjay5zbGljZSgxKTtcbiAgdmFyIGNyYXNoZWRFZmZlY3RMb2NhdGlvbiA9IGZpcnN0U2FnYS5jcmFzaGVkRWZmZWN0ID8gZWZmZWN0TG9jYXRpb25Bc1N0cmluZyhmaXJzdFNhZ2EuY3Jhc2hlZEVmZmVjdCkgOiBudWxsO1xuICB2YXIgZXJyb3JNZXNzYWdlID0gXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGFzayBcIiArIHNhZ2FMb2NhdGlvbkFzU3RyaW5nKGZpcnN0U2FnYS5tZXRhKSArIChjcmFzaGVkRWZmZWN0TG9jYXRpb24gPyBcIiBcXG4gd2hlbiBleGVjdXRpbmcgZWZmZWN0IFwiICsgY3Jhc2hlZEVmZmVjdExvY2F0aW9uIDogJycpO1xuICByZXR1cm4gW2Vycm9yTWVzc2FnZV0uY29uY2F0KG90aGVyU2FnYXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIFwiICAgIGNyZWF0ZWQgYnkgXCIgKyBzYWdhTG9jYXRpb25Bc1N0cmluZyhzLm1ldGEpO1xuICB9KSwgW2NhbmNlbGxlZFRhc2tzQXNTdHJpbmcoc2FnYVN0YWNrKV0pLmpvaW4oJ1xcbicpO1xufTtcblxuZnVuY3Rpb24gbmV3VGFzayhlbnYsIG1haW5UYXNrLCBwYXJlbnRDb250ZXh0LCBwYXJlbnRFZmZlY3RJZCwgbWV0YSwgaXNSb290LCBjb250KSB7XG4gIHZhciBfdGFzaztcblxuICB2YXIgc3RhdHVzID0gUlVOTklORztcbiAgdmFyIHRhc2tSZXN1bHQ7XG4gIHZhciB0YXNrRXJyb3I7XG4gIHZhciBkZWZlcnJlZEVuZCA9IG51bGw7XG4gIHZhciBjYW5jZWxsZWREdWVUb0Vycm9yVGFza3MgPSBbXTtcbiAgdmFyIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKHBhcmVudENvbnRleHQpO1xuICB2YXIgcXVldWUgPSBmb3JrUXVldWUobWFpblRhc2ssIGZ1bmN0aW9uIG9uQWJvcnQoKSB7XG4gICAgY2FuY2VsbGVkRHVlVG9FcnJvclRhc2tzLnB1c2guYXBwbHkoY2FuY2VsbGVkRHVlVG9FcnJvclRhc2tzLCBxdWV1ZS5nZXRUYXNrcygpLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQubWV0YS5uYW1lO1xuICAgIH0pKTtcbiAgfSwgZW5kKTtcbiAgLyoqXG4gICBUaGlzIG1heSBiZSBjYWxsZWQgYnkgYSBwYXJlbnQgZ2VuZXJhdG9yIHRvIHRyaWdnZXIvcHJvcGFnYXRlIGNhbmNlbGxhdGlvblxuICAgY2FuY2VsIGFsbCBwZW5kaW5nIHRhc2tzIChpbmNsdWRpbmcgdGhlIG1haW4gdGFzayksIHRoZW4gZW5kIHRoZSBjdXJyZW50IHRhc2suXG4gICAgQ2FuY2VsbGF0aW9uIHByb3BhZ2F0ZXMgZG93biB0byB0aGUgd2hvbGUgZXhlY3V0aW9uIHRyZWUgaGVsZCBieSB0aGlzIFBhcmVudCB0YXNrXG4gICBJdCdzIGFsc28gcHJvcGFnYXRlZCB0byBhbGwgam9pbmVycyBvZiB0aGlzIHRhc2sgYW5kIHRoZWlyIGV4ZWN1dGlvbiB0cmVlL2pvaW5lcnNcbiAgICBDYW5jZWxsYXRpb24gaXMgbm9vcCBmb3IgdGVybWluYXRlZC9DYW5jZWxsZWQgdGFza3MgdGFza3NcbiAgICoqL1xuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAoc3RhdHVzID09PSBSVU5OSU5HKSB7XG4gICAgICAvLyBTZXR0aW5nIHN0YXR1cyB0byBDQU5DRUxMRUQgZG9lcyBub3QgbmVjZXNzYXJpbHkgbWVhbiB0aGF0IHRoZSB0YXNrL2l0ZXJhdG9ycyBhcmUgc3RvcHBlZFxuICAgICAgLy8gZWZmZWN0cyBpbiB0aGUgaXRlcmF0b3IncyBmaW5hbGx5IGJsb2NrIHdpbGwgc3RpbGwgYmUgZXhlY3V0ZWRcbiAgICAgIHN0YXR1cyA9IENBTkNFTExFRDtcbiAgICAgIHF1ZXVlLmNhbmNlbEFsbCgpOyAvLyBFbmRpbmcgd2l0aCBhIFRBU0tfQ0FOQ0VMIHdpbGwgcHJvcGFnYXRlIHRoZSBDYW5jZWxsYXRpb24gdG8gYWxsIGpvaW5lcnNcblxuICAgICAgZW5kKHN5bWJvbHMuVEFTS19DQU5DRUwsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbmQocmVzdWx0LCBpc0Vycikge1xuICAgIGlmICghaXNFcnIpIHtcbiAgICAgIC8vIFRoZSBzdGF0dXMgaGVyZSBtYXkgYmUgUlVOTklORyBvciBDQU5DRUxMRURcbiAgICAgIC8vIElmIHRoZSBzdGF0dXMgaXMgQ0FOQ0VMTEVELCB0aGVuIHdlIGRvIG5vdCBuZWVkIHRvIGNoYW5nZSBpdCBoZXJlXG4gICAgICBpZiAocmVzdWx0ID09PSBzeW1ib2xzLlRBU0tfQ0FOQ0VMKSB7XG4gICAgICAgIHN0YXR1cyA9IENBTkNFTExFRDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzICE9PSBDQU5DRUxMRUQpIHtcbiAgICAgICAgc3RhdHVzID0gRE9ORTtcbiAgICAgIH1cblxuICAgICAgdGFza1Jlc3VsdCA9IHJlc3VsdDtcbiAgICAgIGRlZmVycmVkRW5kICYmIGRlZmVycmVkRW5kLnJlc29sdmUocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHVzID0gQUJPUlRFRDtcbiAgICAgIGFkZFNhZ2FGcmFtZSh7XG4gICAgICAgIG1ldGE6IG1ldGEsXG4gICAgICAgIGNhbmNlbGxlZFRhc2tzOiBjYW5jZWxsZWREdWVUb0Vycm9yVGFza3NcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGFzay5pc1Jvb3QpIHtcbiAgICAgICAgdmFyIHNhZ2FTdGFjayA9IHRvU3RyaW5nKCk7IC8vIHdlJ3ZlIGR1bXBlZCB0aGUgc2FnYSBzdGFjayB0byBzdHJpbmcgYW5kIGFyZSBwYXNzaW5nIGl0IHRvIHVzZXIncyBjb2RlXG4gICAgICAgIC8vIHdlIGtub3cgdGhhdCBpdCB3b24ndCBiZSBuZWVkZWQgYW55bW9yZSBhbmQgd2UgbmVlZCB0byBjbGVhciBpdFxuXG4gICAgICAgIGNsZWFyKCk7XG4gICAgICAgIGVudi5vbkVycm9yKHJlc3VsdCwge1xuICAgICAgICAgIHNhZ2FTdGFjazogc2FnYVN0YWNrXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0YXNrRXJyb3IgPSByZXN1bHQ7XG4gICAgICBkZWZlcnJlZEVuZCAmJiBkZWZlcnJlZEVuZC5yZWplY3QocmVzdWx0KTtcbiAgICB9XG5cbiAgICB0YXNrLmNvbnQocmVzdWx0LCBpc0Vycik7XG4gICAgdGFzay5qb2luZXJzLmZvckVhY2goZnVuY3Rpb24gKGpvaW5lcikge1xuICAgICAgam9pbmVyLmNiKHJlc3VsdCwgaXNFcnIpO1xuICAgIH0pO1xuICAgIHRhc2suam9pbmVycyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDb250ZXh0KHByb3BzKSB7XG4gICAge1xuICAgICAgX19jaHVua18xLmNoZWNrKHByb3BzLCBpcy5vYmplY3QsIF9fY2h1bmtfMS5jcmVhdGVTZXRDb250ZXh0V2FybmluZygndGFzaycsIHByb3BzKSk7XG4gICAgfVxuXG4gICAgX19jaHVua18xLmFzc2lnbldpdGhTeW1ib2xzKGNvbnRleHQsIHByb3BzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvUHJvbWlzZSgpIHtcbiAgICBpZiAoZGVmZXJyZWRFbmQpIHtcbiAgICAgIHJldHVybiBkZWZlcnJlZEVuZC5wcm9taXNlO1xuICAgIH1cblxuICAgIGRlZmVycmVkRW5kID0gZGVmZXJyZWQoKTtcblxuICAgIGlmIChzdGF0dXMgPT09IEFCT1JURUQpIHtcbiAgICAgIGRlZmVycmVkRW5kLnJlamVjdCh0YXNrRXJyb3IpO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzICE9PSBSVU5OSU5HKSB7XG4gICAgICBkZWZlcnJlZEVuZC5yZXNvbHZlKHRhc2tSZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZlcnJlZEVuZC5wcm9taXNlO1xuICB9XG5cbiAgdmFyIHRhc2sgPSAoX3Rhc2sgPSB7fSwgX3Rhc2tbc3ltYm9scy5UQVNLXSA9IHRydWUsIF90YXNrLmlkID0gcGFyZW50RWZmZWN0SWQsIF90YXNrLm1ldGEgPSBtZXRhLCBfdGFzay5pc1Jvb3QgPSBpc1Jvb3QsIF90YXNrLmNvbnRleHQgPSBjb250ZXh0LCBfdGFzay5qb2luZXJzID0gW10sIF90YXNrLnF1ZXVlID0gcXVldWUsIF90YXNrLmNhbmNlbCA9IGNhbmNlbCwgX3Rhc2suY29udCA9IGNvbnQsIF90YXNrLmVuZCA9IGVuZCwgX3Rhc2suc2V0Q29udGV4dCA9IHNldENvbnRleHQsIF90YXNrLnRvUHJvbWlzZSA9IHRvUHJvbWlzZSwgX3Rhc2suaXNSdW5uaW5nID0gZnVuY3Rpb24gaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiBzdGF0dXMgPT09IFJVTk5JTkc7XG4gIH0sIF90YXNrLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24gaXNDYW5jZWxsZWQoKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA9PT0gQ0FOQ0VMTEVEIHx8IHN0YXR1cyA9PT0gUlVOTklORyAmJiBtYWluVGFzay5zdGF0dXMgPT09IENBTkNFTExFRDtcbiAgfSwgX3Rhc2suaXNBYm9ydGVkID0gZnVuY3Rpb24gaXNBYm9ydGVkKCkge1xuICAgIHJldHVybiBzdGF0dXMgPT09IEFCT1JURUQ7XG4gIH0sIF90YXNrLnJlc3VsdCA9IGZ1bmN0aW9uIHJlc3VsdCgpIHtcbiAgICByZXR1cm4gdGFza1Jlc3VsdDtcbiAgfSwgX3Rhc2suZXJyb3IgPSBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICByZXR1cm4gdGFza0Vycm9yO1xuICB9LCBfdGFzayk7XG4gIHJldHVybiB0YXNrO1xufVxuXG5mdW5jdGlvbiBwcm9jKGVudiwgaXRlcmF0b3IsIHBhcmVudENvbnRleHQsIHBhcmVudEVmZmVjdElkLCBtZXRhLCBpc1Jvb3QsIGNvbnQpIHtcbiAgaWYgKGl0ZXJhdG9yW19fY2h1bmtfMS5hc3luY0l0ZXJhdG9yU3ltYm9sXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInJlZHV4LXNhZ2EgZG9lc24ndCBzdXBwb3J0IGFzeW5jIGdlbmVyYXRvcnMsIHBsZWFzZSB1c2Ugb25seSByZWd1bGFyIG9uZXNcIik7XG4gIH1cblxuICB2YXIgZmluYWxSdW5FZmZlY3QgPSBlbnYuZmluYWxpemVSdW5FZmZlY3QocnVuRWZmZWN0KTtcbiAgLyoqXG4gICAgVHJhY2tzIHRoZSBjdXJyZW50IGVmZmVjdCBjYW5jZWxsYXRpb25cbiAgICBFYWNoIHRpbWUgdGhlIGdlbmVyYXRvciBwcm9ncmVzc2VzLiBjYWxsaW5nIHJ1bkVmZmVjdCB3aWxsIHNldCBhIG5ldyB2YWx1ZVxuICAgIG9uIGl0LiBJdCBhbGxvd3MgcHJvcGFnYXRpbmcgY2FuY2VsbGF0aW9uIHRvIGNoaWxkIGVmZmVjdHNcbiAgKiovXG5cbiAgbmV4dC5jYW5jZWwgPSBfX2NodW5rXzEubm9vcDtcbiAgLyoqIENyZWF0ZXMgYSBtYWluIHRhc2sgdG8gdHJhY2sgdGhlIG1haW4gZmxvdyAqL1xuXG4gIHZhciBtYWluVGFzayA9IHtcbiAgICBtZXRhOiBtZXRhLFxuICAgIGNhbmNlbDogY2FuY2VsTWFpbixcbiAgICBzdGF0dXM6IFJVTk5JTkdcbiAgICAvKipcbiAgICAgQ3JlYXRlcyBhIG5ldyB0YXNrIGRlc2NyaXB0b3IgZm9yIHRoaXMgZ2VuZXJhdG9yLlxuICAgICBBIHRhc2sgaXMgdGhlIGFnZ3JlZ2F0aW9uIG9mIGl0J3MgbWFpblRhc2sgYW5kIGFsbCBpdCdzIGZvcmtlZCB0YXNrcy5cbiAgICAgKiovXG5cbiAgfTtcbiAgdmFyIHRhc2sgPSBuZXdUYXNrKGVudiwgbWFpblRhc2ssIHBhcmVudENvbnRleHQsIHBhcmVudEVmZmVjdElkLCBtZXRhLCBpc1Jvb3QsIGNvbnQpO1xuICB2YXIgZXhlY3V0aW5nQ29udGV4dCA9IHtcbiAgICB0YXNrOiB0YXNrLFxuICAgIGRpZ2VzdEVmZmVjdDogZGlnZXN0RWZmZWN0XG4gICAgLyoqXG4gICAgICBjYW5jZWxsYXRpb24gb2YgdGhlIG1haW4gdGFzay4gV2UnbGwgc2ltcGx5IHJlc3VtZSB0aGUgR2VuZXJhdG9yIHdpdGggYSBUQVNLX0NBTkNFTFxuICAgICoqL1xuXG4gIH07XG5cbiAgZnVuY3Rpb24gY2FuY2VsTWFpbigpIHtcbiAgICBpZiAobWFpblRhc2suc3RhdHVzID09PSBSVU5OSU5HKSB7XG4gICAgICBtYWluVGFzay5zdGF0dXMgPSBDQU5DRUxMRUQ7XG4gICAgICBuZXh0KHN5bWJvbHMuVEFTS19DQU5DRUwpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICBhdHRhY2hlcyBjYW5jZWxsYXRpb24gbG9naWMgdG8gdGhpcyB0YXNrJ3MgY29udGludWF0aW9uXG4gICAgdGhpcyB3aWxsIHBlcm1pdCBjYW5jZWxsYXRpb24gdG8gcHJvcGFnYXRlIGRvd24gdGhlIGNhbGwgY2hhaW5cbiAgKiovXG5cblxuICBjb250LmNhbmNlbCA9IHRhc2suY2FuY2VsOyAvLyBraWNrcyB1cCB0aGUgZ2VuZXJhdG9yXG5cbiAgbmV4dCgpOyAvLyB0aGVuIHJldHVybiB0aGUgdGFzayBkZXNjcmlwdG9yIHRvIHRoZSBjYWxsZXJcblxuICByZXR1cm4gdGFzaztcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGdlbmVyYXRvciBkcml2ZXJcbiAgICogSXQncyBhIHJlY3Vyc2l2ZSBhc3luYy9jb250aW51YXRpb24gZnVuY3Rpb24gd2hpY2ggY2FsbHMgaXRzZWxmXG4gICAqIHVudGlsIHRoZSBnZW5lcmF0b3IgdGVybWluYXRlcyBvciB0aHJvd3NcbiAgICogQHBhcmFtIHtpbnRlcm5hbCBjb21tYW5kcyhUQVNLX0NBTkNFTCB8IFRFUk1JTkFURSkgfCBhbnl9IGFyZyAtIHZhbHVlLCBnZW5lcmF0b3Igd2lsbCBiZSByZXN1bWVkIHdpdGguXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFcnIgLSB0aGUgZmxhZyBzaG93cyBpZiBlZmZlY3QgZmluaXNoZWQgd2l0aCBhbiBlcnJvclxuICAgKlxuICAgKiByZWNlaXZlcyBlaXRoZXIgKGNvbW1hbmQgfCBlZmZlY3QgcmVzdWx0LCBmYWxzZSkgb3IgKGFueSB0aHJvd24gdGhpbmcsIHRydWUpXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG5leHQoYXJnLCBpc0Vycikge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBpZiAoaXNFcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IudGhyb3coYXJnKTsgLy8gdXNlciBoYW5kbGVkIHRoZSBlcnJvciwgd2UgY2FuIGNsZWFyIGJvb2trZXB0IHZhbHVlc1xuXG4gICAgICAgIGNsZWFyKCk7XG4gICAgICB9IGVsc2UgaWYgKF9fY2h1bmtfMS5zaG91bGRDYW5jZWwoYXJnKSkge1xuICAgICAgICAvKipcbiAgICAgICAgICBnZXR0aW5nIFRBU0tfQ0FOQ0VMIGF1dG9tYXRpY2FsbHkgY2FuY2VscyB0aGUgbWFpbiB0YXNrXG4gICAgICAgICAgV2UgY2FuIGdldCB0aGlzIHZhbHVlIGhlcmVcbiAgICAgICAgICAgLSBCeSBjYW5jZWxsaW5nIHRoZSBwYXJlbnQgdGFzayBtYW51YWxseVxuICAgICAgICAgIC0gQnkgam9pbmluZyBhIENhbmNlbGxlZCB0YXNrXG4gICAgICAgICoqL1xuICAgICAgICBtYWluVGFzay5zdGF0dXMgPSBDQU5DRUxMRUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgIENhbmNlbHMgdGhlIGN1cnJlbnQgZWZmZWN0OyB0aGlzIHdpbGwgcHJvcGFnYXRlIHRoZSBjYW5jZWxsYXRpb24gZG93biB0byBhbnkgY2FsbGVkIHRhc2tzXG4gICAgICAgICoqL1xuXG4gICAgICAgIG5leHQuY2FuY2VsKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgIElmIHRoaXMgR2VuZXJhdG9yIGhhcyBhIGByZXR1cm5gIG1ldGhvZCB0aGVuIGludm9rZXMgaXRcbiAgICAgICAgICBUaGlzIHdpbGwganVtcCB0byB0aGUgZmluYWxseSBibG9ja1xuICAgICAgICAqKi9cblxuICAgICAgICByZXN1bHQgPSBpcy5mdW5jKGl0ZXJhdG9yLnJldHVybikgPyBpdGVyYXRvci5yZXR1cm4oc3ltYm9scy5UQVNLX0NBTkNFTCkgOiB7XG4gICAgICAgICAgZG9uZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogc3ltYm9scy5UQVNLX0NBTkNFTFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChfX2NodW5rXzEuc2hvdWxkVGVybWluYXRlKGFyZykpIHtcbiAgICAgICAgLy8gV2UgZ2V0IFRFUk1JTkFURSBmbGFnLCBpLmUuIGJ5IHRha2luZyBmcm9tIGEgY2hhbm5lbCB0aGF0IGVuZGVkIHVzaW5nIGB0YWtlYCAoYW5kIG5vdCBgdGFrZW1gIHVzZWQgdG8gdHJhcCBFbmQgb2YgY2hhbm5lbHMpXG4gICAgICAgIHJlc3VsdCA9IGlzLmZ1bmMoaXRlcmF0b3IucmV0dXJuKSA/IGl0ZXJhdG9yLnJldHVybigpIDoge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoYXJnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICBkaWdlc3RFZmZlY3QocmVzdWx0LnZhbHVlLCBwYXJlbnRFZmZlY3RJZCwgbmV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICBUaGlzIEdlbmVyYXRvciBoYXMgZW5kZWQsIHRlcm1pbmF0ZSB0aGUgbWFpbiB0YXNrIGFuZCBub3RpZnkgdGhlIGZvcmsgcXVldWVcbiAgICAgICAgKiovXG4gICAgICAgIGlmIChtYWluVGFzay5zdGF0dXMgIT09IENBTkNFTExFRCkge1xuICAgICAgICAgIG1haW5UYXNrLnN0YXR1cyA9IERPTkU7XG4gICAgICAgIH1cblxuICAgICAgICBtYWluVGFzay5jb250KHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChtYWluVGFzay5zdGF0dXMgPT09IENBTkNFTExFRCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgbWFpblRhc2suc3RhdHVzID0gQUJPUlRFRDtcbiAgICAgIG1haW5UYXNrLmNvbnQoZXJyb3IsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bkVmZmVjdChlZmZlY3QsIGVmZmVjdElkLCBjdXJyQ2IpIHtcbiAgICAvKipcbiAgICAgIGVhY2ggZWZmZWN0IHJ1bm5lciBtdXN0IGF0dGFjaCBpdHMgb3duIGxvZ2ljIG9mIGNhbmNlbGxhdGlvbiB0byB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICAgIGl0IGFsbG93cyB0aGlzIGdlbmVyYXRvciB0byBwcm9wYWdhdGUgY2FuY2VsbGF0aW9uIGRvd253YXJkLlxuICAgICAgIEFUVEVOVElPTiEgZWZmZWN0IHJ1bm5lcnMgbXVzdCBzZXR1cCB0aGUgY2FuY2VsIGxvZ2ljIGJ5IHNldHRpbmcgY2IuY2FuY2VsID0gW2NhbmNlbE1ldGhvZF1cbiAgICAgIEFuZCB0aGUgc2V0dXAgbXVzdCBvY2N1ciBiZWZvcmUgY2FsbGluZyB0aGUgY2FsbGJhY2tcbiAgICAgICBUaGlzIGlzIGEgc29ydCBvZiBpbnZlcnNpb24gb2YgY29udHJvbDogY2FsbGVkIGFzeW5jIGZ1bmN0aW9ucyBhcmUgcmVzcG9uc2libGVcbiAgICAgIG9mIGNvbXBsZXRpbmcgdGhlIGZsb3cgYnkgY2FsbGluZyB0aGUgcHJvdmlkZWQgY29udGludWF0aW9uOyB3aGlsZSBjYWxsZXIgZnVuY3Rpb25zXG4gICAgICBhcmUgcmVzcG9uc2libGUgZm9yIGFib3J0aW5nIHRoZSBjdXJyZW50IGZsb3cgYnkgY2FsbGluZyB0aGUgYXR0YWNoZWQgY2FuY2VsIGZ1bmN0aW9uXG4gICAgICAgTGlicmFyeSB1c2VycyBjYW4gYXR0YWNoIHRoZWlyIG93biBjYW5jZWxsYXRpb24gbG9naWMgdG8gcHJvbWlzZXMgYnkgZGVmaW5pbmcgYVxuICAgICAgcHJvbWlzZVtDQU5DRUxdIG1ldGhvZCBpbiB0aGVpciByZXR1cm5lZCBwcm9taXNlc1xuICAgICAgQVRURU5USU9OISBjYWxsaW5nIGNhbmNlbCBtdXN0IGhhdmUgbm8gZWZmZWN0IG9uIGFuIGFscmVhZHkgY29tcGxldGVkIG9yIGNhbmNlbGxlZCBlZmZlY3RcbiAgICAqKi9cbiAgICBpZiAoaXMucHJvbWlzZShlZmZlY3QpKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZShlZmZlY3QsIGN1cnJDYik7XG4gICAgfSBlbHNlIGlmIChpcy5pdGVyYXRvcihlZmZlY3QpKSB7XG4gICAgICAvLyByZXNvbHZlIGl0ZXJhdG9yXG4gICAgICBwcm9jKGVudiwgZWZmZWN0LCB0YXNrLmNvbnRleHQsIGVmZmVjdElkLCBtZXRhLFxuICAgICAgLyogaXNSb290ICovXG4gICAgICBmYWxzZSwgY3VyckNiKTtcbiAgICB9IGVsc2UgaWYgKGVmZmVjdCAmJiBlZmZlY3Rbc3ltYm9scy5JT10pIHtcbiAgICAgIHZhciBlZmZlY3RSdW5uZXIgPSBlZmZlY3RSdW5uZXJNYXBbZWZmZWN0LnR5cGVdO1xuICAgICAgZWZmZWN0UnVubmVyKGVudiwgZWZmZWN0LnBheWxvYWQsIGN1cnJDYiwgZXhlY3V0aW5nQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgcmV0dXJuZWQgYXMgaXNcbiAgICAgIGN1cnJDYihlZmZlY3QpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpZ2VzdEVmZmVjdChlZmZlY3QsIHBhcmVudEVmZmVjdElkLCBjYiwgbGFiZWwpIHtcbiAgICBpZiAobGFiZWwgPT09IHZvaWQgMCkge1xuICAgICAgbGFiZWwgPSAnJztcbiAgICB9XG5cbiAgICB2YXIgZWZmZWN0SWQgPSBuZXh0RWZmZWN0SWQoKTtcbiAgICBlbnYuc2FnYU1vbml0b3IgJiYgZW52LnNhZ2FNb25pdG9yLmVmZmVjdFRyaWdnZXJlZCh7XG4gICAgICBlZmZlY3RJZDogZWZmZWN0SWQsXG4gICAgICBwYXJlbnRFZmZlY3RJZDogcGFyZW50RWZmZWN0SWQsXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBlZmZlY3Q6IGVmZmVjdFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAgY29tcGxldGlvbiBjYWxsYmFjayBhbmQgY2FuY2VsIGNhbGxiYWNrIGFyZSBtdXR1YWxseSBleGNsdXNpdmVcbiAgICAgIFdlIGNhbid0IGNhbmNlbCBhbiBhbHJlYWR5IGNvbXBsZXRlZCBlZmZlY3RcbiAgICAgIEFuZCBXZSBjYW4ndCBjb21wbGV0ZSBhbiBhbHJlYWR5IGNhbmNlbGxlZCBlZmZlY3RJZFxuICAgICoqL1xuXG4gICAgdmFyIGVmZmVjdFNldHRsZWQ7IC8vIENvbXBsZXRpb24gY2FsbGJhY2sgcGFzc2VkIHRvIHRoZSBhcHByb3ByaWF0ZSBlZmZlY3QgcnVubmVyXG5cbiAgICBmdW5jdGlvbiBjdXJyQ2IocmVzLCBpc0Vycikge1xuICAgICAgaWYgKGVmZmVjdFNldHRsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlZmZlY3RTZXR0bGVkID0gdHJ1ZTtcbiAgICAgIGNiLmNhbmNlbCA9IF9fY2h1bmtfMS5ub29wOyAvLyBkZWZlbnNpdmUgbWVhc3VyZVxuXG4gICAgICBpZiAoZW52LnNhZ2FNb25pdG9yKSB7XG4gICAgICAgIGlmIChpc0Vycikge1xuICAgICAgICAgIGVudi5zYWdhTW9uaXRvci5lZmZlY3RSZWplY3RlZChlZmZlY3RJZCwgcmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnYuc2FnYU1vbml0b3IuZWZmZWN0UmVzb2x2ZWQoZWZmZWN0SWQsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzRXJyKSB7XG4gICAgICAgIHNldENyYXNoZWRFZmZlY3QoZWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgY2IocmVzLCBpc0Vycik7XG4gICAgfSAvLyB0cmFja3MgZG93biB0aGUgY3VycmVudCBjYW5jZWxcblxuXG4gICAgY3VyckNiLmNhbmNlbCA9IF9fY2h1bmtfMS5ub29wOyAvLyBzZXR1cCBjYW5jZWxsYXRpb24gbG9naWMgb24gdGhlIHBhcmVudCBjYlxuXG4gICAgY2IuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gcHJldmVudHMgY2FuY2VsbGluZyBhbiBhbHJlYWR5IGNvbXBsZXRlZCBlZmZlY3RcbiAgICAgIGlmIChlZmZlY3RTZXR0bGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWZmZWN0U2V0dGxlZCA9IHRydWU7XG4gICAgICBjdXJyQ2IuY2FuY2VsKCk7IC8vIHByb3BhZ2F0ZXMgY2FuY2VsIGRvd253YXJkXG5cbiAgICAgIGN1cnJDYi5jYW5jZWwgPSBfX2NodW5rXzEubm9vcDsgLy8gZGVmZW5zaXZlIG1lYXN1cmVcblxuICAgICAgZW52LnNhZ2FNb25pdG9yICYmIGVudi5zYWdhTW9uaXRvci5lZmZlY3RDYW5jZWxsZWQoZWZmZWN0SWQpO1xuICAgIH07XG5cbiAgICBmaW5hbFJ1bkVmZmVjdChlZmZlY3QsIGVmZmVjdElkLCBjdXJyQ2IpO1xuICB9XG59XG5cbnZhciBSVU5fU0FHQV9TSUdOQVRVUkUgPSAncnVuU2FnYShvcHRpb25zLCBzYWdhLCAuLi5hcmdzKSc7XG52YXIgTk9OX0dFTkVSQVRPUl9FUlIgPSBSVU5fU0FHQV9TSUdOQVRVUkUgKyBcIjogc2FnYSBhcmd1bWVudCBtdXN0IGJlIGEgR2VuZXJhdG9yIGZ1bmN0aW9uIVwiO1xuZnVuY3Rpb24gcnVuU2FnYShfcmVmLCBzYWdhKSB7XG4gIHZhciBfcmVmJGNoYW5uZWwgPSBfcmVmLmNoYW5uZWwsXG4gICAgICBjaGFubmVsID0gX3JlZiRjaGFubmVsID09PSB2b2lkIDAgPyBzdGRDaGFubmVsKCkgOiBfcmVmJGNoYW5uZWwsXG4gICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG4gICAgICBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGUsXG4gICAgICBfcmVmJGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBjb250ZXh0ID0gX3JlZiRjb250ZXh0ID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkY29udGV4dCxcbiAgICAgIHNhZ2FNb25pdG9yID0gX3JlZi5zYWdhTW9uaXRvcixcbiAgICAgIGVmZmVjdE1pZGRsZXdhcmVzID0gX3JlZi5lZmZlY3RNaWRkbGV3YXJlcyxcbiAgICAgIF9yZWYkb25FcnJvciA9IF9yZWYub25FcnJvcixcbiAgICAgIG9uRXJyb3IgPSBfcmVmJG9uRXJyb3IgPT09IHZvaWQgMCA/IF9fY2h1bmtfMS5sb2dFcnJvciA6IF9yZWYkb25FcnJvcjtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB7XG4gICAgX19jaHVua18xLmNoZWNrKHNhZ2EsIGlzLmZ1bmMsIE5PTl9HRU5FUkFUT1JfRVJSKTtcbiAgfVxuXG4gIHZhciBpdGVyYXRvciA9IHNhZ2EuYXBwbHkodm9pZCAwLCBhcmdzKTtcblxuICB7XG4gICAgX19jaHVua18xLmNoZWNrKGl0ZXJhdG9yLCBpcy5pdGVyYXRvciwgTk9OX0dFTkVSQVRPUl9FUlIpO1xuICB9XG5cbiAgdmFyIGVmZmVjdElkID0gbmV4dEVmZmVjdElkKCk7XG5cbiAgaWYgKHNhZ2FNb25pdG9yKSB7XG4gICAgLy8gbW9uaXRvcnMgYXJlIGV4cGVjdGVkIHRvIGhhdmUgYSBjZXJ0YWluIGludGVyZmFjZSwgbGV0J3MgZmlsbC1pbiBhbnkgbWlzc2luZyBvbmVzXG4gICAgc2FnYU1vbml0b3Iucm9vdFNhZ2FTdGFydGVkID0gc2FnYU1vbml0b3Iucm9vdFNhZ2FTdGFydGVkIHx8IF9fY2h1bmtfMS5ub29wO1xuICAgIHNhZ2FNb25pdG9yLmVmZmVjdFRyaWdnZXJlZCA9IHNhZ2FNb25pdG9yLmVmZmVjdFRyaWdnZXJlZCB8fCBfX2NodW5rXzEubm9vcDtcbiAgICBzYWdhTW9uaXRvci5lZmZlY3RSZXNvbHZlZCA9IHNhZ2FNb25pdG9yLmVmZmVjdFJlc29sdmVkIHx8IF9fY2h1bmtfMS5ub29wO1xuICAgIHNhZ2FNb25pdG9yLmVmZmVjdFJlamVjdGVkID0gc2FnYU1vbml0b3IuZWZmZWN0UmVqZWN0ZWQgfHwgX19jaHVua18xLm5vb3A7XG4gICAgc2FnYU1vbml0b3IuZWZmZWN0Q2FuY2VsbGVkID0gc2FnYU1vbml0b3IuZWZmZWN0Q2FuY2VsbGVkIHx8IF9fY2h1bmtfMS5ub29wO1xuICAgIHNhZ2FNb25pdG9yLmFjdGlvbkRpc3BhdGNoZWQgPSBzYWdhTW9uaXRvci5hY3Rpb25EaXNwYXRjaGVkIHx8IF9fY2h1bmtfMS5ub29wO1xuICAgIHNhZ2FNb25pdG9yLnJvb3RTYWdhU3RhcnRlZCh7XG4gICAgICBlZmZlY3RJZDogZWZmZWN0SWQsXG4gICAgICBzYWdhOiBzYWdhLFxuICAgICAgYXJnczogYXJnc1xuICAgIH0pO1xuICB9XG5cbiAge1xuICAgIGlmIChpcy5ub3RVbmRlZihkaXNwYXRjaCkpIHtcbiAgICAgIF9fY2h1bmtfMS5jaGVjayhkaXNwYXRjaCwgaXMuZnVuYywgJ2Rpc3BhdGNoIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub3RVbmRlZihnZXRTdGF0ZSkpIHtcbiAgICAgIF9fY2h1bmtfMS5jaGVjayhnZXRTdGF0ZSwgaXMuZnVuYywgJ2dldFN0YXRlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub3RVbmRlZihlZmZlY3RNaWRkbGV3YXJlcykpIHtcbiAgICAgIHZhciBNSURETEVXQVJFX1RZUEVfRVJST1IgPSAnZWZmZWN0TWlkZGxld2FyZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMnO1xuICAgICAgX19jaHVua18xLmNoZWNrKGVmZmVjdE1pZGRsZXdhcmVzLCBpcy5hcnJheSwgTUlERExFV0FSRV9UWVBFX0VSUk9SKTtcbiAgICAgIGVmZmVjdE1pZGRsZXdhcmVzLmZvckVhY2goZnVuY3Rpb24gKGVmZmVjdE1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIF9fY2h1bmtfMS5jaGVjayhlZmZlY3RNaWRkbGV3YXJlLCBpcy5mdW5jLCBNSURETEVXQVJFX1RZUEVfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19jaHVua18xLmNoZWNrKG9uRXJyb3IsIGlzLmZ1bmMsICdvbkVycm9yIHBhc3NlZCB0byB0aGUgcmVkdXgtc2FnYSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgfVxuXG4gIHZhciBmaW5hbGl6ZVJ1bkVmZmVjdDtcblxuICBpZiAoZWZmZWN0TWlkZGxld2FyZXMpIHtcbiAgICB2YXIgbWlkZGxld2FyZSA9IHJlZHV4LmNvbXBvc2UuYXBwbHkodm9pZCAwLCBlZmZlY3RNaWRkbGV3YXJlcyk7XG5cbiAgICBmaW5hbGl6ZVJ1bkVmZmVjdCA9IGZ1bmN0aW9uIGZpbmFsaXplUnVuRWZmZWN0KHJ1bkVmZmVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlZmZlY3QsIGVmZmVjdElkLCBjdXJyQ2IpIHtcbiAgICAgICAgdmFyIHBsYWluUnVuRWZmZWN0ID0gZnVuY3Rpb24gcGxhaW5SdW5FZmZlY3QoZWZmKSB7XG4gICAgICAgICAgcmV0dXJuIHJ1bkVmZmVjdChlZmYsIGVmZmVjdElkLCBjdXJyQ2IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKHBsYWluUnVuRWZmZWN0KShlZmZlY3QpO1xuICAgICAgfTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGZpbmFsaXplUnVuRWZmZWN0ID0gX19jaHVua18xLmlkZW50aXR5O1xuICB9XG5cbiAgdmFyIGVudiA9IHtcbiAgICBjaGFubmVsOiBjaGFubmVsLFxuICAgIGRpc3BhdGNoOiBfX2NodW5rXzEud3JhcFNhZ2FEaXNwYXRjaChkaXNwYXRjaCksXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHNhZ2FNb25pdG9yOiBzYWdhTW9uaXRvcixcbiAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgIGZpbmFsaXplUnVuRWZmZWN0OiBmaW5hbGl6ZVJ1bkVmZmVjdFxuICB9O1xuICByZXR1cm4gaW1tZWRpYXRlbHkoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0YXNrID0gcHJvYyhlbnYsIGl0ZXJhdG9yLCBjb250ZXh0LCBlZmZlY3RJZCwgX19jaHVua18xLmdldE1ldGFJbmZvKHNhZ2EpLFxuICAgIC8qIGlzUm9vdCAqL1xuICAgIHRydWUsIF9fY2h1bmtfMS5ub29wKTtcblxuICAgIGlmIChzYWdhTW9uaXRvcikge1xuICAgICAgc2FnYU1vbml0b3IuZWZmZWN0UmVzb2x2ZWQoZWZmZWN0SWQsIHRhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB0YXNrO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2FnYU1pZGRsZXdhcmVGYWN0b3J5KF9yZWYpIHtcbiAgaWYgKF9yZWYgPT09IHZvaWQgMCkge1xuICAgIF9yZWYgPSB7fTtcbiAgfVxuXG4gIHZhciBfcmVmMiA9IF9yZWYsXG4gICAgICBfcmVmMiRjb250ZXh0ID0gX3JlZjIuY29udGV4dCxcbiAgICAgIGNvbnRleHQgPSBfcmVmMiRjb250ZXh0ID09PSB2b2lkIDAgPyB7fSA6IF9yZWYyJGNvbnRleHQsXG4gICAgICBfcmVmMiRjaGFubmVsID0gX3JlZjIuY2hhbm5lbCxcbiAgICAgIGNoYW5uZWwgPSBfcmVmMiRjaGFubmVsID09PSB2b2lkIDAgPyBzdGRDaGFubmVsKCkgOiBfcmVmMiRjaGFubmVsLFxuICAgICAgc2FnYU1vbml0b3IgPSBfcmVmMi5zYWdhTW9uaXRvcixcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgW1wiY29udGV4dFwiLCBcImNoYW5uZWxcIiwgXCJzYWdhTW9uaXRvclwiXSk7XG5cbiAgdmFyIGJvdW5kUnVuU2FnYTtcblxuICB7XG4gICAgX19jaHVua18xLmNoZWNrKGNoYW5uZWwsIGlzLmNoYW5uZWwsICdvcHRpb25zLmNoYW5uZWwgcGFzc2VkIHRvIHRoZSBTYWdhIG1pZGRsZXdhcmUgaXMgbm90IGEgY2hhbm5lbCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2FnYU1pZGRsZXdhcmUoX3JlZjMpIHtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmMy5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDtcbiAgICBib3VuZFJ1blNhZ2EgPSBydW5TYWdhLmJpbmQobnVsbCwgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBjaGFubmVsOiBjaGFubmVsLFxuICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgc2FnYU1vbml0b3I6IHNhZ2FNb25pdG9yXG4gICAgfSkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHNhZ2FNb25pdG9yICYmIHNhZ2FNb25pdG9yLmFjdGlvbkRpc3BhdGNoZWQpIHtcbiAgICAgICAgICBzYWdhTW9uaXRvci5hY3Rpb25EaXNwYXRjaGVkKGFjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV4dChhY3Rpb24pOyAvLyBoaXQgcmVkdWNlcnNcblxuICAgICAgICBjaGFubmVsLnB1dChhY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgc2FnYU1pZGRsZXdhcmUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghYm91bmRSdW5TYWdhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JlZm9yZSBydW5uaW5nIGEgU2FnYSwgeW91IG11c3QgbW91bnQgdGhlIFNhZ2EgbWlkZGxld2FyZSBvbiB0aGUgU3RvcmUgdXNpbmcgYXBwbHlNaWRkbGV3YXJlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kUnVuU2FnYS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgc2FnYU1pZGRsZXdhcmUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHtcbiAgICAgIF9fY2h1bmtfMS5jaGVjayhwcm9wcywgaXMub2JqZWN0LCBfX2NodW5rXzEuY3JlYXRlU2V0Q29udGV4dFdhcm5pbmcoJ3NhZ2FNaWRkbGV3YXJlJywgcHJvcHMpKTtcbiAgICB9XG5cbiAgICBfX2NodW5rXzEuYXNzaWduV2l0aFN5bWJvbHMoY29udGV4dCwgcHJvcHMpO1xuICB9O1xuXG4gIHJldHVybiBzYWdhTWlkZGxld2FyZTtcbn1cblxuZXhwb3J0cy5DQU5DRUwgPSBzeW1ib2xzLkNBTkNFTDtcbmV4cG9ydHMuU0FHQV9MT0NBVElPTiA9IHN5bWJvbHMuU0FHQV9MT0NBVElPTjtcbmV4cG9ydHMuYnVmZmVycyA9IF9fY2h1bmtfMS5idWZmZXJzO1xuZXhwb3J0cy5kZXRhY2ggPSBfX2NodW5rXzEuZGV0YWNoO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2FnYU1pZGRsZXdhcmVGYWN0b3J5O1xuZXhwb3J0cy5ydW5TYWdhID0gcnVuU2FnYTtcbmV4cG9ydHMuRU5EID0gRU5EO1xuZXhwb3J0cy5pc0VuZCA9IGlzRW5kO1xuZXhwb3J0cy5ldmVudENoYW5uZWwgPSBldmVudENoYW5uZWw7XG5leHBvcnRzLmNoYW5uZWwgPSBjaGFubmVsO1xuZXhwb3J0cy5tdWx0aWNhc3RDaGFubmVsID0gbXVsdGljYXN0Q2hhbm5lbDtcbmV4cG9ydHMuc3RkQ2hhbm5lbCA9IHN0ZENoYW5uZWw7XG4iXX0=