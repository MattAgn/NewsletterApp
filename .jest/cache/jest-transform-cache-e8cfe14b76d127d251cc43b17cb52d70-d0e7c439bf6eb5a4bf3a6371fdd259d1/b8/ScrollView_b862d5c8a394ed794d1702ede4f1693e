69b2b474f3fff9ffacb7ed5e9ee53003
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var AnimatedImplementation = require('../../Animated/src/AnimatedImplementation');

var Platform = require('../../Utilities/Platform');

var React = require('react');

var ReactNative = require('../../Renderer/shims/ReactNative');

var ScrollResponder = require('../ScrollResponder');

var ScrollViewStickyHeader = require('./ScrollViewStickyHeader');

var StyleSheet = require('../../StyleSheet/StyleSheet');

var View = require('../View/View');

var dismissKeyboard = require('../../Utilities/dismissKeyboard');

var flattenStyle = require('../../StyleSheet/flattenStyle');

var invariant = require('invariant');

var processDecelerationRate = require('./processDecelerationRate');

var requireNativeComponent = require('../../ReactNative/requireNativeComponent');

var resolveAssetSource = require('../../Image/resolveAssetSource');

var splitLayoutProps = require('../../StyleSheet/splitLayoutProps');

var AndroidScrollView;
var AndroidHorizontalScrollContentView;
var AndroidHorizontalScrollView;
var RCTScrollView;
var RCTScrollContentView;

if (Platform.OS === 'android') {
  AndroidScrollView = requireNativeComponent('RCTScrollView');
  AndroidHorizontalScrollView = requireNativeComponent('AndroidHorizontalScrollView');
  AndroidHorizontalScrollContentView = requireNativeComponent('AndroidHorizontalScrollContentView');
} else if (Platform.OS === 'ios') {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
} else {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
}

function createScrollResponder(node) {
  var scrollResponder = _objectSpread({}, ScrollResponder.Mixin);

  for (var _key in scrollResponder) {
    if (typeof scrollResponder[_key] === 'function') {
      scrollResponder[_key] = scrollResponder[_key].bind(node);
    }
  }

  return scrollResponder;
}

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  function ScrollView(props) {
    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(ScrollView).call(this, props));
    _this._scrollResponder = createScrollResponder((0, _assertThisInitialized2.default)(_this));
    _this._scrollAnimatedValue = new AnimatedImplementation.Value(0);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this.state = _objectSpread({
      layoutHeight: null
    }, ScrollResponder.Mixin.scrollResponderMixinGetInitialState());

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && Platform.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (Platform.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this.state.isTouching) {
          dismissKeyboard();
        }
      }

      _this._scrollResponder.scrollResponderHandleScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;

    _this._setScrollViewRef = function (ref) {
      _this._scrollViewRef = ref;
    };

    _this._innerViewRef = null;

    _this._setInnerViewRef = function (ref) {
      _this._innerViewRef = ref;
    };

    for (var _key2 in ScrollResponder.Mixin) {
      if (typeof ScrollResponder.Mixin[_key2] === 'function' && _key2.startsWith('scrollResponder')) {
        (0, _assertThisInitialized2.default)(_this)[_key2] = ScrollResponder.Mixin[_key2].bind((0, _assertThisInitialized2.default)(_this));
      }
    }

    Object.keys(ScrollResponder.Mixin).filter(function (key) {
      return typeof ScrollResponder.Mixin[key] !== 'function';
    }).forEach(function (key) {
      (0, _assertThisInitialized2.default)(_this)[key] = ScrollResponder.Mixin[key];
    });
    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      this._scrollResponder.UNSAFE_componentWillMount();

      this._scrollAnimatedValue = new AnimatedImplementation.Value(this.props.contentOffset ? this.props.contentOffset.y : 0);

      this._scrollAnimatedValue.setOffset(this.props.contentInset ? this.props.contentInset.top : 0);

      this._stickyHeaderRefs = new Map();
      this._headerLayoutYs = new Map();
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      var currentContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      var nextContentInsetTop = nextProps.contentInset ? nextProps.contentInset.top : 0;

      if (currentContentInsetTop !== nextContentInsetTop) {
        this._scrollAnimatedValue.setOffset(nextContentInsetTop || 0);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._scrollResponder.componentWillUnmount();

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      this._scrollViewRef && this._scrollViewRef.setNativeProps(props);
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      return this;
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      return ReactNative.findNodeHandle(this._scrollViewRef);
    }
  }, {
    key: "getInnerViewNode",
    value: function getInnerViewNode() {
      return ReactNative.findNodeHandle(this._innerViewRef);
    }
  }, {
    key: "getNativeScrollRef",
    value: function getNativeScrollRef() {
      return this._scrollViewRef;
    }
  }, {
    key: "scrollTo",
    value: function scrollTo(options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      this._scrollResponder.scrollResponderScrollTo({
        x: x || 0,
        y: y || 0,
        animated: animated !== false
      });
    }
  }, {
    key: "scrollToEnd",
    value: function scrollToEnd(options) {
      var animated = (options && options.animated) !== false;

      this._scrollResponder.scrollResponderScrollToEnd({
        animated: animated
      });
    }
  }, {
    key: "scrollWithoutAnimationTo",
    value: function scrollWithoutAnimationTo() {
      var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      console.warn('`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead');
      this.scrollTo({
        x: x,
        y: y,
        animated: false
      });
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollResponder.scrollResponderFlashScrollIndicators();
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = AnimatedImplementation.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var ScrollViewClass;
      var ScrollContentContainerViewClass;

      if (Platform.OS === 'android') {
        if (this.props.horizontal === true) {
          ScrollViewClass = AndroidHorizontalScrollView;
          ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
        } else {
          ScrollViewClass = AndroidScrollView;
          ScrollContentContainerViewClass = View;
        }
      } else {
        ScrollViewClass = RCTScrollView;
        ScrollContentContainerViewClass = RCTScrollContentView;
      }

      invariant(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');
      invariant(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = flattenStyle(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        invariant(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = {};

      if (this.props.onContentSizeChange) {
        contentSizeChangeProps = {
          onLayout: this._handleContentOnLayout
        };
      }

      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var _key3 = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            return React.createElement(ScrollViewStickyHeader, {
              key: _key3,
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(_key3, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, _key3);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(ScrollContentContainerViewClass, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: Platform.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var DEPRECATED_sendUpdatedChildFrames = !!this.props.DEPRECATED_sendUpdatedChildFrames;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;

      var props = _objectSpread({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: [baseStyle, this.props.style],
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._scrollResponder.scrollResponderHandleMomentumScrollBegin,
        onMomentumScrollEnd: this._scrollResponder.scrollResponderHandleMomentumScrollEnd,
        onResponderGrant: this._scrollResponder.scrollResponderHandleResponderGrant,
        onResponderReject: this._scrollResponder.scrollResponderHandleResponderReject,
        onResponderRelease: this._scrollResponder.scrollResponderHandleResponderRelease,
        onResponderTerminate: this._scrollResponder.scrollResponderHandleTerminate,
        onResponderTerminationRequest: this._scrollResponder.scrollResponderHandleTerminationRequest,
        onScrollBeginDrag: this._scrollResponder.scrollResponderHandleScrollBeginDrag,
        onScrollEndDrag: this._scrollResponder.scrollResponderHandleScrollEndDrag,
        onScrollShouldSetResponder: this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,
        onStartShouldSetResponder: this._scrollResponder.scrollResponderHandleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,
        onTouchEnd: this._scrollResponder.scrollResponderHandleTouchEnd,
        onTouchMove: this._scrollResponder.scrollResponderHandleTouchMove,
        onTouchStart: this._scrollResponder.scrollResponderHandleTouchStart,
        onTouchCancel: this._scrollResponder.scrollResponderHandleTouchCancel,
        onScroll: this._handleScroll,
        scrollBarThumbImage: resolveAssetSource(this.props.scrollBarThumbImage),
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        DEPRECATED_sendUpdatedChildFrames: DEPRECATED_sendUpdatedChildFrames,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: Platform.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });

      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = processDecelerationRate(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (Platform.OS === 'ios') {
          return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            ref: this._setScrollViewRef
          }), Platform.isTV ? null : refreshControl, contentContainer);
        } else if (Platform.OS === 'android') {
          var _splitLayoutProps = splitLayoutProps(flattenStyle(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: [baseStyle, outer]
          }, React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            style: [baseStyle, inner],
            ref: this._setScrollViewRef
          }), contentContainer));
        }
      }

      return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
        ref: this._setScrollViewRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

var styles = StyleSheet.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
module.exports = ScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTY3JvbGxSZXNwb25kZXIiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiU3R5bGVTaGVldCIsIlZpZXciLCJkaXNtaXNzS2V5Ym9hcmQiLCJmbGF0dGVuU3R5bGUiLCJpbnZhcmlhbnQiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJzcGxpdExheW91dFByb3BzIiwiQW5kcm9pZFNjcm9sbFZpZXciLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3IiwiUkNUU2Nyb2xsVmlldyIsIlJDVFNjcm9sbENvbnRlbnRWaWV3IiwiT1MiLCJjcmVhdGVTY3JvbGxSZXNwb25kZXIiLCJub2RlIiwic2Nyb2xsUmVzcG9uZGVyIiwiTWl4aW4iLCJrZXkiLCJiaW5kIiwiU2Nyb2xsVmlldyIsInByb3BzIiwiX3Njcm9sbFJlc3BvbmRlciIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiVmFsdWUiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsInN0YXRlIiwibGF5b3V0SGVpZ2h0Iiwic2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJjb25zb2xlIiwibG9nIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsImlzVG91Y2hpbmciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGwiLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJoZWlnaHQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJ3aWR0aCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfc2Nyb2xsVmlld1JlZiIsIl9zZXRTY3JvbGxWaWV3UmVmIiwicmVmIiwiX2lubmVyVmlld1JlZiIsIl9zZXRJbm5lclZpZXdSZWYiLCJzdGFydHNXaXRoIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImZvckVhY2giLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwiY29udGVudE9mZnNldCIsInkiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJ0b3AiLCJuZXh0UHJvcHMiLCJjdXJyZW50Q29udGVudEluc2V0VG9wIiwibmV4dENvbnRlbnRJbnNldFRvcCIsIl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkZXRhY2giLCJzZXROYXRpdmVQcm9wcyIsImZpbmROb2RlSGFuZGxlIiwib3B0aW9ucyIsImRlcHJlY2F0ZWRYIiwiZGVwcmVjYXRlZEFuaW1hdGVkIiwieCIsImFuaW1hdGVkIiwid2FybiIsInNjcm9sbFJlc3BvbmRlclNjcm9sbFRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQiLCJzY3JvbGxUbyIsInNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImluZGV4IiwiY2hpbGRBcnJheSIsImNoaWxkIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImxlbmd0aCIsImF0dGFjaE5hdGl2ZUV2ZW50Iiwic2V0IiwiZGVsZXRlIiwiZXZlbnQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsIl9nZXRLZXlGb3JJbmRleCIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwiZ2V0Iiwic2V0TmV4dEhlYWRlclkiLCJTY3JvbGxWaWV3Q2xhc3MiLCJTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIiwiaG9yaXpvbnRhbCIsInVuZGVmaW5lZCIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiX3NldFN0aWNreUhlYWRlclJlZiIsIl9vblN0aWNreUhlYWRlckxheW91dCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsRW5kIiwib25SZXNwb25kZXJHcmFudCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJSZWplY3QiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3QiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJUZXJtaW5hdGUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGUiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwib25TY3JvbGxFbmREcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsRW5kRHJhZyIsIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJvblRvdWNoRW5kIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hFbmQiLCJvblRvdWNoTW92ZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hTdGFydCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoU3RhcnQiLCJvblRvdWNoQ2FuY2VsIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hDYW5jZWwiLCJzY3JvbGxCYXJUaHVtYkltYWdlIiwic2VuZE1vbWVudHVtRXZlbnRzIiwic25hcFRvU3RhcnQiLCJzbmFwVG9FbmQiLCJwYWdpbmdFbmFibGVkIiwic2VsZWN0IiwiaW9zIiwic25hcFRvSW50ZXJ2YWwiLCJzbmFwVG9PZmZzZXRzIiwiYW5kcm9pZCIsImRlY2VsZXJhdGlvblJhdGUiLCJyZWZyZXNoQ29udHJvbCIsImlzVFYiLCJvdXRlciIsImlubmVyIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFB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QUFFLFFBSEg7QUFJWkMsSUFBQUEsUUFBUSxFQUFFO0FBSkUsR0FEaUI7QUFPL0J2RCxFQUFBQSxjQUFjLEVBQUU7QUFDZG9ELElBQUFBLFFBQVEsRUFBRSxDQURJO0FBRWRDLElBQUFBLFVBQVUsRUFBRSxDQUZFO0FBR2RDLElBQUFBLGFBQWEsRUFBRSxLQUhEO0FBSWRDLElBQUFBLFFBQVEsRUFBRTtBQUpJLEdBUGU7QUFhL0IzRSxFQUFBQSwwQkFBMEIsRUFBRTtBQUMxQjBFLElBQUFBLGFBQWEsRUFBRTtBQURXO0FBYkcsQ0FBbEIsQ0FBZjtBQWtCQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCekssVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL0FuaW1hdGVkL3NyYy9BbmltYXRlZEltcGxlbWVudGF0aW9uJyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpO1xuY29uc3QgU2Nyb2xsUmVzcG9uZGVyID0gcmVxdWlyZSgnLi4vU2Nyb2xsUmVzcG9uZGVyJyk7XG5jb25zdCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyID0gcmVxdWlyZSgnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0Jyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vVmlldy9WaWV3Jyk7XG5cbmNvbnN0IGRpc21pc3NLZXlib2FyZCA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9kaXNtaXNzS2V5Ym9hcmQnKTtcbmNvbnN0IGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJyk7XG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmNvbnN0IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlID0gcmVxdWlyZSgnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZScpO1xuY29uc3QgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL1JlYWN0TmF0aXZlL3JlcXVpcmVOYXRpdmVDb21wb25lbnQnKTtcbmNvbnN0IHJlc29sdmVBc3NldFNvdXJjZSA9IHJlcXVpcmUoJy4uLy4uL0ltYWdlL3Jlc29sdmVBc3NldFNvdXJjZScpO1xuY29uc3Qgc3BsaXRMYXlvdXRQcm9wcyA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvc3BsaXRMYXlvdXRQcm9wcycpO1xuXG5pbXBvcnQgdHlwZSB7XG4gIFByZXNzRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxuICBMYXlvdXRFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7TmF0aXZlTWV0aG9kc01peGluVHlwZX0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BvaW50UHJvcFR5cGUnO1xuXG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0VHlwZXMnO1xuaW1wb3J0IHR5cGUge1N0YXRlIGFzIFNjcm9sbFJlc3BvbmRlclN0YXRlfSBmcm9tICcuLi9TY3JvbGxSZXNwb25kZXInO1xuXG5sZXQgQW5kcm9pZFNjcm9sbFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50VmlldztcbmxldCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsVmlldztcbmxldCBSQ1RTY3JvbGxDb250ZW50VmlldztcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgQW5kcm9pZFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoXG4gICAgJ0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldycsXG4gICk7XG4gIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KFxuICAgICdBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3JyxcbiAgKTtcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn0gZWxzZSB7XG4gIFJDVFNjcm9sbFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxWaWV3Jyk7XG4gIFJDVFNjcm9sbENvbnRlbnRWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2Nyb2xsQ29udGVudFZpZXcnKTtcbn1cblxuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IHtcbiAgLi4uU2Nyb2xsVmlldyxcbiAgLi4udHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbixcbn07XG5cbnR5cGUgVG91Y2hhYmxlUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgb25Ub3VjaFN0YXJ0PzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblRvdWNoTW92ZT86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaEVuZD86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaENhbmNlbD86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25Ub3VjaEVuZENhcHR1cmU/OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG58fT47XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IHdpbGwgZW1pdCB1cGRhdGVDaGlsZEZyYW1lcyBkYXRhIGluIHNjcm9sbCBldmVudHMsXG4gICAqIG90aGVyd2lzZSB3aWxsIG5vdCBjb21wdXRlIG9yIGVtaXQgY2hpbGQgZnJhbWUgZGF0YS4gIFRoaXMgb25seSBleGlzdHNcbiAgICogdG8gc3VwcG9ydCBsZWdhY3kgaXNzdWVzLCBgb25MYXlvdXRgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgdG8gcmV0cmlldmVcbiAgICogZnJhbWUgZGF0YS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcz86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIFZSUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIE9wdGlvbmFsbHkgYW4gaW1hZ2UgY2FuIGJlIHVzZWQgZm9yIHRoZSBzY3JvbGwgYmFyIHRodW1iLiBUaGlzIHdpbGxcbiAgICogb3ZlcnJpZGUgdGhlIGNvbG9yLiBXaGlsZSB0aGUgaW1hZ2UgaXMgbG9hZGluZyBvciB0aGUgaW1hZ2UgZmFpbHMgdG9cbiAgICogbG9hZCB0aGUgY29sb3Igd2lsbCBiZSB1c2VkIGluc3RlYWQuIFVzZSBhbiBhbHBoYSBvZiAwIGluIHRoZSBjb2xvclxuICAgKiB0byBhdm9pZCBzZWVpbmcgaXQgd2hpbGUgdGhlIGltYWdlIGlzIGxvYWRpbmcuXG4gICAqXG4gICAqIC0gYHVyaWAgLSBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJlc291cmNlIGlkZW50aWZpZXIgZm9yIHRoZSBpbWFnZSwgd2hpY2hcbiAgICogc2hvdWxkIGJlIGVpdGhlciBhIGxvY2FsIGZpbGUgcGF0aCBvciB0aGUgbmFtZSBvZiBhIHN0YXRpYyBpbWFnZSByZXNvdXJjZVxuICAgKiAtIGBudW1iZXJgIC0gT3BhcXVlIHR5cGUgcmV0dXJuZWQgYnkgc29tZXRoaW5nIGxpa2VcbiAgICogYGltcG9ydCBJTUFHRSBmcm9tICcuL2ltYWdlLmpwZydgLlxuICAgKiBAcGxhdGZvcm0gdnJcbiAgICovXG4gIHNjcm9sbEJhclRodW1iSW1hZ2U/OiA/KCRSZWFkT25seTx7fHx9PiB8IG51bWJlciksIC8vIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IGltcG9ydCBJTUFHRSBmcm9tICcuL2ltYWdlLmpwZydcbnx9PjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5Ub3VjaGFibGVQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcbiAgLi4uVlJQcm9wcyxcblxuICAvKipcbiAgICogVGhlc2Ugc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBjb250YWluZXIgd2hpY2hcbiAgICogd3JhcHMgYWxsIG9mIHRoZSBjaGlsZCB2aWV3cy4gRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHJldHVybiAoXG4gICAqICAgPFNjcm9sbFZpZXcgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuY29udGVudENvbnRhaW5lcn0+XG4gICAqICAgPC9TY3JvbGxWaWV3PlxuICAgKiApO1xuICAgKiAuLi5cbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGNvbnRlbnRDb250YWluZXI6IHtcbiAgICogICAgIHBhZGRpbmdWZXJ0aWNhbDogMjBcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZT86ID9WaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gdGhlIG5leHQgaW5kZXggKGluIHJlbGF0aW9uIHRvIHNjcm9sbFxuICAgKiBwb3NpdGlvbiBhdCByZWxlYXNlKSByZWdhcmRsZXNzIG9mIGhvdyBmYXN0IHRoZSBnZXN0dXJlIGlzLiBUaGlzIGNhbiBiZVxuICAgKiB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24gd2hlbiB0aGUgcGFnZSBpcyBsZXNzIHRoYW4gdGhlIHdpZHRoIG9mXG4gICAqIHRoZSBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID8oJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXIpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8oXG4gICAgfCAnbm9uZScgLy8gZGVmYXVsdFxuICAgIHwgJ29uLWRyYWcnIC8vIGNyb3NzLXBsYXRmb3JtXG4gICAgfCAnaW50ZXJhY3RpdmUnXG4gICksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgdHJ1ZSB8IGZhbHNlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogKGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuXG4gIC8qKlxuICAgKiBGaXJlcyBhdCBtb3N0IG9uY2UgcGVyIGZyYW1lIGR1cmluZyBzY3JvbGxpbmcuIFRoZSBmcmVxdWVuY3kgb2YgdGhlXG4gICAqIGV2ZW50cyBjYW4gYmUgY29udHJvbGxlZCB1c2luZyB0aGUgYHNjcm9sbEV2ZW50VGhyb3R0bGVgIHByb3AuXG4gICAqL1xuICBvblNjcm9sbD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gc2Nyb2xsYWJsZSBjb250ZW50IHZpZXcgb2YgdGhlIFNjcm9sbFZpZXcgY2hhbmdlcy5cbiAgICpcbiAgICogSGFuZGxlciBmdW5jdGlvbiBpcyBwYXNzZWQgdGhlIGNvbnRlbnQgd2lkdGggYW5kIGNvbnRlbnQgaGVpZ2h0IGFzIHBhcmFtZXRlcnM6XG4gICAqIGAoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KWBcbiAgICpcbiAgICogSXQncyBpbXBsZW1lbnRlZCB1c2luZyBvbkxheW91dCBoYW5kbGVyIGF0dGFjaGVkIHRvIHRoZSBjb250ZW50IGNvbnRhaW5lclxuICAgKiB3aGljaCB0aGlzIFNjcm9sbFZpZXcgcmVuZGVycy5cbiAgICovXG4gIG9uQ29udGVudFNpemVDaGFuZ2U/OiAoY29udGVudFdpZHRoOiBudW1iZXIsIGNvbnRlbnRIZWlnaHQ6IG51bWJlcikgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZFNob3c/OiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogTm90ZTogVmVydGljYWwgcGFnaW5hdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSB2ZXJ0aWNhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY2hpbGQgaW5kaWNlcyBkZXRlcm1pbmluZyB3aGljaCBjaGlsZHJlbiBnZXQgZG9ja2VkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIHBhc3NpbmdcbiAgICogYHN0aWNreUhlYWRlckluZGljZXM9e1swXX1gIHdpbGwgY2F1c2UgdGhlIGZpcnN0IGNoaWxkIHRvIGJlIGZpeGVkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb25cbiAgICogd2l0aCBgaG9yaXpvbnRhbD17dHJ1ZX1gLlxuICAgKi9cbiAgc3RpY2t5SGVhZGVySW5kaWNlcz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdWN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgYmVnaW5uaW5nXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb1N0YXJ0YCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgc3RhcnQgYW5kXG4gICAqIHRoZSBmaXJzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvU3RhcnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdWN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8vICRGbG93Rml4TWUgLSBob3cgdG8gaGFuZGxlIGdlbmVyaWMgdHlwZSB3aXRob3V0IGV4aXN0ZW50aWFsIG9wZXJlYXRvcj9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG58fT47XG5cbnR5cGUgU3RhdGUgPSB7fFxuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG4gIC4uLlNjcm9sbFJlc3BvbmRlclN0YXRlLFxufH07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNjcm9sbFJlc3BvbmRlcihcbiAgbm9kZTogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz4sXG4pOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluIHtcbiAgY29uc3Qgc2Nyb2xsUmVzcG9uZGVyID0gey4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbn07XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gc2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgaWYgKHR5cGVvZiBzY3JvbGxSZXNwb25kZXJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc2Nyb2xsUmVzcG9uZGVyW2tleV0gPSBzY3JvbGxSZXNwb25kZXJba2V5XS5iaW5kKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzY3JvbGxSZXNwb25kZXI7XG59XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgd3JhcHMgcGxhdGZvcm0gU2Nyb2xsVmlldyB3aGlsZSBwcm92aWRpbmdcbiAqIGludGVncmF0aW9uIHdpdGggdG91Y2ggbG9ja2luZyBcInJlc3BvbmRlclwiIHN5c3RlbS5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBTY3JvbGxWaWV3cyBtdXN0IGhhdmUgYSBib3VuZGVkIGhlaWdodCBpbiBvcmRlciB0byB3b3JrLFxuICogc2luY2UgdGhleSBjb250YWluIHVuYm91bmRlZC1oZWlnaHQgY2hpbGRyZW4gaW50byBhIGJvdW5kZWQgY29udGFpbmVyICh2aWFcbiAqIGEgc2Nyb2xsIGludGVyYWN0aW9uKS4gSW4gb3JkZXIgdG8gYm91bmQgdGhlIGhlaWdodCBvZiBhIFNjcm9sbFZpZXcsIGVpdGhlclxuICogc2V0IHRoZSBoZWlnaHQgb2YgdGhlIHZpZXcgZGlyZWN0bHkgKGRpc2NvdXJhZ2VkKSBvciBtYWtlIHN1cmUgYWxsIHBhcmVudFxuICogdmlld3MgaGF2ZSBib3VuZGVkIGhlaWdodC4gRm9yZ2V0dGluZyB0byB0cmFuc2ZlciBge2ZsZXg6IDF9YCBkb3duIHRoZVxuICogdmlldyBzdGFjayBjYW4gbGVhZCB0byBlcnJvcnMgaGVyZSwgd2hpY2ggdGhlIGVsZW1lbnQgaW5zcGVjdG9yIG1ha2VzXG4gKiBlYXN5IHRvIGRlYnVnLlxuICpcbiAqIERvZXNuJ3QgeWV0IHN1cHBvcnQgb3RoZXIgY29udGFpbmVkIHJlc3BvbmRlcnMgZnJvbSBibG9ja2luZyB0aGlzIHNjcm9sbFxuICogdmlldyBmcm9tIGJlY29taW5nIHRoZSByZXNwb25kZXIuXG4gKlxuICpcbiAqIGA8U2Nyb2xsVmlldz5gIHZzIFtgPEZsYXRMaXN0PmBdKC9yZWFjdC1uYXRpdmUvZG9jcy9mbGF0bGlzdC5odG1sKSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIC8qKlxuICAgKiBQYXJ0IDE6IFJlbW92aW5nIFNjcm9sbFJlc3BvbmRlci5NaXhpbjpcbiAgICpcbiAgICogMS4gTWl4aW4gbWV0aG9kcyBzaG91bGQgYmUgZmxvdyB0eXBlZC4gVGhhdCdzIHdoeSB3ZSBjcmVhdGUgYVxuICAgKiAgICBjb3B5IG9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbiBhbmQgYXR0YWNoIGl0IHRvIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5cbiAgICogICAgT3RoZXJ3aXNlLCB3ZSdkIGhhdmUgdG8gbWFudWFsbHkgZGVjbGFyZSBlYWNoIG1ldGhvZCBvbiB0aGUgY29tcG9uZW50XG4gICAqICAgIGNsYXNzIGFuZCBhc3NpZ24gaXQgYSBmbG93IHR5cGUuXG4gICAqIDIuIE1peGluIG1ldGhvZHMgY2FuIGNhbGwgY29tcG9uZW50IG1ldGhvZHMsIGFuZCBhY2Nlc3MgdGhlIGNvbXBvbmVudCdzXG4gICAqICAgIHByb3BzIGFuZCBzdGF0ZS4gU28sIHdlIG5lZWQgdG8gYmluZCBhbGwgbWl4aW4gbWV0aG9kcyB0byB0aGVcbiAgICogICAgY29tcG9uZW50IGluc3RhbmNlLlxuICAgKiAzLiBDb250aW51ZWQuLi5cbiAgICovXG4gIF9zY3JvbGxSZXNwb25kZXI6IHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4gPSBjcmVhdGVTY3JvbGxSZXNwb25kZXIodGhpcyk7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgLyoqXG4gICAgICogUGFydCAyOiBSZW1vdmluZyBTY3JvbGxSZXNwb25kZXIuTWl4aW5cbiAgICAgKlxuICAgICAqIDMuIE1peGluIG1ldGhvZHMgYWNjZXNzIG90aGVyIG1peGluIG1ldGhvZHMgdmlhIGR5bmFtaWMgZGlzcGF0Y2ggdXNpbmdcbiAgICAgKiAgICB0aGlzLiBTaW5jZSBtaXhpbiBtZXRob2RzIGFyZSBib3VuZCB0byB0aGUgY29tcG9uZW50IGluc3RhbmNlLCB3ZSBuZWVkXG4gICAgICogICAgdG8gY29weSBhbGwgbWl4aW4gbWV0aG9kcyB0byB0aGUgY29tcG9uZW50IGluc3RhbmNlLiBUaGlzIGlzIGFsc29cbiAgICAgKiAgICBuZWNlc3NhcnkgYmVjYXVzZSBnZXRTY3JvbGxSZXNwb25kZXIoKSBpcyBhIHB1YmxpYyBtZXRob2QgdGhhdCByZXR1cm5zXG4gICAgICogICAgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBhbGwgc2Nyb2xsUmVzcG9uZGVyIG1ldGhvZHMuXG4gICAgICogICAgU2luY2UgdGhlIG9iamVjdCByZXR1cm5lZCBmcm9tIHRoYXQgbWV0aG9kIGlzIHRoZSBTY3JvbGxWaWV3IGluc3RhbmNlLFxuICAgICAqICAgIHdlIG5lZWQgdG8gYmluZCBhbGwgbWl4aW4gbWV0aG9kcyB0byB0aGUgU2Nyb2xsVmlldyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBTY3JvbGxSZXNwb25kZXIuTWl4aW4pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbltrZXldID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIGtleS5zdGFydHNXaXRoKCdzY3JvbGxSZXNwb25kZXInKVxuICAgICAgKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBkeW5hbWljYWxseSBhZGRpbmcgcHJvcGVydGllcyB0byBhIGNsYXNzXG4gICAgICAgICh0aGlzOiBhbnkpW2tleV0gPSBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnQgMzogUmVtb3ZpbmcgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgICpcbiAgICAgKiA0LiBNaXhpbnMgY2FuIGluaXRpYWxpemUgcHJvcGVydGllcyBhbmQgdXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbXBvbmVudFxuICAgICAqICAgIGluc3RhbmNlLlxuICAgICAqL1xuICAgIE9iamVjdC5rZXlzKFNjcm9sbFJlc3BvbmRlci5NaXhpbilcbiAgICAgIC5maWx0ZXIoa2V5ID0+IHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBkeW5hbWljYWxseSBhZGRpbmcgcHJvcGVydGllcyB0byBhIGNsYXNzXG4gICAgICAgICh0aGlzOiBhbnkpW2tleV0gPSBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUgPSBuZXcgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZShcbiAgICAwLFxuICApO1xuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQ6ID97ZGV0YWNoOiAoKSA9PiB2b2lkfSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8bnVtYmVyLCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyPiA9IG5ldyBNYXAoKTtcbiAgX2hlYWRlckxheW91dFlzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIHN0YXRlID0ge1xuICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgICAuLi5TY3JvbGxSZXNwb25kZXIuTWl4aW4uc2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUoKSxcbiAgfTtcblxuICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0ID8gdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0LnkgOiAwLFxuICAgICk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQoXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC45OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjk4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRJbnNldCA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcCA6IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2hlYWRlckxheW91dFlzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IGN1cnJlbnRDb250ZW50SW5zZXRUb3AgPSB0aGlzLnByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyB0aGlzLnByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBjb25zdCBuZXh0Q29udGVudEluc2V0VG9wID0gbmV4dFByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyBuZXh0UHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGlmIChjdXJyZW50Q29udGVudEluc2V0VG9wICE9PSBuZXh0Q29udGVudEluc2V0VG9wKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChuZXh0Q29udGVudEluc2V0VG9wIHx8IDApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiB7W2tleTogc3RyaW5nXTogbWl4ZWR9KSB7XG4gICAgdGhpcy5fc2Nyb2xsVmlld1JlZiAmJiB0aGlzLl9zY3JvbGxWaWV3UmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogU2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIG92ZXJyaWRpbmcgdHlwZSB0byBpbmNsdWRlIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZSgpOiA/bnVtYmVyIHtcbiAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5faW5uZXJWaWV3UmVmKTtcbiAgfVxuXG4gIGdldE5hdGl2ZVNjcm9sbFJlZigpOiA/U2Nyb2xsVmlldyB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbFZpZXdSZWY7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xscyB0byBhIGdpdmVuIHgsIHkgb2Zmc2V0LCBlaXRoZXIgaW1tZWRpYXRlbHkgb3Igd2l0aCBhIHNtb290aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBzY3JvbGxUbyh7eDogMCwgeTogMCwgYW5pbWF0ZWQ6IHRydWV9KWBcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbyhcbiAgICBvcHRpb25zPzoge3g/OiBudW1iZXIsIHk/OiBudW1iZXIsIGFuaW1hdGVkPzogYm9vbGVhbn0gfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG8oe1xuICAgICAgeDogeCB8fCAwLFxuICAgICAgeTogeSB8fCAwLFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZChvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW59KSB7XG4gICAgLy8gRGVmYXVsdCB0byB0cnVlXG4gICAgY29uc3QgYW5pbWF0ZWQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGVkKSAhPT0gZmFsc2U7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlclNjcm9sbFRvRW5kKHtcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkLCB1c2UgYHNjcm9sbFRvYCBpbnN0ZWFkLlxuICAgKi9cbiAgc2Nyb2xsV2l0aG91dEFuaW1hdGlvblRvKHk6IG51bWJlciA9IDAsIHg6IG51bWJlciA9IDApIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnYHNjcm9sbFdpdGhvdXRBbmltYXRpb25Ub2AgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUb2AgaW5zdGVhZCcsXG4gICAgKTtcbiAgICB0aGlzLnNjcm9sbFRvKHt4LCB5LCBhbmltYXRlZDogZmFsc2V9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyRmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYsXG4gICAgICAgICdvblNjcm9sbCcsXG4gICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiYgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID09IG51bGwgJiZcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1lvdSBzcGVjaWZpZWQgYG9uU2Nyb2xsYCBvbiBhIDxTY3JvbGxWaWV3PiBidXQgbm90ICcgK1xuICAgICAgICAgICAgJ2BzY3JvbGxFdmVudFRocm90dGxlYC4gWW91IHdpbGwgb25seSByZWNlaXZlIG9uZSBldmVudC4gJyArXG4gICAgICAgICAgICAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICtcbiAgICAgICAgICAgIFwiY2F1c2UgZnJhbWUgZHJvcHMsIHVzZSBhIGJpZ2dlciBudW1iZXIgaWYgeW91IGRvbid0IG5lZWQgYXMgXCIgK1xuICAgICAgICAgICAgJ211Y2ggcHJlY2lzaW9uLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnICYmXG4gICAgICAgIHRoaXMuc3RhdGUuaXNUb3VjaGluZ1xuICAgICAgKSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9zY3JvbGxWaWV3UmVmOiA/U2Nyb2xsVmlldyA9IG51bGw7XG4gIF9zZXRTY3JvbGxWaWV3UmVmID0gKHJlZjogP1Njcm9sbFZpZXcpID0+IHtcbiAgICB0aGlzLl9zY3JvbGxWaWV3UmVmID0gcmVmO1xuICB9O1xuXG4gIF9pbm5lclZpZXdSZWY6ID9OYXRpdmVNZXRob2RzTWl4aW5UeXBlID0gbnVsbDtcbiAgX3NldElubmVyVmlld1JlZiA9IChyZWY6ID9OYXRpdmVNZXRob2RzTWl4aW5UeXBlKSA9PiB7XG4gICAgdGhpcy5faW5uZXJWaWV3UmVmID0gcmVmO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgU2Nyb2xsVmlld0NsYXNzO1xuICAgIGxldCBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzO1xuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlKSB7XG4gICAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBBbmRyb2lkU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IFZpZXc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IFJDVFNjcm9sbFZpZXc7XG4gICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzID0gUkNUU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgU2Nyb2xsVmlld0NsYXNzICE9PSB1bmRlZmluZWQsXG4gICAgICAnU2Nyb2xsVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgIT09IHVuZGVmaW5lZCxcbiAgICAgICdTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBjb250ZW50U2l6ZUNoYW5nZVByb3BzID0ge307XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHtcbiAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBjaGlsZHJlbiA9IGNoaWxkQXJyYXkubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2Nyb2xsVmlld1N0aWNreUhlYWRlclxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgbmV4dEhlYWRlckxheW91dFk9e3RoaXMuX2hlYWRlckxheW91dFlzLmdldChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChuZXh0SW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBvbkxheW91dD17ZXZlbnQgPT4gdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpfVxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRlZFZhbHVlPXt0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfVxuICAgICAgICAgICAgICBpbnZlcnRlZD17dGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU2Nyb2xsVmlld1N0aWNreUhlYWRlcj5cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8U2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzc1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgcmVmPXt0aGlzLl9zZXRJbm5lclZpZXdSZWZ9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzID0gISF0aGlzLnByb3BzXG4gICAgICAuREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgICA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFtiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlamVjdCxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICBvblRvdWNoQ2FuY2VsOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsQmFyVGh1bWJJbWFnZTogcmVzb2x2ZUFzc2V0U291cmNlKHRoaXMucHJvcHMuc2Nyb2xsQmFyVGh1bWJJbWFnZSksXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgID8gMVxuICAgICAgICA6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgIHNlbmRNb21lbnR1bUV2ZW50czpcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gfHwgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgIERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcyxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvU3RhcnQ6IHRoaXMucHJvcHMuc25hcFRvU3RhcnQgIT09IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9FbmQ6IHRoaXMucHJvcHMuc25hcFRvRW5kICE9PSBmYWxzZSxcbiAgICAgIC8vIHBhZ2luZ0VuYWJsZWQgaXMgb3ZlcnJpZGRlbiBieSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHNcbiAgICAgIHBhZ2luZ0VuYWJsZWQ6IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgIC8vIG9uIGlPUywgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byBmYWxzZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGlvczpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsID09IG51bGwgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgPT0gbnVsbCxcbiAgICAgICAgLy8gb24gQW5kcm9pZCwgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byB0cnVlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgYW5kcm9pZDpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsICE9IG51bGwgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgIT0gbnVsbCxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICBjb25zdCB7ZGVjZWxlcmF0aW9uUmF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkZWNlbGVyYXRpb25SYXRlICE9IG51bGwpIHtcbiAgICAgIHByb3BzLmRlY2VsZXJhdGlvblJhdGUgPSBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZShkZWNlbGVyYXRpb25SYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWZyZXNoQ29udHJvbCA9IHRoaXMucHJvcHMucmVmcmVzaENvbnRyb2w7XG5cbiAgICBpZiAocmVmcmVzaENvbnRyb2wpIHtcbiAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgLy8gT24gaU9TIHRoZSBSZWZyZXNoQ29udHJvbCBpcyBhIGNoaWxkIG9mIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyB0dk9TIGxhY2tzIG5hdGl2ZSBzdXBwb3J0IGZvciBSZWZyZXNoQ29udHJvbCwgc28gZG9uJ3QgaW5jbHVkZSBpdCBpbiB0aGF0IGNhc2VcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzcyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0U2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7UGxhdGZvcm0uaXNUViA/IG51bGwgOiByZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvU2Nyb2xsVmlld0NsYXNzPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgd3JhcCB0aGUgU2Nyb2xsVmlldyB3aXRoIGEgQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dC5cbiAgICAgICAgLy8gU2luY2UgdGhlIFNjcm9sbFZpZXcgaXMgd3JhcHBlZCBhZGQgdGhlIHN0eWxlIHByb3BzIHRvIHRoZVxuICAgICAgICAvLyBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0IGFuZCB1c2UgZmxleDogMSBmb3IgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIE5vdGU6IHdlIHNob3VsZCBzcGxpdCBwcm9wcy5zdHlsZSBvbiB0aGUgaW5uZXIgYW5kIG91dGVyIHByb3BzXG4gICAgICAgIC8vIGhvd2V2ZXIsIHRoZSBTY3JvbGxWaWV3IHN0aWxsIG5lZWRzIHRoZSBiYXNlU3R5bGUgdG8gYmUgc2Nyb2xsYWJsZVxuICAgICAgICBjb25zdCB7b3V0ZXIsIGlubmVyfSA9IHNwbGl0TGF5b3V0UHJvcHMoZmxhdHRlblN0eWxlKHByb3BzLnN0eWxlKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgcmVmcmVzaENvbnRyb2wsXG4gICAgICAgICAge3N0eWxlOiBbYmFzZVN0eWxlLCBvdXRlcl19LFxuICAgICAgICAgIDxTY3JvbGxWaWV3Q2xhc3NcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIHN0eWxlPXtbYmFzZVN0eWxlLCBpbm5lcl19XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICByZWY9e3RoaXMuX3NldFNjcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgPFNjcm9sbFZpZXdDbGFzcyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0U2Nyb2xsVmlld1JlZn0+XG4gICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2Nyb2xsVmlldztcbiJdfQ==