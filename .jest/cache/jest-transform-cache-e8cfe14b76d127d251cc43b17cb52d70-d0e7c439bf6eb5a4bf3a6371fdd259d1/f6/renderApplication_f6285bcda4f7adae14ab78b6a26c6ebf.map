{"version":3,"sources":["renderApplication.js"],"names":["AppContainer","require","React","ReactFabricIndicator","invariant","renderApplication","RootComponent","initialProps","rootTag","WrapperComponent","fabric","showFabricIndicator","scopedPerformanceLogger","renderable","GlobalPerformanceLogger","prototype","unstable_isAsyncReactComponent","ConcurrentMode","unstable_ConcurrentMode","startTimespan","render","stopTimespan","module","exports"],"mappings":"AAUA;;;;;;AAGA;;AAEA;;AAHA,IAAMA,YAAY,GAAGC,OAAO,CAAC,gBAAD,CAA5B;;AAIA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAME,oBAAoB,GAAGF,OAAO,CAAC,wBAAD,CAApC;;AAEA,IAAMG,SAAS,GAAGH,OAAO,CAAC,WAAD,CAAzB;;AAGAA,OAAO,CAAC,0BAAD,CAAP;;AAEA,SAASI,iBAAT,CACEC,aADF,EAEEC,YAFF,EAGEC,OAHF,EAIEC,gBAJF,EAKEC,MALF,EAMEC,mBANF,EAOEC,uBAPF,EAQE;AAAA;;AACAR,EAAAA,SAAS,CAACI,OAAD,EAAU,8CAAV,EAA0DA,OAA1D,CAAT;AAEA,MAAIK,UAAU,GACZ,oBAAC,iCAAD,CAA0B,QAA1B;AACE,IAAA,KAAK,2BAAED,uBAAF,oCAA6BE;AADpC,KAEE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEN,OAAvB;AAAgC,IAAA,gBAAgB,EAAEC;AAAlD,KACE,oBAAC,aAAD,6BAAmBF,YAAnB;AAAiC,IAAA,OAAO,EAAEC;AAA1C,KADF,EAEGE,MAAM,KAAK,IAAX,IAAmBC,mBAAmB,KAAK,IAA3C,GACC,oBAAC,oBAAD,OADD,GAEG,IAJN,CAFF,CADF;;AAeA,MAIEL,aAAa,CAACS,SAAd,IAA2B,IAA3B,IACAT,aAAa,CAACS,SAAd,CAAwBC,8BAAxB,KAA2D,IAL7D,EAME;AAEA,QAAMC,cAAc,GAAGf,KAAK,CAACgB,uBAA7B;AACAL,IAAAA,UAAU,GAAG,oBAAC,cAAD,QAAiBA,UAAjB,CAAb;AACD;;AAEDC,mCAAwBK,aAAxB,CAAsC,gCAAtC;;AACA,MAAIT,MAAJ,EAAY;AACVT,IAAAA,OAAO,CAAC,+BAAD,CAAP,CAAyCmB,MAAzC,CAAgDP,UAAhD,EAA4DL,OAA5D;AACD,GAFD,MAEO;AACLP,IAAAA,OAAO,CAAC,+BAAD,CAAP,CAAyCmB,MAAzC,CAAgDP,UAAhD,EAA4DL,OAA5D;AACD;;AACDM,mCAAwBO,YAAxB,CAAqC,gCAArC;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBlB,iBAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst AppContainer = require('./AppContainer');\nimport GlobalPerformanceLogger from '../Utilities/GlobalPerformanceLogger';\nimport type {IPerformanceLogger} from '../Utilities/createPerformanceLogger';\nimport PerformanceLoggerContext from '../Utilities/PerformanceLoggerContext';\nconst React = require('react');\nconst ReactFabricIndicator = require('./ReactFabricIndicator');\n\nconst invariant = require('invariant');\n\n// require BackHandler so it sets the default handler that exits the app if no listeners respond\nrequire('../Utilities/BackHandler');\n\nfunction renderApplication<Props: Object>(\n  RootComponent: React.ComponentType<Props>,\n  initialProps: Props,\n  rootTag: any,\n  WrapperComponent?: ?React.ComponentType<*>,\n  fabric?: boolean,\n  showFabricIndicator?: boolean,\n  scopedPerformanceLogger?: IPerformanceLogger,\n) {\n  invariant(rootTag, 'Expect to have a valid rootTag, instead got ', rootTag);\n\n  let renderable = (\n    <PerformanceLoggerContext.Provider\n      value={scopedPerformanceLogger ?? GlobalPerformanceLogger}>\n      <AppContainer rootTag={rootTag} WrapperComponent={WrapperComponent}>\n        <RootComponent {...initialProps} rootTag={rootTag} />\n        {fabric === true && showFabricIndicator === true ? (\n          <ReactFabricIndicator />\n        ) : null}\n      </AppContainer>\n    </PerformanceLoggerContext.Provider>\n  );\n\n  // If the root component is async, the user probably wants the initial render\n  // to be async also. To do this, wrap AppContainer with an async marker.\n  // For more info see https://fb.me/is-component-async\n  if (\n    /* $FlowFixMe(>=0.68.0 site=react_native_fb) This comment suppresses an\n     * error found when Flow v0.68 was deployed. To see the error delete this\n     * comment and run Flow. */\n    RootComponent.prototype != null &&\n    RootComponent.prototype.unstable_isAsyncReactComponent === true\n  ) {\n    // $FlowFixMe This is not yet part of the official public API\n    const ConcurrentMode = React.unstable_ConcurrentMode;\n    renderable = <ConcurrentMode>{renderable}</ConcurrentMode>;\n  }\n\n  GlobalPerformanceLogger.startTimespan('renderApplication_React_render');\n  if (fabric) {\n    require('../Renderer/shims/ReactFabric').render(renderable, rootTag);\n  } else {\n    require('../Renderer/shims/ReactNative').render(renderable, rootTag);\n  }\n  GlobalPerformanceLogger.stopTimespan('renderApplication_React_render');\n}\n\nmodule.exports = renderApplication;\n"]}