{"version":3,"sources":["makeReactNativeField.js"],"names":["makeReactNativeField","withFormik","formik","setFieldValue","setFieldTouched","values","isSubmitting","name","props","value","_","get","onChangeText","text","onBlur"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA;;;;;;AAEA,IAAMA,oBAAoB,GAAG,wBAC3BC,mBAD2B,EAE3B,yBACE;AAAA,yBACEC,MADF;AAAA,MACYC,aADZ,eACYA,aADZ;AAAA,MAC2BC,eAD3B,eAC2BA,eAD3B;AAAA,MAC4CC,MAD5C,eAC4CA,MAD5C;AAAA,MACoDC,YADpD,eACoDA,YADpD;AAAA,MAEEC,IAFF,QAEEA,IAFF;AAAA,MAGKC,KAHL;AAAA;AAKEC,IAAAA,KAAK,EAAEC,gBAAEC,GAAF,CAAMN,MAAN,EAAcE,IAAd;AALT,KAMKC,KANL;AAOED,IAAAA,IAAI,EAAJA,IAPF;AAQEK,IAAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AACpBV,MAAAA,aAAa,CAACI,IAAD,EAAOM,IAAP,CAAb;AACA,UAAIL,KAAK,CAACI,YAAV,EAAwBJ,KAAK,CAACI,YAAN,CAAmBC,IAAnB;AACzB,KAXH;AAYEC,IAAAA,MAAM,EAAE,kBAAM;AAGZV,MAAAA,eAAe,CAACG,IAAD,EAAO,IAAP,EAAa,CAACD,YAAd,CAAf;AACA,UAAIE,KAAK,CAACM,MAAV,EAAkBN,KAAK,CAACM,MAAN;AACnB;AAjBH;AAAA,CADF,CAF2B,CAA7B;eAyBed,oB","sourcesContent":["import { compose, mapProps } from \"recompose\";\nimport _ from \"lodash\";\n\nimport withFormik from \"./withFormik\";\n\nconst makeReactNativeField = compose(\n  withFormik,\n  mapProps(\n    ({\n      formik: { setFieldValue, setFieldTouched, values, isSubmitting },\n      name,\n      ...props\n    }) => ({\n      value: _.get(values, name),\n      ...props,\n      name,\n      onChangeText: text => {\n        setFieldValue(name, text);\n        if (props.onChangeText) props.onChangeText(text);\n      },\n      onBlur: () => {\n        // validate onBlur only while not submitting\n        // this prevents validating twice in succession when clicking 'done' on keyboard - first onSubmitEditing, then onBlur\n        setFieldTouched(name, true, !isSubmitting);\n        if (props.onBlur) props.onBlur();\n      }\n    })\n  )\n);\n\nexport default makeReactNativeField;\n"]}