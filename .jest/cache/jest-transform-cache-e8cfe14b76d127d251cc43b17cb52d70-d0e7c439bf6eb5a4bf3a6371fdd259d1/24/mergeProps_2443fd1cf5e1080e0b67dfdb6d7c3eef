ef0ec0adb7c4d191cbad887c9ed8dcea
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.defaultMergeProps = defaultMergeProps;
exports.wrapMergePropsFunc = wrapMergePropsFunc;
exports.whenMergePropsIsFunction = whenMergePropsIsFunction;
exports.whenMergePropsIsOmitted = whenMergePropsIsOmitted;
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _verifyPlainObject = _interopRequireDefault(require("../utils/verifyPlainObject"));

function defaultMergeProps(stateProps, dispatchProps, ownProps) {
  return (0, _extends2["default"])({}, ownProps, {}, stateProps, {}, dispatchProps);
}

function wrapMergePropsFunc(mergeProps) {
  return function initMergePropsProxy(dispatch, _ref) {
    var displayName = _ref.displayName,
        pure = _ref.pure,
        areMergedPropsEqual = _ref.areMergedPropsEqual;
    var hasRunOnce = false;
    var mergedProps;
    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {
      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);

      if (hasRunOnce) {
        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;
      } else {
        hasRunOnce = true;
        mergedProps = nextMergedProps;
        if (process.env.NODE_ENV !== 'production') (0, _verifyPlainObject["default"])(mergedProps, displayName, 'mergeProps');
      }

      return mergedProps;
    };
  };
}

function whenMergePropsIsFunction(mergeProps) {
  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;
}

function whenMergePropsIsOmitted(mergeProps) {
  return !mergeProps ? function () {
    return defaultMergeProps;
  } : undefined;
}

var _default = [whenMergePropsIsFunction, whenMergePropsIsOmitted];
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lcmdlUHJvcHMuanMiXSwibmFtZXMiOlsiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHRNZXJnZVByb3BzIiwid3JhcE1lcmdlUHJvcHNGdW5jIiwid2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uIiwid2hlbk1lcmdlUHJvcHNJc09taXR0ZWQiLCJfZXh0ZW5kczIiLCJfdmVyaWZ5UGxhaW5PYmplY3QiLCJzdGF0ZVByb3BzIiwiZGlzcGF0Y2hQcm9wcyIsIm93blByb3BzIiwibWVyZ2VQcm9wcyIsImluaXRNZXJnZVByb3BzUHJveHkiLCJkaXNwYXRjaCIsIl9yZWYiLCJkaXNwbGF5TmFtZSIsInB1cmUiLCJhcmVNZXJnZWRQcm9wc0VxdWFsIiwiaGFzUnVuT25jZSIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wc1Byb3h5IiwibmV4dE1lcmdlZFByb3BzIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwidW5kZWZpbmVkIiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLHNCQUFzQixHQUFHQyxPQUFPLENBQUMsOENBQUQsQ0FBcEM7O0FBRUFDLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQUYsT0FBTyxDQUFDRyxrQkFBUixHQUE2QkEsa0JBQTdCO0FBQ0FILE9BQU8sQ0FBQ0ksd0JBQVIsR0FBbUNBLHdCQUFuQztBQUNBSixPQUFPLENBQUNLLHVCQUFSLEdBQWtDQSx1QkFBbEM7QUFDQUwsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQixLQUFLLENBQTFCOztBQUVBLElBQUlNLFNBQVMsR0FBR1Isc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxnQ0FBRCxDQUFSLENBQXRDOztBQUVBLElBQUlRLGtCQUFrQixHQUFHVCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLDRCQUFELENBQVIsQ0FBL0M7O0FBRUEsU0FBU0csaUJBQVQsQ0FBMkJNLFVBQTNCLEVBQXVDQyxhQUF2QyxFQUFzREMsUUFBdEQsRUFBZ0U7QUFDOUQsU0FBTyxDQUFDLEdBQUdKLFNBQVMsQ0FBQyxTQUFELENBQWIsRUFBMEIsRUFBMUIsRUFBOEJJLFFBQTlCLEVBQXdDLEVBQXhDLEVBQTRDRixVQUE1QyxFQUF3RCxFQUF4RCxFQUE0REMsYUFBNUQsQ0FBUDtBQUNEOztBQUVELFNBQVNOLGtCQUFULENBQTRCUSxVQUE1QixFQUF3QztBQUN0QyxTQUFPLFNBQVNDLG1CQUFULENBQTZCQyxRQUE3QixFQUF1Q0MsSUFBdkMsRUFBNkM7QUFDbEQsUUFBSUMsV0FBVyxHQUFHRCxJQUFJLENBQUNDLFdBQXZCO0FBQUEsUUFDSUMsSUFBSSxHQUFHRixJQUFJLENBQUNFLElBRGhCO0FBQUEsUUFFSUMsbUJBQW1CLEdBQUdILElBQUksQ0FBQ0csbUJBRi9CO0FBR0EsUUFBSUMsVUFBVSxHQUFHLEtBQWpCO0FBQ0EsUUFBSUMsV0FBSjtBQUNBLFdBQU8sU0FBU0MsZUFBVCxDQUF5QlosVUFBekIsRUFBcUNDLGFBQXJDLEVBQW9EQyxRQUFwRCxFQUE4RDtBQUNuRSxVQUFJVyxlQUFlLEdBQUdWLFVBQVUsQ0FBQ0gsVUFBRCxFQUFhQyxhQUFiLEVBQTRCQyxRQUE1QixDQUFoQzs7QUFFQSxVQUFJUSxVQUFKLEVBQWdCO0FBQ2QsWUFBSSxDQUFDRixJQUFELElBQVMsQ0FBQ0MsbUJBQW1CLENBQUNJLGVBQUQsRUFBa0JGLFdBQWxCLENBQWpDLEVBQWlFQSxXQUFXLEdBQUdFLGVBQWQ7QUFDbEUsT0FGRCxNQUVPO0FBQ0xILFFBQUFBLFVBQVUsR0FBRyxJQUFiO0FBQ0FDLFFBQUFBLFdBQVcsR0FBR0UsZUFBZDtBQUNBLFlBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDLENBQUMsR0FBR2pCLGtCQUFrQixDQUFDLFNBQUQsQ0FBdEIsRUFBbUNZLFdBQW5DLEVBQWdESixXQUFoRCxFQUE2RCxZQUE3RDtBQUM1Qzs7QUFFRCxhQUFPSSxXQUFQO0FBQ0QsS0FaRDtBQWFELEdBbkJEO0FBb0JEOztBQUVELFNBQVNmLHdCQUFULENBQWtDTyxVQUFsQyxFQUE4QztBQUM1QyxTQUFPLE9BQU9BLFVBQVAsS0FBc0IsVUFBdEIsR0FBbUNSLGtCQUFrQixDQUFDUSxVQUFELENBQXJELEdBQW9FYyxTQUEzRTtBQUNEOztBQUVELFNBQVNwQix1QkFBVCxDQUFpQ00sVUFBakMsRUFBNkM7QUFDM0MsU0FBTyxDQUFDQSxVQUFELEdBQWMsWUFBWTtBQUMvQixXQUFPVCxpQkFBUDtBQUNELEdBRk0sR0FFSHVCLFNBRko7QUFHRDs7QUFFRCxJQUFJQyxRQUFRLEdBQUcsQ0FBQ3RCLHdCQUFELEVBQTJCQyx1QkFBM0IsQ0FBZjtBQUNBTCxPQUFPLENBQUMsU0FBRCxDQUFQLEdBQXFCMEIsUUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHRNZXJnZVByb3BzID0gZGVmYXVsdE1lcmdlUHJvcHM7XG5leHBvcnRzLndyYXBNZXJnZVByb3BzRnVuYyA9IHdyYXBNZXJnZVByb3BzRnVuYztcbmV4cG9ydHMud2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uID0gd2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uO1xuZXhwb3J0cy53aGVuTWVyZ2VQcm9wc0lzT21pdHRlZCA9IHdoZW5NZXJnZVByb3BzSXNPbWl0dGVkO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgX3ZlcmlmeVBsYWluT2JqZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3RcIikpO1xuXG5mdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcykge1xuICByZXR1cm4gKDAsIF9leHRlbmRzMltcImRlZmF1bHRcIl0pKHt9LCBvd25Qcm9wcywge30sIHN0YXRlUHJvcHMsIHt9LCBkaXNwYXRjaFByb3BzKTtcbn1cblxuZnVuY3Rpb24gd3JhcE1lcmdlUHJvcHNGdW5jKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXRNZXJnZVByb3BzUHJveHkoZGlzcGF0Y2gsIF9yZWYpIHtcbiAgICB2YXIgZGlzcGxheU5hbWUgPSBfcmVmLmRpc3BsYXlOYW1lLFxuICAgICAgICBwdXJlID0gX3JlZi5wdXJlLFxuICAgICAgICBhcmVNZXJnZWRQcm9wc0VxdWFsID0gX3JlZi5hcmVNZXJnZWRQcm9wc0VxdWFsO1xuICAgIHZhciBoYXNSdW5PbmNlID0gZmFsc2U7XG4gICAgdmFyIG1lcmdlZFByb3BzO1xuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZVByb3BzUHJveHkoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpIHtcbiAgICAgIHZhciBuZXh0TWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcblxuICAgICAgaWYgKGhhc1J1bk9uY2UpIHtcbiAgICAgICAgaWYgKCFwdXJlIHx8ICFhcmVNZXJnZWRQcm9wc0VxdWFsKG5leHRNZXJnZWRQcm9wcywgbWVyZ2VkUHJvcHMpKSBtZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc1J1bk9uY2UgPSB0cnVlO1xuICAgICAgICBtZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICgwLCBfdmVyaWZ5UGxhaW5PYmplY3RbXCJkZWZhdWx0XCJdKShtZXJnZWRQcm9wcywgZGlzcGxheU5hbWUsICdtZXJnZVByb3BzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiB3aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb24obWVyZ2VQcm9wcykge1xuICByZXR1cm4gdHlwZW9mIG1lcmdlUHJvcHMgPT09ICdmdW5jdGlvbicgPyB3cmFwTWVyZ2VQcm9wc0Z1bmMobWVyZ2VQcm9wcykgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdoZW5NZXJnZVByb3BzSXNPbWl0dGVkKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuICFtZXJnZVByb3BzID8gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWVyZ2VQcm9wcztcbiAgfSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIF9kZWZhdWx0ID0gW3doZW5NZXJnZVByb3BzSXNGdW5jdGlvbiwgd2hlbk1lcmdlUHJvcHNJc09taXR0ZWRdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiXX0=