{"version":3,"sources":["Toast.js"],"names":["noop","Toast","state","animatedValue","Animated","Value","timeoutId","onPress","hideToast","props","showToast","clearTimeout","nextProps","id","setState","timing","toValue","duration","start","onShow","setTimeout","onHide","y","interpolate","inputRange","outputRange","height","styles","text","Object","prototype","toString","call","container","position","top","right","left","zIndex","transform","translateY","Component","propTypes","PropTypes","string","isRequired","oneOfType","node","object","number","func","defaultProps","ToastStyles","info"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  Animated,\n  TouchableWithoutFeedback,\n  View,\n  Text\n} from 'react-native'\nimport ToastStyles from './ToastStyles'\n\nconst noop = () => 0\n\nclass Toast extends Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\n    styles: PropTypes.object,\n    duration: PropTypes.number,\n    height: PropTypes.number,\n    onShow: PropTypes.func,\n    onHide: PropTypes.func,\n    onPress: PropTypes.func\n  }\n\n  static defaultProps = {\n    styles: ToastStyles.info,\n    duration: 3000,\n    height: 100,\n    onShow: noop,\n    onHide: noop,\n    onPress: noop\n  }\n\n  state = { animatedValue: new Animated.Value(0), timeoutId: null }\n\n  componentWillMount () {\n    this.showToast()\n  }\n\n  componentWillUnmount () {\n    const { timeoutId } = this.state;\n    clearTimeout(timeoutId)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props.id !== nextProps.id) {\n      this.showToast()\n    }\n  }\n\n  showToast () {\n    const animatedValue = new Animated.Value(0)\n\n    this.setState({ animatedValue })\n\n    Animated\n      .timing(animatedValue, { toValue: 1, duration: 350 })\n      .start()\n\n    const { duration, onShow } = this.props\n    const timeoutId = setTimeout(() => this.hideToast(), duration + 350)\n\n    this.setState({ timeoutId }, onShow)\n  }\n\n  hideToast () {\n    const { timeoutId, animatedValue } = this.state\n\n    clearTimeout(timeoutId)\n\n    Animated\n      .timing(animatedValue, { toValue: 0, duration: 350 })\n      .start()\n\n    setTimeout(this.props.onHide, 350)\n  }\n\n  onPress = () => {\n    this.hideToast()\n    this.props.onPress()\n  }\n\n  render () {\n    const y = this.state.animatedValue.interpolate({\n      inputRange: [0, 1],\n      outputRange: [-this.props.height, 0]\n    })\n\n    const { styles } = this.props\n    let text = this.props.text\n\n    if (Object.prototype.toString.call(text) === '[object String]') {\n      text = (\n        <View style={styles.container}>\n          <Text style={styles.text}>{text}</Text>\n        </View>\n      )\n    }\n\n    return (\n      <Animated.View style={{\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        left: 0,\n        zIndex: 9999,\n        transform: [{ translateY: y }]\n      }}>\n        <TouchableWithoutFeedback onPress={this.onPress}>\n          {text}\n        </TouchableWithoutFeedback>\n      </Animated.View>\n    )\n  }\n}\n\nexport default Toast\n"]}