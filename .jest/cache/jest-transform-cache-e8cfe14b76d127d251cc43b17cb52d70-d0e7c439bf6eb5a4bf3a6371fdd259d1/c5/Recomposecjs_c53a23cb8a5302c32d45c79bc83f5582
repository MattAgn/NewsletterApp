555c0aaf2cea9f994e8e11d0f99481e0
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopDefault(ex) {
  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;
}

var React = require('react');

var React__default = _interopDefault(React);

var _extends = _interopDefault(require('@babel/runtime/helpers/extends'));

var shallowEqual = _interopDefault(require('fbjs/lib/shallowEqual'));

var _inheritsLoose = _interopDefault(require('@babel/runtime/helpers/inheritsLoose'));

var reactLifecyclesCompat = require('react-lifecycles-compat');

var _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));

var hoistNonReactStatics = _interopDefault(require('hoist-non-react-statics'));

var changeEmitter = require('change-emitter');

var $$observable = _interopDefault(require('symbol-observable'));

var setStatic = function setStatic(key, value) {
  return function (BaseComponent) {
    BaseComponent[key] = value;
    return BaseComponent;
  };
};

var setDisplayName = function setDisplayName(displayName) {
  return setStatic('displayName', displayName);
};

var getDisplayName = function getDisplayName(Component) {
  if (typeof Component === 'string') {
    return Component;
  }

  if (!Component) {
    return undefined;
  }

  return Component.displayName || Component.name || 'Component';
};

var wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {
  return hocName + "(" + getDisplayName(BaseComponent) + ")";
};

var mapProps = function mapProps(propsMapper) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var MapProps = function MapProps(props) {
      return factory(propsMapper(props));
    };

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapProps'))(MapProps);
    }

    return MapProps;
  };
};

var withProps = function withProps(input) {
  var hoc = mapProps(function (props) {
    return _extends({}, props, typeof input === 'function' ? input(props) : input);
  });

  if (process.env.NODE_ENV !== 'production') {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var pick = function pick(obj, keys) {
  var result = {};

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    }
  }

  return result;
};

var withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);
    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {
      return !shallowEqual(pick(props, shouldMapOrKeys), pick(nextProps, shouldMapOrKeys));
    };

    var WithPropsOnChange = function (_Component) {
      _inheritsLoose(WithPropsOnChange, _Component);

      function WithPropsOnChange() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          computedProps: propsMapper(_this.props),
          prevProps: _this.props
        };
        return _this;
      }

      WithPropsOnChange.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {
        if (shouldMap(prevState.prevProps, nextProps)) {
          return {
            computedProps: propsMapper(nextProps),
            prevProps: nextProps
          };
        }

        return {
          prevProps: nextProps
        };
      };

      var _proto = WithPropsOnChange.prototype;

      _proto.render = function render() {
        return factory(_extends({}, this.props, this.state.computedProps));
      };

      return WithPropsOnChange;
    }(React.Component);

    reactLifecyclesCompat.polyfill(WithPropsOnChange);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withPropsOnChange'))(WithPropsOnChange);
    }

    return WithPropsOnChange;
  };
};

var mapValues = function mapValues(obj, func) {
  var result = {};

  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      result[key] = func(obj[key], key);
    }
  }

  return result;
};

var withHandlers = function withHandlers(handlers) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var WithHandlers = function (_Component) {
      _inheritsLoose(WithHandlers, _Component);

      function WithHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.handlers = mapValues(typeof handlers === 'function' ? handlers(_this.props) : handlers, function (createHandler) {
          return function () {
            var handler = createHandler(_this.props);

            if (process.env.NODE_ENV !== 'production' && typeof handler !== 'function') {
              console.error('withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');
            }

            return handler.apply(void 0, arguments);
          };
        });
        return _this;
      }

      var _proto = WithHandlers.prototype;

      _proto.render = function render() {
        return factory(_extends({}, this.props, this.handlers));
      };

      return WithHandlers;
    }(React.Component);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withHandlers'))(WithHandlers);
    }

    return WithHandlers;
  };
};

var defaultProps = function defaultProps(props) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var DefaultProps = function DefaultProps(ownerProps) {
      return factory(ownerProps);
    };

    DefaultProps.defaultProps = props;

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'defaultProps'))(DefaultProps);
    }

    return DefaultProps;
  };
};

var omit = function omit(obj, keys) {
  var rest = _extends({}, obj);

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];

    if (rest.hasOwnProperty(key)) {
      delete rest[key];
    }
  }

  return rest;
};

var renameProp = function renameProp(oldName, newName) {
  var hoc = mapProps(function (props) {
    var _extends2;

    return _extends({}, omit(props, [oldName]), (_extends2 = {}, _extends2[newName] = props[oldName], _extends2));
  });

  if (process.env.NODE_ENV !== 'production') {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProp'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var keys = Object.keys;

var mapKeys = function mapKeys(obj, func) {
  return keys(obj).reduce(function (result, key) {
    var val = obj[key];
    result[func(val, key)] = val;
    return result;
  }, {});
};

var renameProps = function renameProps(nameMap) {
  var hoc = mapProps(function (props) {
    return _extends({}, omit(props, keys(nameMap)), mapKeys(pick(props, keys(nameMap)), function (_, oldName) {
      return nameMap[oldName];
    }));
  });

  if (process.env.NODE_ENV !== 'production') {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProps'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var flattenProp = function flattenProp(propName) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var FlattenProp = function FlattenProp(props) {
      return factory(_extends({}, props, props[propName]));
    };

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'flattenProp'))(FlattenProp);
    }

    return FlattenProp;
  };
};

var withState = function withState(stateName, stateUpdaterName, initialState) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var WithState = function (_Component) {
      _inheritsLoose(WithState, _Component);

      function WithState() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState
        };

        _this.updateStateValue = function (updateFn, callback) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn
            };
          }, callback);
        };

        return _this;
      }

      var _proto = WithState.prototype;

      _proto.render = function render() {
        var _extends2;

        return factory(_extends({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[stateUpdaterName] = this.updateStateValue, _extends2)));
      };

      return WithState;
    }(React.Component);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withState'))(WithState);
    }

    return WithState;
  };
};

var withStateHandlers = function withStateHandlers(initialState, stateUpdaters) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var WithStateHandlers = function (_Component) {
      _inheritsLoose(WithStateHandlers, _Component);

      function WithStateHandlers() {
        var _this;

        for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
          _args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(_args)) || this;
        _this.state = typeof initialState === 'function' ? initialState(_this.props) : initialState;
        _this.stateUpdaters = mapValues(stateUpdaters, function (handler) {
          return function (mayBeEvent) {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }

            if (mayBeEvent && typeof mayBeEvent.persist === 'function') {
              mayBeEvent.persist();
            }

            _this.setState(function (state, props) {
              return handler(state, props).apply(void 0, [mayBeEvent].concat(args));
            });
          };
        });
        return _this;
      }

      var _proto = WithStateHandlers.prototype;

      _proto.render = function render() {
        return factory(_extends({}, this.props, this.state, this.stateUpdaters));
      };

      return WithStateHandlers;
    }(React.Component);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withStateHandlers'))(WithStateHandlers);
    }

    return WithStateHandlers;
  };
};

var noop = function noop() {};

var withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var WithReducer = function (_Component) {
      _inheritsLoose(WithReducer, _Component);

      function WithReducer() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          stateValue: _this.initializeStateValue()
        };

        _this.dispatch = function (action, callback) {
          if (callback === void 0) {
            callback = noop;
          }

          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: reducer(stateValue, action)
            };
          }, function () {
            return callback(_this.state.stateValue);
          });
        };

        return _this;
      }

      var _proto = WithReducer.prototype;

      _proto.initializeStateValue = function initializeStateValue() {
        if (initialState !== undefined) {
          return typeof initialState === 'function' ? initialState(this.props) : initialState;
        }

        return reducer(undefined, {
          type: '@@recompose/INIT'
        });
      };

      _proto.render = function render() {
        var _extends2;

        return factory(_extends({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[dispatchName] = this.dispatch, _extends2)));
      };

      return WithReducer;
    }(React.Component);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withReducer'))(WithReducer);
    }

    return WithReducer;
  };
};

var identity = function identity(Component) {
  return Component;
};

var branch = function branch(test, left, right) {
  if (right === void 0) {
    right = identity;
  }

  return function (BaseComponent) {
    var leftFactory;
    var rightFactory;

    var Branch = function Branch(props) {
      if (test(props)) {
        leftFactory = leftFactory || React.createFactory(left(BaseComponent));
        return leftFactory(props);
      }

      rightFactory = rightFactory || React.createFactory(right(BaseComponent));
      return rightFactory(props);
    };

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'branch'))(Branch);
    }

    return Branch;
  };
};

var renderComponent = function renderComponent(Component) {
  return function (_) {
    var factory = React.createFactory(Component);

    var RenderComponent = function RenderComponent(props) {
      return factory(props);
    };

    if (process.env.NODE_ENV !== 'production') {
      RenderComponent.displayName = wrapDisplayName(Component, 'renderComponent');
    }

    return RenderComponent;
  };
};

var Nothing = function (_Component) {
  _inheritsLoose(Nothing, _Component);

  function Nothing() {
    return _Component.apply(this, arguments) || this;
  }

  var _proto = Nothing.prototype;

  _proto.render = function render() {
    return null;
  };

  return Nothing;
}(React.Component);

var renderNothing = function renderNothing(_) {
  return Nothing;
};

var shouldUpdate = function shouldUpdate(test) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var ShouldUpdate = function (_Component) {
      _inheritsLoose(ShouldUpdate, _Component);

      function ShouldUpdate() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = ShouldUpdate.prototype;

      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return test(this.props, nextProps);
      };

      _proto.render = function render() {
        return factory(this.props);
      };

      return ShouldUpdate;
    }(React.Component);

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'shouldUpdate'))(ShouldUpdate);
    }

    return ShouldUpdate;
  };
};

var pure = function pure(BaseComponent) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !shallowEqual(props, nextProps);
  });

  if (process.env.NODE_ENV !== 'production') {
    return setDisplayName(wrapDisplayName(BaseComponent, 'pure'))(hoc(BaseComponent));
  }

  return hoc(BaseComponent);
};

var onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !shallowEqual(pick(nextProps, propKeys), pick(props, propKeys));
  });

  if (process.env.NODE_ENV !== 'production') {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForKeys'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {
  var propTypes = BaseComponent.propTypes;

  if (process.env.NODE_ENV !== 'production') {
    if (!propTypes) {
      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ("component with display name \"" + getDisplayName(BaseComponent) + "\"."));
    }
  }

  var propKeys = Object.keys(propTypes || {});
  var OnlyUpdateForPropTypes = onlyUpdateForKeys(propKeys)(BaseComponent);

  if (process.env.NODE_ENV !== 'production') {
    return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForPropTypes'))(OnlyUpdateForPropTypes);
  }

  return OnlyUpdateForPropTypes;
};

var withContext = function withContext(childContextTypes, getChildContext) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var WithContext = function (_Component) {
      _inheritsLoose(WithContext, _Component);

      function WithContext() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;

        _this.getChildContext = function () {
          return getChildContext(_this.props);
        };

        return _this;
      }

      var _proto = WithContext.prototype;

      _proto.render = function render() {
        return factory(this.props);
      };

      return WithContext;
    }(React.Component);

    WithContext.childContextTypes = childContextTypes;

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))(WithContext);
    }

    return WithContext;
  };
};

var getContext = function getContext(contextTypes) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    var GetContext = function GetContext(ownerProps, context) {
      return factory(_extends({}, ownerProps, context));
    };

    GetContext.contextTypes = contextTypes;

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'getContext'))(GetContext);
    }

    return GetContext;
  };
};

var lifecycle = function lifecycle(spec) {
  return function (BaseComponent) {
    var factory = React.createFactory(BaseComponent);

    if (process.env.NODE_ENV !== 'production' && spec.hasOwnProperty('render')) {
      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');
    }

    var Lifecycle = function (_Component) {
      _inheritsLoose(Lifecycle, _Component);

      function Lifecycle() {
        return _Component.apply(this, arguments) || this;
      }

      var _proto = Lifecycle.prototype;

      _proto.render = function render() {
        return factory(_extends({}, this.props, this.state));
      };

      return Lifecycle;
    }(React.Component);

    Object.keys(spec).forEach(function (hook) {
      return Lifecycle.prototype[hook] = spec[hook];
    });

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'lifecycle'))(Lifecycle);
    }

    return Lifecycle;
  };
};

var isClassComponent = function isClassComponent(Component) {
  return Boolean(Component && Component.prototype && typeof Component.prototype.render === 'function');
};

var toClass = function toClass(baseComponent) {
  var _class, _temp;

  return isClassComponent(baseComponent) ? baseComponent : (_temp = _class = function (_Component) {
    _inheritsLoose(ToClass, _Component);

    function ToClass() {
      return _Component.apply(this, arguments) || this;
    }

    var _proto = ToClass.prototype;

    _proto.render = function render() {
      if (typeof baseComponent === 'string') {
        return React__default.createElement(baseComponent, this.props);
      }

      return baseComponent(this.props, this.context);
    };

    return ToClass;
  }(React.Component), _class.displayName = getDisplayName(baseComponent), _class.propTypes = baseComponent.propTypes, _class.contextTypes = baseComponent.contextTypes, _class.defaultProps = baseComponent.defaultProps, _temp);
};

function toRenderProps(hoc) {
  var RenderPropsComponent = function RenderPropsComponent(props) {
    return props.children(props);
  };

  return hoc(RenderPropsComponent);
}

var fromRenderProps = function fromRenderProps(RenderPropsComponent, propsMapper, renderPropName) {
  if (renderPropName === void 0) {
    renderPropName = 'children';
  }

  return function (BaseComponent) {
    var baseFactory = React__default.createFactory(BaseComponent);
    var renderPropsFactory = React__default.createFactory(RenderPropsComponent);

    var FromRenderProps = function FromRenderProps(ownerProps) {
      var _renderPropsFactory;

      return renderPropsFactory((_renderPropsFactory = {}, _renderPropsFactory[renderPropName] = function () {
        return baseFactory(_extends({}, ownerProps, propsMapper.apply(void 0, arguments)));
      }, _renderPropsFactory));
    };

    if (process.env.NODE_ENV !== 'production') {
      return setDisplayName(wrapDisplayName(BaseComponent, 'fromRenderProps'))(FromRenderProps);
    }

    return FromRenderProps;
  };
};

var setPropTypes = function setPropTypes(propTypes) {
  return setStatic('propTypes', propTypes);
};

var compose = function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  }, function (arg) {
    return arg;
  });
};

var createSink = function createSink(callback) {
  var Sink = function (_Component) {
    _inheritsLoose(Sink, _Component);

    function Sink() {
      var _this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _Component.call.apply(_Component, [this].concat(args)) || this;
      _this.state = {};
      return _this;
    }

    Sink.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {
      callback(nextProps);
      return null;
    };

    var _proto = Sink.prototype;

    _proto.render = function render() {
      return null;
    };

    return Sink;
  }(React.Component);

  reactLifecyclesCompat.polyfill(Sink);
  return Sink;
};

var componentFromProp = function componentFromProp(propName) {
  var Component = function Component(props) {
    return React.createElement(props[propName], omit(props, [propName]));
  };

  Component.displayName = "componentFromProp(" + propName + ")";
  return Component;
};

var nest = function nest() {
  for (var _len = arguments.length, Components = new Array(_len), _key = 0; _key < _len; _key++) {
    Components[_key] = arguments[_key];
  }

  var factories = Components.map(React.createFactory);

  var Nest = function Nest(_ref) {
    var children = _ref.children,
        props = _objectWithoutPropertiesLoose(_ref, ["children"]);

    return factories.reduceRight(function (child, factory) {
      return factory(props, child);
    }, children);
  };

  if (process.env.NODE_ENV !== 'production') {
    var displayNames = Components.map(getDisplayName);
    Nest.displayName = "nest(" + displayNames.join(', ') + ")";
  }

  return Nest;
};

var hoistStatics = function hoistStatics(higherOrderComponent, blacklist) {
  return function (BaseComponent) {
    var NewComponent = higherOrderComponent(BaseComponent);
    hoistNonReactStatics(NewComponent, BaseComponent, blacklist);
    return NewComponent;
  };
};

var _config = {
  fromESObservable: null,
  toESObservable: null
};

var configureObservable = function configureObservable(c) {
  _config = c;
};

var config = {
  fromESObservable: function fromESObservable(observable) {
    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;
  },
  toESObservable: function toESObservable(stream) {
    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;
  }
};

var componentFromStreamWithConfig = function componentFromStreamWithConfig(config$$1) {
  return function (propsToVdom) {
    return function (_Component) {
      _inheritsLoose(ComponentFromStream, _Component);

      function ComponentFromStream() {
        var _config$fromESObserva;

        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          vdom: null
        };
        _this.propsEmitter = changeEmitter.createChangeEmitter();
        _this.props$ = config$$1.fromESObservable((_config$fromESObserva = {
          subscribe: function subscribe(observer) {
            var unsubscribe = _this.propsEmitter.listen(function (props) {
              if (props) {
                observer.next(props);
              } else {
                observer.complete();
              }
            });

            return {
              unsubscribe: unsubscribe
            };
          }
        }, _config$fromESObserva[$$observable] = function () {
          return this;
        }, _config$fromESObserva));
        _this.vdom$ = config$$1.toESObservable(propsToVdom(_this.props$));
        return _this;
      }

      var _proto = ComponentFromStream.prototype;

      _proto.componentWillMount = function componentWillMount() {
        var _this2 = this;

        this.subscription = this.vdom$.subscribe({
          next: function next(vdom) {
            _this2.setState({
              vdom: vdom
            });
          }
        });
        this.propsEmitter.emit(this.props);
      };

      _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        this.propsEmitter.emit(nextProps);
      };

      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
        return nextState.vdom !== this.state.vdom;
      };

      _proto.componentWillUnmount = function componentWillUnmount() {
        this.propsEmitter.emit();
        this.subscription.unsubscribe();
      };

      _proto.render = function render() {
        return this.state.vdom;
      };

      return ComponentFromStream;
    }(React.Component);
  };
};

var componentFromStream = function componentFromStream(propsToVdom) {
  return componentFromStreamWithConfig(config)(propsToVdom);
};

var identity$1 = function identity(t) {
  return t;
};

var mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config$$1) {
  var componentFromStream$$1 = componentFromStreamWithConfig({
    fromESObservable: identity$1,
    toESObservable: identity$1
  });
  return function (transform) {
    return function (BaseComponent) {
      var factory = React.createFactory(BaseComponent);
      var fromESObservable = config$$1.fromESObservable,
          toESObservable = config$$1.toESObservable;
      return componentFromStream$$1(function (props$) {
        var _ref;

        return _ref = {
          subscribe: function subscribe(observer) {
            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({
              next: function next(childProps) {
                return observer.next(factory(childProps));
              }
            });
            return {
              unsubscribe: function unsubscribe() {
                return subscription.unsubscribe();
              }
            };
          }
        }, _ref[$$observable] = function () {
          return this;
        }, _ref;
      });
    };
  };
};

var mapPropsStream = function mapPropsStream(transform) {
  var hoc = mapPropsStreamWithConfig(config)(transform);

  if (process.env.NODE_ENV !== 'production') {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));
    };
  }

  return hoc;
};

var createEventHandlerWithConfig = function createEventHandlerWithConfig(config$$1) {
  return function () {
    var _config$fromESObserva;

    var emitter = changeEmitter.createChangeEmitter();
    var stream = config$$1.fromESObservable((_config$fromESObserva = {
      subscribe: function subscribe(observer) {
        var unsubscribe = emitter.listen(function (value) {
          return observer.next(value);
        });
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _config$fromESObserva[$$observable] = function () {
      return this;
    }, _config$fromESObserva));
    return {
      handler: emitter.emit,
      stream: stream
    };
  };
};

var createEventHandler = createEventHandlerWithConfig(config);
exports.mapProps = mapProps;
exports.withProps = withProps;
exports.withPropsOnChange = withPropsOnChange;
exports.withHandlers = withHandlers;
exports.defaultProps = defaultProps;
exports.renameProp = renameProp;
exports.renameProps = renameProps;
exports.flattenProp = flattenProp;
exports.withState = withState;
exports.withStateHandlers = withStateHandlers;
exports.withReducer = withReducer;
exports.branch = branch;
exports.renderComponent = renderComponent;
exports.renderNothing = renderNothing;
exports.shouldUpdate = shouldUpdate;
exports.pure = pure;
exports.onlyUpdateForKeys = onlyUpdateForKeys;
exports.onlyUpdateForPropTypes = onlyUpdateForPropTypes;
exports.withContext = withContext;
exports.getContext = getContext;
exports.lifecycle = lifecycle;
exports.toClass = toClass;
exports.toRenderProps = toRenderProps;
exports.fromRenderProps = fromRenderProps;
exports.setStatic = setStatic;
exports.setPropTypes = setPropTypes;
exports.setDisplayName = setDisplayName;
exports.compose = compose;
exports.getDisplayName = getDisplayName;
exports.wrapDisplayName = wrapDisplayName;
exports.shallowEqual = shallowEqual;
exports.isClassComponent = isClassComponent;
exports.createSink = createSink;
exports.componentFromProp = componentFromProp;
exports.nest = nest;
exports.hoistStatics = hoistStatics;
exports.componentFromStream = componentFromStream;
exports.componentFromStreamWithConfig = componentFromStreamWithConfig;
exports.mapPropsStream = mapPropsStream;
exports.mapPropsStreamWithConfig = mapPropsStreamWithConfig;
exports.createEventHandler = createEventHandler;
exports.createEventHandlerWithConfig = createEventHandlerWithConfig;
exports.setObservableConfig = configureObservable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlY29tcG9zZS5janMuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfaW50ZXJvcERlZmF1bHQiLCJleCIsIlJlYWN0IiwicmVxdWlyZSIsIlJlYWN0X19kZWZhdWx0IiwiX2V4dGVuZHMiLCJzaGFsbG93RXF1YWwiLCJfaW5oZXJpdHNMb29zZSIsInJlYWN0TGlmZWN5Y2xlc0NvbXBhdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJjaGFuZ2VFbWl0dGVyIiwiJCRvYnNlcnZhYmxlIiwic2V0U3RhdGljIiwia2V5IiwiQmFzZUNvbXBvbmVudCIsInNldERpc3BsYXlOYW1lIiwiZGlzcGxheU5hbWUiLCJnZXREaXNwbGF5TmFtZSIsIkNvbXBvbmVudCIsInVuZGVmaW5lZCIsIm5hbWUiLCJ3cmFwRGlzcGxheU5hbWUiLCJob2NOYW1lIiwibWFwUHJvcHMiLCJwcm9wc01hcHBlciIsImZhY3RvcnkiLCJjcmVhdGVGYWN0b3J5IiwiTWFwUHJvcHMiLCJwcm9wcyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIndpdGhQcm9wcyIsImlucHV0IiwiaG9jIiwicGljayIsIm9iaiIsImtleXMiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwiaGFzT3duUHJvcGVydHkiLCJ3aXRoUHJvcHNPbkNoYW5nZSIsInNob3VsZE1hcE9yS2V5cyIsInNob3VsZE1hcCIsIm5leHRQcm9wcyIsIldpdGhQcm9wc09uQ2hhbmdlIiwiX0NvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJzdGF0ZSIsImNvbXB1dGVkUHJvcHMiLCJwcmV2UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJwcmV2U3RhdGUiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJyZW5kZXIiLCJwb2x5ZmlsbCIsIm1hcFZhbHVlcyIsImZ1bmMiLCJ3aXRoSGFuZGxlcnMiLCJoYW5kbGVycyIsIldpdGhIYW5kbGVycyIsIl9hcmdzIiwiY3JlYXRlSGFuZGxlciIsImhhbmRsZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJkZWZhdWx0UHJvcHMiLCJEZWZhdWx0UHJvcHMiLCJvd25lclByb3BzIiwib21pdCIsInJlc3QiLCJyZW5hbWVQcm9wIiwib2xkTmFtZSIsIm5ld05hbWUiLCJfZXh0ZW5kczIiLCJtYXBLZXlzIiwicmVkdWNlIiwidmFsIiwicmVuYW1lUHJvcHMiLCJuYW1lTWFwIiwiXyIsImZsYXR0ZW5Qcm9wIiwicHJvcE5hbWUiLCJGbGF0dGVuUHJvcCIsIndpdGhTdGF0ZSIsInN0YXRlTmFtZSIsInN0YXRlVXBkYXRlck5hbWUiLCJpbml0aWFsU3RhdGUiLCJXaXRoU3RhdGUiLCJzdGF0ZVZhbHVlIiwidXBkYXRlU3RhdGVWYWx1ZSIsInVwZGF0ZUZuIiwiY2FsbGJhY2siLCJzZXRTdGF0ZSIsIl9yZWYiLCJ3aXRoU3RhdGVIYW5kbGVycyIsInN0YXRlVXBkYXRlcnMiLCJXaXRoU3RhdGVIYW5kbGVycyIsIm1heUJlRXZlbnQiLCJfbGVuMiIsIl9rZXkyIiwicGVyc2lzdCIsIm5vb3AiLCJ3aXRoUmVkdWNlciIsImRpc3BhdGNoTmFtZSIsInJlZHVjZXIiLCJXaXRoUmVkdWNlciIsImluaXRpYWxpemVTdGF0ZVZhbHVlIiwiZGlzcGF0Y2giLCJhY3Rpb24iLCJ0eXBlIiwiaWRlbnRpdHkiLCJicmFuY2giLCJ0ZXN0IiwibGVmdCIsInJpZ2h0IiwibGVmdEZhY3RvcnkiLCJyaWdodEZhY3RvcnkiLCJCcmFuY2giLCJyZW5kZXJDb21wb25lbnQiLCJSZW5kZXJDb21wb25lbnQiLCJOb3RoaW5nIiwicmVuZGVyTm90aGluZyIsInNob3VsZFVwZGF0ZSIsIlNob3VsZFVwZGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsInB1cmUiLCJvbmx5VXBkYXRlRm9yS2V5cyIsInByb3BLZXlzIiwib25seVVwZGF0ZUZvclByb3BUeXBlcyIsInByb3BUeXBlcyIsIk9ubHlVcGRhdGVGb3JQcm9wVHlwZXMiLCJ3aXRoQ29udGV4dCIsImNoaWxkQ29udGV4dFR5cGVzIiwiZ2V0Q2hpbGRDb250ZXh0IiwiV2l0aENvbnRleHQiLCJnZXRDb250ZXh0IiwiY29udGV4dFR5cGVzIiwiR2V0Q29udGV4dCIsImNvbnRleHQiLCJsaWZlY3ljbGUiLCJzcGVjIiwiTGlmZWN5Y2xlIiwiZm9yRWFjaCIsImhvb2siLCJpc0NsYXNzQ29tcG9uZW50IiwiQm9vbGVhbiIsInRvQ2xhc3MiLCJiYXNlQ29tcG9uZW50IiwiX2NsYXNzIiwiX3RlbXAiLCJUb0NsYXNzIiwiY3JlYXRlRWxlbWVudCIsInRvUmVuZGVyUHJvcHMiLCJSZW5kZXJQcm9wc0NvbXBvbmVudCIsImNoaWxkcmVuIiwiZnJvbVJlbmRlclByb3BzIiwicmVuZGVyUHJvcE5hbWUiLCJiYXNlRmFjdG9yeSIsInJlbmRlclByb3BzRmFjdG9yeSIsIkZyb21SZW5kZXJQcm9wcyIsIl9yZW5kZXJQcm9wc0ZhY3RvcnkiLCJzZXRQcm9wVHlwZXMiLCJjb21wb3NlIiwiZnVuY3MiLCJhIiwiYiIsImFyZyIsImNyZWF0ZVNpbmsiLCJTaW5rIiwiY29tcG9uZW50RnJvbVByb3AiLCJuZXN0IiwiQ29tcG9uZW50cyIsImZhY3RvcmllcyIsIm1hcCIsIk5lc3QiLCJyZWR1Y2VSaWdodCIsImNoaWxkIiwiZGlzcGxheU5hbWVzIiwiam9pbiIsImhvaXN0U3RhdGljcyIsImhpZ2hlck9yZGVyQ29tcG9uZW50IiwiYmxhY2tsaXN0IiwiTmV3Q29tcG9uZW50IiwiX2NvbmZpZyIsImZyb21FU09ic2VydmFibGUiLCJ0b0VTT2JzZXJ2YWJsZSIsImNvbmZpZ3VyZU9ic2VydmFibGUiLCJjIiwiY29uZmlnIiwib2JzZXJ2YWJsZSIsInN0cmVhbSIsImNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnIiwiY29uZmlnJCQxIiwicHJvcHNUb1Zkb20iLCJDb21wb25lbnRGcm9tU3RyZWFtIiwiX2NvbmZpZyRmcm9tRVNPYnNlcnZhIiwidmRvbSIsInByb3BzRW1pdHRlciIsImNyZWF0ZUNoYW5nZUVtaXR0ZXIiLCJwcm9wcyQiLCJzdWJzY3JpYmUiLCJvYnNlcnZlciIsInVuc3Vic2NyaWJlIiwibGlzdGVuIiwibmV4dCIsImNvbXBsZXRlIiwidmRvbSQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJfdGhpczIiLCJzdWJzY3JpcHRpb24iLCJlbWl0IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRTdGF0ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50RnJvbVN0cmVhbSIsImlkZW50aXR5JDEiLCJ0IiwibWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnIiwiY29tcG9uZW50RnJvbVN0cmVhbSQkMSIsInRyYW5zZm9ybSIsImNoaWxkUHJvcHMiLCJtYXBQcm9wc1N0cmVhbSIsImNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWciLCJlbWl0dGVyIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwic2V0T2JzZXJ2YWJsZUNvbmZpZyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBRUEsU0FBU0MsZUFBVCxDQUEwQkMsRUFBMUIsRUFBOEI7QUFBRSxTQUFRQSxFQUFFLElBQUssT0FBT0EsRUFBUCxLQUFjLFFBQXJCLElBQWtDLGFBQWFBLEVBQWhELEdBQXNEQSxFQUFFLENBQUMsU0FBRCxDQUF4RCxHQUFzRUEsRUFBN0U7QUFBa0Y7O0FBRWxILElBQUlDLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBbkI7O0FBQ0EsSUFBSUMsY0FBYyxHQUFHSixlQUFlLENBQUNFLEtBQUQsQ0FBcEM7O0FBQ0EsSUFBSUcsUUFBUSxHQUFHTCxlQUFlLENBQUNHLE9BQU8sQ0FBQyxnQ0FBRCxDQUFSLENBQTlCOztBQUNBLElBQUlHLFlBQVksR0FBR04sZUFBZSxDQUFDRyxPQUFPLENBQUMsdUJBQUQsQ0FBUixDQUFsQzs7QUFDQSxJQUFJSSxjQUFjLEdBQUdQLGVBQWUsQ0FBQ0csT0FBTyxDQUFDLHNDQUFELENBQVIsQ0FBcEM7O0FBQ0EsSUFBSUsscUJBQXFCLEdBQUdMLE9BQU8sQ0FBQyx5QkFBRCxDQUFuQzs7QUFDQSxJQUFJTSw2QkFBNkIsR0FBR1QsZUFBZSxDQUFDRyxPQUFPLENBQUMscURBQUQsQ0FBUixDQUFuRDs7QUFDQSxJQUFJTyxvQkFBb0IsR0FBR1YsZUFBZSxDQUFDRyxPQUFPLENBQUMseUJBQUQsQ0FBUixDQUExQzs7QUFDQSxJQUFJUSxhQUFhLEdBQUdSLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJUyxZQUFZLEdBQUdaLGVBQWUsQ0FBQ0csT0FBTyxDQUFDLG1CQUFELENBQVIsQ0FBbEM7O0FBRUEsSUFBSVUsU0FBUyxHQUFHLFNBQVNBLFNBQVQsQ0FBbUJDLEdBQW5CLEVBQXdCZixLQUF4QixFQUErQjtBQUM3QyxTQUFPLFVBQVVnQixhQUFWLEVBQXlCO0FBRTlCQSxJQUFBQSxhQUFhLENBQUNELEdBQUQsQ0FBYixHQUFxQmYsS0FBckI7QUFHQSxXQUFPZ0IsYUFBUDtBQUNELEdBTkQ7QUFPRCxDQVJEOztBQVVBLElBQUlDLGNBQWMsR0FBRyxTQUFTQSxjQUFULENBQXdCQyxXQUF4QixFQUFxQztBQUN4RCxTQUFPSixTQUFTLENBQUMsYUFBRCxFQUFnQkksV0FBaEIsQ0FBaEI7QUFDRCxDQUZEOztBQUlBLElBQUlDLGNBQWMsR0FBRyxTQUFTQSxjQUFULENBQXdCQyxTQUF4QixFQUFtQztBQUN0RCxNQUFJLE9BQU9BLFNBQVAsS0FBcUIsUUFBekIsRUFBbUM7QUFDakMsV0FBT0EsU0FBUDtBQUNEOztBQUVELE1BQUksQ0FBQ0EsU0FBTCxFQUFnQjtBQUNkLFdBQU9DLFNBQVA7QUFDRDs7QUFFRCxTQUFPRCxTQUFTLENBQUNGLFdBQVYsSUFBeUJFLFNBQVMsQ0FBQ0UsSUFBbkMsSUFBMkMsV0FBbEQ7QUFDRCxDQVZEOztBQVlBLElBQUlDLGVBQWUsR0FBRyxTQUFTQSxlQUFULENBQXlCUCxhQUF6QixFQUF3Q1EsT0FBeEMsRUFBaUQ7QUFDckUsU0FBT0EsT0FBTyxHQUFHLEdBQVYsR0FBZ0JMLGNBQWMsQ0FBQ0gsYUFBRCxDQUE5QixHQUFnRCxHQUF2RDtBQUNELENBRkQ7O0FBSUEsSUFBSVMsUUFBUSxHQUFHLFNBQVNBLFFBQVQsQ0FBa0JDLFdBQWxCLEVBQStCO0FBQzVDLFNBQU8sVUFBVVYsYUFBVixFQUF5QjtBQUM5QixRQUFJVyxPQUFPLEdBQUd4QixLQUFLLENBQUN5QixhQUFOLENBQW9CWixhQUFwQixDQUFkOztBQUVBLFFBQUlhLFFBQVEsR0FBRyxTQUFTQSxRQUFULENBQWtCQyxLQUFsQixFQUF5QjtBQUN0QyxhQUFPSCxPQUFPLENBQUNELFdBQVcsQ0FBQ0ksS0FBRCxDQUFaLENBQWQ7QUFDRCxLQUZEOztBQUlBLFFBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixVQUFoQixDQUFoQixDQUFkLENBQTJEYSxRQUEzRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsUUFBUDtBQUNELEdBWkQ7QUFhRCxDQWREOztBQWdCQSxJQUFJSyxTQUFTLEdBQUcsU0FBU0EsU0FBVCxDQUFtQkMsS0FBbkIsRUFBMEI7QUFDeEMsTUFBSUMsR0FBRyxHQUFHWCxRQUFRLENBQUMsVUFBVUssS0FBVixFQUFpQjtBQUNsQyxXQUFPeEIsUUFBUSxDQUFDLEVBQUQsRUFBS3dCLEtBQUwsRUFBWSxPQUFPSyxLQUFQLEtBQWlCLFVBQWpCLEdBQThCQSxLQUFLLENBQUNMLEtBQUQsQ0FBbkMsR0FBNkNLLEtBQXpELENBQWY7QUFDRCxHQUZpQixDQUFsQjs7QUFJQSxNQUFJSixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxXQUFPLFVBQVVqQixhQUFWLEVBQXlCO0FBQzlCLGFBQU9DLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLFdBQWhCLENBQWhCLENBQWQsQ0FBNERvQixHQUFHLENBQUNwQixhQUFELENBQS9ELENBQVA7QUFDRCxLQUZEO0FBR0Q7O0FBRUQsU0FBT29CLEdBQVA7QUFDRCxDQVpEOztBQWNBLElBQUlDLElBQUksR0FBRyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ2xDLE1BQUlDLE1BQU0sR0FBRyxFQUFiOztBQUVBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsSUFBSSxDQUFDRyxNQUF6QixFQUFpQ0QsQ0FBQyxFQUFsQyxFQUFzQztBQUNwQyxRQUFJMUIsR0FBRyxHQUFHd0IsSUFBSSxDQUFDRSxDQUFELENBQWQ7O0FBRUEsUUFBSUgsR0FBRyxDQUFDSyxjQUFKLENBQW1CNUIsR0FBbkIsQ0FBSixFQUE2QjtBQUMzQnlCLE1BQUFBLE1BQU0sQ0FBQ3pCLEdBQUQsQ0FBTixHQUFjdUIsR0FBRyxDQUFDdkIsR0FBRCxDQUFqQjtBQUNEO0FBQ0Y7O0FBRUQsU0FBT3lCLE1BQVA7QUFDRCxDQVpEOztBQWNBLElBQUlJLGlCQUFpQixHQUFHLFNBQVNBLGlCQUFULENBQTJCQyxlQUEzQixFQUE0Q25CLFdBQTVDLEVBQXlEO0FBQy9FLFNBQU8sVUFBVVYsYUFBVixFQUF5QjtBQUM5QixRQUFJVyxPQUFPLEdBQUd4QixLQUFLLENBQUN5QixhQUFOLENBQW9CWixhQUFwQixDQUFkO0FBQ0EsUUFBSThCLFNBQVMsR0FBRyxPQUFPRCxlQUFQLEtBQTJCLFVBQTNCLEdBQXdDQSxlQUF4QyxHQUEwRCxVQUFVZixLQUFWLEVBQWlCaUIsU0FBakIsRUFBNEI7QUFDcEcsYUFBTyxDQUFDeEMsWUFBWSxDQUFDOEIsSUFBSSxDQUFDUCxLQUFELEVBQVFlLGVBQVIsQ0FBTCxFQUErQlIsSUFBSSxDQUFDVSxTQUFELEVBQVlGLGVBQVosQ0FBbkMsQ0FBcEI7QUFDRCxLQUZEOztBQUlBLFFBQUlHLGlCQUFpQixHQUVyQixVQUFVQyxVQUFWLEVBQXNCO0FBQ3BCekMsTUFBQUEsY0FBYyxDQUFDd0MsaUJBQUQsRUFBb0JDLFVBQXBCLENBQWQ7O0FBRUEsZUFBU0QsaUJBQVQsR0FBNkI7QUFDM0IsWUFBSUUsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QlcsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUgsSUFBVixDQUFwQyxFQUFxREksSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdKLElBQTNFLEVBQWlGSSxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixVQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSCxTQUFTLENBQUNHLElBQUQsQ0FBdEI7QUFDRDs7QUFFREwsUUFBQUEsS0FBSyxHQUFHRCxVQUFVLENBQUNPLElBQVgsQ0FBZ0JDLEtBQWhCLENBQXNCUixVQUF0QixFQUFrQyxDQUFDLElBQUQsRUFBT1MsTUFBUCxDQUFjTCxJQUFkLENBQWxDLEtBQTBELElBQWxFO0FBQ0FILFFBQUFBLEtBQUssQ0FBQ1MsS0FBTixHQUFjO0FBQ1pDLFVBQUFBLGFBQWEsRUFBRWxDLFdBQVcsQ0FBQ3dCLEtBQUssQ0FBQ3BCLEtBQVAsQ0FEZDtBQUVaK0IsVUFBQUEsU0FBUyxFQUFFWCxLQUFLLENBQUNwQjtBQUZMLFNBQWQ7QUFJQSxlQUFPb0IsS0FBUDtBQUNEOztBQUVERixNQUFBQSxpQkFBaUIsQ0FBQ2Msd0JBQWxCLEdBQTZDLFNBQVNBLHdCQUFULENBQWtDZixTQUFsQyxFQUE2Q2dCLFNBQTdDLEVBQXdEO0FBQ25HLFlBQUlqQixTQUFTLENBQUNpQixTQUFTLENBQUNGLFNBQVgsRUFBc0JkLFNBQXRCLENBQWIsRUFBK0M7QUFDN0MsaUJBQU87QUFDTGEsWUFBQUEsYUFBYSxFQUFFbEMsV0FBVyxDQUFDcUIsU0FBRCxDQURyQjtBQUVMYyxZQUFBQSxTQUFTLEVBQUVkO0FBRk4sV0FBUDtBQUlEOztBQUVELGVBQU87QUFDTGMsVUFBQUEsU0FBUyxFQUFFZDtBQUROLFNBQVA7QUFHRCxPQVhEOztBQWFBLFVBQUlpQixNQUFNLEdBQUdoQixpQkFBaUIsQ0FBQ2lCLFNBQS9COztBQUVBRCxNQUFBQSxNQUFNLENBQUNFLE1BQVAsR0FBZ0IsU0FBU0EsTUFBVCxHQUFrQjtBQUNoQyxlQUFPdkMsT0FBTyxDQUFDckIsUUFBUSxDQUFDLEVBQUQsRUFBSyxLQUFLd0IsS0FBVixFQUFpQixLQUFLNkIsS0FBTCxDQUFXQyxhQUE1QixDQUFULENBQWQ7QUFDRCxPQUZEOztBQUlBLGFBQU9aLGlCQUFQO0FBQ0QsS0F0Q0QsQ0FzQ0U3QyxLQUFLLENBQUNpQixTQXRDUixDQUZBOztBQTBDQVgsSUFBQUEscUJBQXFCLENBQUMwRCxRQUF0QixDQUErQm5CLGlCQUEvQjs7QUFFQSxRQUFJakIsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsYUFBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLG1CQUFoQixDQUFoQixDQUFkLENBQW9FZ0MsaUJBQXBFLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxpQkFBUDtBQUNELEdBdkREO0FBd0RELENBekREOztBQTJEQSxJQUFJb0IsU0FBUyxHQUFHLFNBQVNBLFNBQVQsQ0FBbUI5QixHQUFuQixFQUF3QitCLElBQXhCLEVBQThCO0FBQzVDLE1BQUk3QixNQUFNLEdBQUcsRUFBYjs7QUFHQSxPQUFLLElBQUl6QixHQUFULElBQWdCdUIsR0FBaEIsRUFBcUI7QUFDbkIsUUFBSUEsR0FBRyxDQUFDSyxjQUFKLENBQW1CNUIsR0FBbkIsQ0FBSixFQUE2QjtBQUMzQnlCLE1BQUFBLE1BQU0sQ0FBQ3pCLEdBQUQsQ0FBTixHQUFjc0QsSUFBSSxDQUFDL0IsR0FBRyxDQUFDdkIsR0FBRCxDQUFKLEVBQVdBLEdBQVgsQ0FBbEI7QUFDRDtBQUNGOztBQUlELFNBQU95QixNQUFQO0FBQ0QsQ0FiRDs7QUFlQSxJQUFJOEIsWUFBWSxHQUFHLFNBQVNBLFlBQVQsQ0FBc0JDLFFBQXRCLEVBQWdDO0FBQ2pELFNBQU8sVUFBVXZELGFBQVYsRUFBeUI7QUFDOUIsUUFBSVcsT0FBTyxHQUFHeEIsS0FBSyxDQUFDeUIsYUFBTixDQUFvQlosYUFBcEIsQ0FBZDs7QUFFQSxRQUFJd0QsWUFBWSxHQUVoQixVQUFVdkIsVUFBVixFQUFzQjtBQUNwQnpDLE1BQUFBLGNBQWMsQ0FBQ2dFLFlBQUQsRUFBZXZCLFVBQWYsQ0FBZDs7QUFFQSxlQUFTdUIsWUFBVCxHQUF3QjtBQUN0QixZQUFJdEIsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QitCLEtBQUssR0FBRyxJQUFJbkIsS0FBSixDQUFVSCxJQUFWLENBQXJDLEVBQXNESSxJQUFJLEdBQUcsQ0FBbEUsRUFBcUVBLElBQUksR0FBR0osSUFBNUUsRUFBa0ZJLElBQUksRUFBdEYsRUFBMEY7QUFDeEZrQixVQUFBQSxLQUFLLENBQUNsQixJQUFELENBQUwsR0FBY0gsU0FBUyxDQUFDRyxJQUFELENBQXZCO0FBQ0Q7O0FBRURMLFFBQUFBLEtBQUssR0FBR0QsVUFBVSxDQUFDTyxJQUFYLENBQWdCQyxLQUFoQixDQUFzQlIsVUFBdEIsRUFBa0MsQ0FBQyxJQUFELEVBQU9TLE1BQVAsQ0FBY2UsS0FBZCxDQUFsQyxLQUEyRCxJQUFuRTtBQUNBdkIsUUFBQUEsS0FBSyxDQUFDcUIsUUFBTixHQUFpQkgsU0FBUyxDQUFDLE9BQU9HLFFBQVAsS0FBb0IsVUFBcEIsR0FBaUNBLFFBQVEsQ0FBQ3JCLEtBQUssQ0FBQ3BCLEtBQVAsQ0FBekMsR0FBeUR5QyxRQUExRCxFQUFvRSxVQUFVRyxhQUFWLEVBQXlCO0FBQ3JILGlCQUFPLFlBQVk7QUFDakIsZ0JBQUlDLE9BQU8sR0FBR0QsYUFBYSxDQUFDeEIsS0FBSyxDQUFDcEIsS0FBUCxDQUEzQjs7QUFFQSxnQkFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBekIsSUFBeUMsT0FBTzBDLE9BQVAsS0FBbUIsVUFBaEUsRUFBNEU7QUFDMUVDLGNBQUFBLE9BQU8sQ0FBQ0MsS0FBUixDQUNBLCtEQUErRCxrQ0FEL0Q7QUFFRDs7QUFFRCxtQkFBT0YsT0FBTyxDQUFDbEIsS0FBUixDQUFjLEtBQUssQ0FBbkIsRUFBc0JMLFNBQXRCLENBQVA7QUFDRCxXQVREO0FBVUQsU0FYeUIsQ0FBMUI7QUFZQSxlQUFPRixLQUFQO0FBQ0Q7O0FBRUQsVUFBSWMsTUFBTSxHQUFHUSxZQUFZLENBQUNQLFNBQTFCOztBQUVBRCxNQUFBQSxNQUFNLENBQUNFLE1BQVAsR0FBZ0IsU0FBU0EsTUFBVCxHQUFrQjtBQUNoQyxlQUFPdkMsT0FBTyxDQUFDckIsUUFBUSxDQUFDLEVBQUQsRUFBSyxLQUFLd0IsS0FBVixFQUFpQixLQUFLeUMsUUFBdEIsQ0FBVCxDQUFkO0FBQ0QsT0FGRDs7QUFJQSxhQUFPQyxZQUFQO0FBQ0QsS0FqQ0QsQ0FpQ0VyRSxLQUFLLENBQUNpQixTQWpDUixDQUZBOztBQXFDQSxRQUFJVyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxhQUFPaEIsY0FBYyxDQUFDTSxlQUFlLENBQUNQLGFBQUQsRUFBZ0IsY0FBaEIsQ0FBaEIsQ0FBZCxDQUErRHdELFlBQS9ELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxZQUFQO0FBQ0QsR0E3Q0Q7QUE4Q0QsQ0EvQ0Q7O0FBaURBLElBQUlNLFlBQVksR0FBRyxTQUFTQSxZQUFULENBQXNCaEQsS0FBdEIsRUFBNkI7QUFDOUMsU0FBTyxVQUFVZCxhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSStELFlBQVksR0FBRyxTQUFTQSxZQUFULENBQXNCQyxVQUF0QixFQUFrQztBQUNuRCxhQUFPckQsT0FBTyxDQUFDcUQsVUFBRCxDQUFkO0FBQ0QsS0FGRDs7QUFJQUQsSUFBQUEsWUFBWSxDQUFDRCxZQUFiLEdBQTRCaEQsS0FBNUI7O0FBRUEsUUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsYUFBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLGNBQWhCLENBQWhCLENBQWQsQ0FBK0QrRCxZQUEvRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsWUFBUDtBQUNELEdBZEQ7QUFlRCxDQWhCRDs7QUFrQkEsSUFBSUUsSUFBSSxHQUFHLFNBQVNBLElBQVQsQ0FBYzNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ2xDLE1BQUkyQyxJQUFJLEdBQUc1RSxRQUFRLENBQUMsRUFBRCxFQUFLZ0MsR0FBTCxDQUFuQjs7QUFFQSxPQUFLLElBQUlHLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLElBQUksQ0FBQ0csTUFBekIsRUFBaUNELENBQUMsRUFBbEMsRUFBc0M7QUFDcEMsUUFBSTFCLEdBQUcsR0FBR3dCLElBQUksQ0FBQ0UsQ0FBRCxDQUFkOztBQUVBLFFBQUl5QyxJQUFJLENBQUN2QyxjQUFMLENBQW9CNUIsR0FBcEIsQ0FBSixFQUE4QjtBQUM1QixhQUFPbUUsSUFBSSxDQUFDbkUsR0FBRCxDQUFYO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPbUUsSUFBUDtBQUNELENBWkQ7O0FBY0EsSUFBSUMsVUFBVSxHQUFHLFNBQVNBLFVBQVQsQ0FBb0JDLE9BQXBCLEVBQTZCQyxPQUE3QixFQUFzQztBQUNyRCxNQUFJakQsR0FBRyxHQUFHWCxRQUFRLENBQUMsVUFBVUssS0FBVixFQUFpQjtBQUNsQyxRQUFJd0QsU0FBSjs7QUFFQSxXQUFPaEYsUUFBUSxDQUFDLEVBQUQsRUFBSzJFLElBQUksQ0FBQ25ELEtBQUQsRUFBUSxDQUFDc0QsT0FBRCxDQUFSLENBQVQsR0FBOEJFLFNBQVMsR0FBRyxFQUFaLEVBQWdCQSxTQUFTLENBQUNELE9BQUQsQ0FBVCxHQUFxQnZELEtBQUssQ0FBQ3NELE9BQUQsQ0FBMUMsRUFBcURFLFNBQW5GLEVBQWY7QUFDRCxHQUppQixDQUFsQjs7QUFNQSxNQUFJdkQsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsV0FBTyxVQUFVakIsYUFBVixFQUF5QjtBQUM5QixhQUFPQyxjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixZQUFoQixDQUFoQixDQUFkLENBQTZEb0IsR0FBRyxDQUFDcEIsYUFBRCxDQUFoRSxDQUFQO0FBQ0QsS0FGRDtBQUdEOztBQUVELFNBQU9vQixHQUFQO0FBQ0QsQ0FkRDs7QUFnQkEsSUFBSUcsSUFBSSxHQUFHMUMsTUFBTSxDQUFDMEMsSUFBbEI7O0FBRUEsSUFBSWdELE9BQU8sR0FBRyxTQUFTQSxPQUFULENBQWlCakQsR0FBakIsRUFBc0IrQixJQUF0QixFQUE0QjtBQUN4QyxTQUFPOUIsSUFBSSxDQUFDRCxHQUFELENBQUosQ0FBVWtELE1BQVYsQ0FBaUIsVUFBVWhELE1BQVYsRUFBa0J6QixHQUFsQixFQUF1QjtBQUM3QyxRQUFJMEUsR0FBRyxHQUFHbkQsR0FBRyxDQUFDdkIsR0FBRCxDQUFiO0FBR0F5QixJQUFBQSxNQUFNLENBQUM2QixJQUFJLENBQUNvQixHQUFELEVBQU0xRSxHQUFOLENBQUwsQ0FBTixHQUF5QjBFLEdBQXpCO0FBR0EsV0FBT2pELE1BQVA7QUFDRCxHQVJNLEVBUUosRUFSSSxDQUFQO0FBU0QsQ0FWRDs7QUFZQSxJQUFJa0QsV0FBVyxHQUFHLFNBQVNBLFdBQVQsQ0FBcUJDLE9BQXJCLEVBQThCO0FBQzlDLE1BQUl2RCxHQUFHLEdBQUdYLFFBQVEsQ0FBQyxVQUFVSyxLQUFWLEVBQWlCO0FBQ2xDLFdBQU94QixRQUFRLENBQUMsRUFBRCxFQUFLMkUsSUFBSSxDQUFDbkQsS0FBRCxFQUFRUyxJQUFJLENBQUNvRCxPQUFELENBQVosQ0FBVCxFQUFpQ0osT0FBTyxDQUFDbEQsSUFBSSxDQUFDUCxLQUFELEVBQVFTLElBQUksQ0FBQ29ELE9BQUQsQ0FBWixDQUFMLEVBQTZCLFVBQVVDLENBQVYsRUFBYVIsT0FBYixFQUFzQjtBQUN4RyxhQUFPTyxPQUFPLENBQUNQLE9BQUQsQ0FBZDtBQUNELEtBRnNELENBQXhDLENBQWY7QUFHRCxHQUppQixDQUFsQjs7QUFNQSxNQUFJckQsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsV0FBTyxVQUFVakIsYUFBVixFQUF5QjtBQUM5QixhQUFPQyxjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixhQUFoQixDQUFoQixDQUFkLENBQThEb0IsR0FBRyxDQUFDcEIsYUFBRCxDQUFqRSxDQUFQO0FBQ0QsS0FGRDtBQUdEOztBQUVELFNBQU9vQixHQUFQO0FBQ0QsQ0FkRDs7QUFnQkEsSUFBSXlELFdBQVcsR0FBRyxTQUFTQSxXQUFULENBQXFCQyxRQUFyQixFQUErQjtBQUMvQyxTQUFPLFVBQVU5RSxhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSStFLFdBQVcsR0FBRyxTQUFTQSxXQUFULENBQXFCakUsS0FBckIsRUFBNEI7QUFDNUMsYUFBT0gsT0FBTyxDQUFDckIsUUFBUSxDQUFDLEVBQUQsRUFBS3dCLEtBQUwsRUFBWUEsS0FBSyxDQUFDZ0UsUUFBRCxDQUFqQixDQUFULENBQWQ7QUFDRCxLQUZEOztBQUlBLFFBQUkvRCxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxhQUFPaEIsY0FBYyxDQUFDTSxlQUFlLENBQUNQLGFBQUQsRUFBZ0IsYUFBaEIsQ0FBaEIsQ0FBZCxDQUE4RCtFLFdBQTlELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxXQUFQO0FBQ0QsR0FaRDtBQWFELENBZEQ7O0FBZ0JBLElBQUlDLFNBQVMsR0FBRyxTQUFTQSxTQUFULENBQW1CQyxTQUFuQixFQUE4QkMsZ0JBQTlCLEVBQWdEQyxZQUFoRCxFQUE4RDtBQUM1RSxTQUFPLFVBQVVuRixhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSW9GLFNBQVMsR0FFYixVQUFVbkQsVUFBVixFQUFzQjtBQUNwQnpDLE1BQUFBLGNBQWMsQ0FBQzRGLFNBQUQsRUFBWW5ELFVBQVosQ0FBZDs7QUFFQSxlQUFTbUQsU0FBVCxHQUFxQjtBQUNuQixZQUFJbEQsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QlcsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUgsSUFBVixDQUFwQyxFQUFxREksSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdKLElBQTNFLEVBQWlGSSxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixVQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSCxTQUFTLENBQUNHLElBQUQsQ0FBdEI7QUFDRDs7QUFFREwsUUFBQUEsS0FBSyxHQUFHRCxVQUFVLENBQUNPLElBQVgsQ0FBZ0JDLEtBQWhCLENBQXNCUixVQUF0QixFQUFrQyxDQUFDLElBQUQsRUFBT1MsTUFBUCxDQUFjTCxJQUFkLENBQWxDLEtBQTBELElBQWxFO0FBQ0FILFFBQUFBLEtBQUssQ0FBQ1MsS0FBTixHQUFjO0FBQ1owQyxVQUFBQSxVQUFVLEVBQUUsT0FBT0YsWUFBUCxLQUF3QixVQUF4QixHQUFxQ0EsWUFBWSxDQUFDakQsS0FBSyxDQUFDcEIsS0FBUCxDQUFqRCxHQUFpRXFFO0FBRGpFLFNBQWQ7O0FBSUFqRCxRQUFBQSxLQUFLLENBQUNvRCxnQkFBTixHQUF5QixVQUFVQyxRQUFWLEVBQW9CQyxRQUFwQixFQUE4QjtBQUNyRCxpQkFBT3RELEtBQUssQ0FBQ3VELFFBQU4sQ0FBZSxVQUFVQyxJQUFWLEVBQWdCO0FBQ3BDLGdCQUFJTCxVQUFVLEdBQUdLLElBQUksQ0FBQ0wsVUFBdEI7QUFDQSxtQkFBTztBQUNMQSxjQUFBQSxVQUFVLEVBQUUsT0FBT0UsUUFBUCxLQUFvQixVQUFwQixHQUFpQ0EsUUFBUSxDQUFDRixVQUFELENBQXpDLEdBQXdERTtBQUQvRCxhQUFQO0FBR0QsV0FMTSxFQUtKQyxRQUxJLENBQVA7QUFNRCxTQVBEOztBQVNBLGVBQU90RCxLQUFQO0FBQ0Q7O0FBRUQsVUFBSWMsTUFBTSxHQUFHb0MsU0FBUyxDQUFDbkMsU0FBdkI7O0FBRUFELE1BQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLFlBQUlvQixTQUFKOztBQUVBLGVBQU8zRCxPQUFPLENBQUNyQixRQUFRLENBQUMsRUFBRCxFQUFLLEtBQUt3QixLQUFWLEdBQWtCd0QsU0FBUyxHQUFHLEVBQVosRUFBZ0JBLFNBQVMsQ0FBQ1csU0FBRCxDQUFULEdBQXVCLEtBQUt0QyxLQUFMLENBQVcwQyxVQUFsRCxFQUE4RGYsU0FBUyxDQUFDWSxnQkFBRCxDQUFULEdBQThCLEtBQUtJLGdCQUFqRyxFQUFtSGhCLFNBQXJJLEVBQVQsQ0FBZDtBQUNELE9BSkQ7O0FBTUEsYUFBT2MsU0FBUDtBQUNELEtBcENELENBb0NFakcsS0FBSyxDQUFDaUIsU0FwQ1IsQ0FGQTs7QUF3Q0EsUUFBSVcsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsYUFBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLFdBQWhCLENBQWhCLENBQWQsQ0FBNERvRixTQUE1RCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsU0FBUDtBQUNELEdBaEREO0FBaURELENBbEREOztBQW9EQSxJQUFJTyxpQkFBaUIsR0FBRyxTQUFTQSxpQkFBVCxDQUEyQlIsWUFBM0IsRUFBeUNTLGFBQXpDLEVBQXdEO0FBQzlFLFNBQU8sVUFBVTVGLGFBQVYsRUFBeUI7QUFDOUIsUUFBSVcsT0FBTyxHQUFHeEIsS0FBSyxDQUFDeUIsYUFBTixDQUFvQlosYUFBcEIsQ0FBZDs7QUFFQSxRQUFJNkYsaUJBQWlCLEdBRXJCLFVBQVU1RCxVQUFWLEVBQXNCO0FBQ3BCekMsTUFBQUEsY0FBYyxDQUFDcUcsaUJBQUQsRUFBb0I1RCxVQUFwQixDQUFkOztBQUVBLGVBQVM0RCxpQkFBVCxHQUE2QjtBQUMzQixZQUFJM0QsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QitCLEtBQUssR0FBRyxJQUFJbkIsS0FBSixDQUFVSCxJQUFWLENBQXJDLEVBQXNESSxJQUFJLEdBQUcsQ0FBbEUsRUFBcUVBLElBQUksR0FBR0osSUFBNUUsRUFBa0ZJLElBQUksRUFBdEYsRUFBMEY7QUFDeEZrQixVQUFBQSxLQUFLLENBQUNsQixJQUFELENBQUwsR0FBY0gsU0FBUyxDQUFDRyxJQUFELENBQXZCO0FBQ0Q7O0FBRURMLFFBQUFBLEtBQUssR0FBR0QsVUFBVSxDQUFDTyxJQUFYLENBQWdCQyxLQUFoQixDQUFzQlIsVUFBdEIsRUFBa0MsQ0FBQyxJQUFELEVBQU9TLE1BQVAsQ0FBY2UsS0FBZCxDQUFsQyxLQUEyRCxJQUFuRTtBQUNBdkIsUUFBQUEsS0FBSyxDQUFDUyxLQUFOLEdBQWMsT0FBT3dDLFlBQVAsS0FBd0IsVUFBeEIsR0FBcUNBLFlBQVksQ0FBQ2pELEtBQUssQ0FBQ3BCLEtBQVAsQ0FBakQsR0FBaUVxRSxZQUEvRTtBQUNBakQsUUFBQUEsS0FBSyxDQUFDMEQsYUFBTixHQUFzQnhDLFNBQVMsQ0FBQ3dDLGFBQUQsRUFBZ0IsVUFBVWpDLE9BQVYsRUFBbUI7QUFDaEUsaUJBQU8sVUFBVW1DLFVBQVYsRUFBc0I7QUFDM0IsaUJBQUssSUFBSUMsS0FBSyxHQUFHM0QsU0FBUyxDQUFDVixNQUF0QixFQUE4QlcsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVXlELEtBQUssR0FBRyxDQUFSLEdBQVlBLEtBQUssR0FBRyxDQUFwQixHQUF3QixDQUFsQyxDQUFyQyxFQUEyRUMsS0FBSyxHQUFHLENBQXhGLEVBQTJGQSxLQUFLLEdBQUdELEtBQW5HLEVBQTBHQyxLQUFLLEVBQS9HLEVBQW1IO0FBQ2pIM0QsY0FBQUEsSUFBSSxDQUFDMkQsS0FBSyxHQUFHLENBQVQsQ0FBSixHQUFrQjVELFNBQVMsQ0FBQzRELEtBQUQsQ0FBM0I7QUFDRDs7QUFJRCxnQkFBSUYsVUFBVSxJQUFJLE9BQU9BLFVBQVUsQ0FBQ0csT0FBbEIsS0FBOEIsVUFBaEQsRUFBNEQ7QUFDMURILGNBQUFBLFVBQVUsQ0FBQ0csT0FBWDtBQUNEOztBQUVEL0QsWUFBQUEsS0FBSyxDQUFDdUQsUUFBTixDQUFlLFVBQVU5QyxLQUFWLEVBQWlCN0IsS0FBakIsRUFBd0I7QUFDckMscUJBQU82QyxPQUFPLENBQUNoQixLQUFELEVBQVE3QixLQUFSLENBQVAsQ0FBc0IyQixLQUF0QixDQUE0QixLQUFLLENBQWpDLEVBQW9DLENBQUNxRCxVQUFELEVBQWFwRCxNQUFiLENBQW9CTCxJQUFwQixDQUFwQyxDQUFQO0FBQ0QsYUFGRDtBQUdELFdBZEQ7QUFlRCxTQWhCOEIsQ0FBL0I7QUFpQkEsZUFBT0gsS0FBUDtBQUNEOztBQUVELFVBQUljLE1BQU0sR0FBRzZDLGlCQUFpQixDQUFDNUMsU0FBL0I7O0FBRUFELE1BQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLGVBQU92QyxPQUFPLENBQUNyQixRQUFRLENBQUMsRUFBRCxFQUFLLEtBQUt3QixLQUFWLEVBQWlCLEtBQUs2QixLQUF0QixFQUE2QixLQUFLaUQsYUFBbEMsQ0FBVCxDQUFkO0FBQ0QsT0FGRDs7QUFJQSxhQUFPQyxpQkFBUDtBQUNELEtBdkNELENBdUNFMUcsS0FBSyxDQUFDaUIsU0F2Q1IsQ0FGQTs7QUEyQ0EsUUFBSVcsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsYUFBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLG1CQUFoQixDQUFoQixDQUFkLENBQW9FNkYsaUJBQXBFLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxpQkFBUDtBQUNELEdBbkREO0FBb0RELENBckREOztBQXVEQSxJQUFJSyxJQUFJLEdBQUcsU0FBU0EsSUFBVCxHQUFnQixDQUFFLENBQTdCOztBQUVBLElBQUlDLFdBQVcsR0FBRyxTQUFTQSxXQUFULENBQXFCbEIsU0FBckIsRUFBZ0NtQixZQUFoQyxFQUE4Q0MsT0FBOUMsRUFBdURsQixZQUF2RCxFQUFxRTtBQUNyRixTQUFPLFVBQVVuRixhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSXNHLFdBQVcsR0FFZixVQUFVckUsVUFBVixFQUFzQjtBQUNwQnpDLE1BQUFBLGNBQWMsQ0FBQzhHLFdBQUQsRUFBY3JFLFVBQWQsQ0FBZDs7QUFFQSxlQUFTcUUsV0FBVCxHQUF1QjtBQUNyQixZQUFJcEUsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QlcsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUgsSUFBVixDQUFwQyxFQUFxREksSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdKLElBQTNFLEVBQWlGSSxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixVQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSCxTQUFTLENBQUNHLElBQUQsQ0FBdEI7QUFDRDs7QUFFREwsUUFBQUEsS0FBSyxHQUFHRCxVQUFVLENBQUNPLElBQVgsQ0FBZ0JDLEtBQWhCLENBQXNCUixVQUF0QixFQUFrQyxDQUFDLElBQUQsRUFBT1MsTUFBUCxDQUFjTCxJQUFkLENBQWxDLEtBQTBELElBQWxFO0FBQ0FILFFBQUFBLEtBQUssQ0FBQ1MsS0FBTixHQUFjO0FBQ1owQyxVQUFBQSxVQUFVLEVBQUVuRCxLQUFLLENBQUNxRSxvQkFBTjtBQURBLFNBQWQ7O0FBSUFyRSxRQUFBQSxLQUFLLENBQUNzRSxRQUFOLEdBQWlCLFVBQVVDLE1BQVYsRUFBa0JqQixRQUFsQixFQUE0QjtBQUMzQyxjQUFJQSxRQUFRLEtBQUssS0FBSyxDQUF0QixFQUF5QjtBQUN2QkEsWUFBQUEsUUFBUSxHQUFHVSxJQUFYO0FBQ0Q7O0FBRUQsaUJBQU9oRSxLQUFLLENBQUN1RCxRQUFOLENBQWUsVUFBVUMsSUFBVixFQUFnQjtBQUNwQyxnQkFBSUwsVUFBVSxHQUFHSyxJQUFJLENBQUNMLFVBQXRCO0FBQ0EsbUJBQU87QUFDTEEsY0FBQUEsVUFBVSxFQUFFZ0IsT0FBTyxDQUFDaEIsVUFBRCxFQUFhb0IsTUFBYjtBQURkLGFBQVA7QUFHRCxXQUxNLEVBS0osWUFBWTtBQUNiLG1CQUFPakIsUUFBUSxDQUFDdEQsS0FBSyxDQUFDUyxLQUFOLENBQVkwQyxVQUFiLENBQWY7QUFDRCxXQVBNLENBQVA7QUFRRCxTQWJEOztBQWVBLGVBQU9uRCxLQUFQO0FBQ0Q7O0FBRUQsVUFBSWMsTUFBTSxHQUFHc0QsV0FBVyxDQUFDckQsU0FBekI7O0FBRUFELE1BQUFBLE1BQU0sQ0FBQ3VELG9CQUFQLEdBQThCLFNBQVNBLG9CQUFULEdBQWdDO0FBQzVELFlBQUlwQixZQUFZLEtBQUs5RSxTQUFyQixFQUFnQztBQUM5QixpQkFBTyxPQUFPOEUsWUFBUCxLQUF3QixVQUF4QixHQUFxQ0EsWUFBWSxDQUFDLEtBQUtyRSxLQUFOLENBQWpELEdBQWdFcUUsWUFBdkU7QUFDRDs7QUFFRCxlQUFPa0IsT0FBTyxDQUFDaEcsU0FBRCxFQUFZO0FBQ3hCcUcsVUFBQUEsSUFBSSxFQUFFO0FBRGtCLFNBQVosQ0FBZDtBQUdELE9BUkQ7O0FBVUExRCxNQUFBQSxNQUFNLENBQUNFLE1BQVAsR0FBZ0IsU0FBU0EsTUFBVCxHQUFrQjtBQUNoQyxZQUFJb0IsU0FBSjs7QUFFQSxlQUFPM0QsT0FBTyxDQUFDckIsUUFBUSxDQUFDLEVBQUQsRUFBSyxLQUFLd0IsS0FBVixHQUFrQndELFNBQVMsR0FBRyxFQUFaLEVBQWdCQSxTQUFTLENBQUNXLFNBQUQsQ0FBVCxHQUF1QixLQUFLdEMsS0FBTCxDQUFXMEMsVUFBbEQsRUFBOERmLFNBQVMsQ0FBQzhCLFlBQUQsQ0FBVCxHQUEwQixLQUFLSSxRQUE3RixFQUF1R2xDLFNBQXpILEVBQVQsQ0FBZDtBQUNELE9BSkQ7O0FBTUEsYUFBT2dDLFdBQVA7QUFDRCxLQXBERCxDQW9ERW5ILEtBQUssQ0FBQ2lCLFNBcERSLENBRkE7O0FBd0RBLFFBQUlXLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixhQUFoQixDQUFoQixDQUFkLENBQThEc0csV0FBOUQsQ0FBUDtBQUNEOztBQUVELFdBQU9BLFdBQVA7QUFDRCxHQWhFRDtBQWlFRCxDQWxFRDs7QUFvRUEsSUFBSUssUUFBUSxHQUFHLFNBQVNBLFFBQVQsQ0FBa0J2RyxTQUFsQixFQUE2QjtBQUMxQyxTQUFPQSxTQUFQO0FBQ0QsQ0FGRDs7QUFJQSxJQUFJd0csTUFBTSxHQUFHLFNBQVNBLE1BQVQsQ0FBZ0JDLElBQWhCLEVBQXNCQyxJQUF0QixFQUE0QkMsS0FBNUIsRUFBbUM7QUFDOUMsTUFBSUEsS0FBSyxLQUFLLEtBQUssQ0FBbkIsRUFBc0I7QUFDcEJBLElBQUFBLEtBQUssR0FBR0osUUFBUjtBQUNEOztBQUVELFNBQU8sVUFBVTNHLGFBQVYsRUFBeUI7QUFDOUIsUUFBSWdILFdBQUo7QUFDQSxRQUFJQyxZQUFKOztBQUVBLFFBQUlDLE1BQU0sR0FBRyxTQUFTQSxNQUFULENBQWdCcEcsS0FBaEIsRUFBdUI7QUFDbEMsVUFBSStGLElBQUksQ0FBQy9GLEtBQUQsQ0FBUixFQUFpQjtBQUNma0csUUFBQUEsV0FBVyxHQUFHQSxXQUFXLElBQUk3SCxLQUFLLENBQUN5QixhQUFOLENBQW9Ca0csSUFBSSxDQUFDOUcsYUFBRCxDQUF4QixDQUE3QjtBQUNBLGVBQU9nSCxXQUFXLENBQUNsRyxLQUFELENBQWxCO0FBQ0Q7O0FBRURtRyxNQUFBQSxZQUFZLEdBQUdBLFlBQVksSUFBSTlILEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JtRyxLQUFLLENBQUMvRyxhQUFELENBQXpCLENBQS9CO0FBQ0EsYUFBT2lILFlBQVksQ0FBQ25HLEtBQUQsQ0FBbkI7QUFDRCxLQVJEOztBQVVBLFFBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixRQUFoQixDQUFoQixDQUFkLENBQXlEa0gsTUFBekQsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQVA7QUFDRCxHQW5CRDtBQW9CRCxDQXpCRDs7QUEyQkEsSUFBSUMsZUFBZSxHQUFHLFNBQVNBLGVBQVQsQ0FBeUIvRyxTQUF6QixFQUFvQztBQUN4RCxTQUFPLFVBQVV3RSxDQUFWLEVBQWE7QUFDbEIsUUFBSWpFLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JSLFNBQXBCLENBQWQ7O0FBRUEsUUFBSWdILGVBQWUsR0FBRyxTQUFTQSxlQUFULENBQXlCdEcsS0FBekIsRUFBZ0M7QUFDcEQsYUFBT0gsT0FBTyxDQUFDRyxLQUFELENBQWQ7QUFDRCxLQUZEOztBQUlBLFFBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDbUcsTUFBQUEsZUFBZSxDQUFDbEgsV0FBaEIsR0FBOEJLLGVBQWUsQ0FBQ0gsU0FBRCxFQUFZLGlCQUFaLENBQTdDO0FBQ0Q7O0FBRUQsV0FBT2dILGVBQVA7QUFDRCxHQVpEO0FBYUQsQ0FkRDs7QUFnQkEsSUFBSUMsT0FBTyxHQUVYLFVBQVVwRixVQUFWLEVBQXNCO0FBQ3BCekMsRUFBQUEsY0FBYyxDQUFDNkgsT0FBRCxFQUFVcEYsVUFBVixDQUFkOztBQUVBLFdBQVNvRixPQUFULEdBQW1CO0FBQ2pCLFdBQU9wRixVQUFVLENBQUNRLEtBQVgsQ0FBaUIsSUFBakIsRUFBdUJMLFNBQXZCLEtBQXFDLElBQTVDO0FBQ0Q7O0FBRUQsTUFBSVksTUFBTSxHQUFHcUUsT0FBTyxDQUFDcEUsU0FBckI7O0FBRUFELEVBQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLFdBQU8sSUFBUDtBQUNELEdBRkQ7O0FBSUEsU0FBT21FLE9BQVA7QUFDRCxDQWRELENBY0VsSSxLQUFLLENBQUNpQixTQWRSLENBRkE7O0FBa0JBLElBQUlrSCxhQUFhLEdBQUcsU0FBU0EsYUFBVCxDQUF1QjFDLENBQXZCLEVBQTBCO0FBQzVDLFNBQU95QyxPQUFQO0FBQ0QsQ0FGRDs7QUFJQSxJQUFJRSxZQUFZLEdBQUcsU0FBU0EsWUFBVCxDQUFzQlYsSUFBdEIsRUFBNEI7QUFDN0MsU0FBTyxVQUFVN0csYUFBVixFQUF5QjtBQUM5QixRQUFJVyxPQUFPLEdBQUd4QixLQUFLLENBQUN5QixhQUFOLENBQW9CWixhQUFwQixDQUFkOztBQUVBLFFBQUl3SCxZQUFZLEdBRWhCLFVBQVV2RixVQUFWLEVBQXNCO0FBQ3BCekMsTUFBQUEsY0FBYyxDQUFDZ0ksWUFBRCxFQUFldkYsVUFBZixDQUFkOztBQUVBLGVBQVN1RixZQUFULEdBQXdCO0FBQ3RCLGVBQU92RixVQUFVLENBQUNRLEtBQVgsQ0FBaUIsSUFBakIsRUFBdUJMLFNBQXZCLEtBQXFDLElBQTVDO0FBQ0Q7O0FBRUQsVUFBSVksTUFBTSxHQUFHd0UsWUFBWSxDQUFDdkUsU0FBMUI7O0FBRUFELE1BQUFBLE1BQU0sQ0FBQ3lFLHFCQUFQLEdBQStCLFNBQVNBLHFCQUFULENBQStCMUYsU0FBL0IsRUFBMEM7QUFDdkUsZUFBTzhFLElBQUksQ0FBQyxLQUFLL0YsS0FBTixFQUFhaUIsU0FBYixDQUFYO0FBQ0QsT0FGRDs7QUFJQWlCLE1BQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLGVBQU92QyxPQUFPLENBQUMsS0FBS0csS0FBTixDQUFkO0FBQ0QsT0FGRDs7QUFJQSxhQUFPMEcsWUFBUDtBQUNELEtBbEJELENBa0JFckksS0FBSyxDQUFDaUIsU0FsQlIsQ0FGQTs7QUFzQkEsUUFBSVcsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsYUFBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLGNBQWhCLENBQWhCLENBQWQsQ0FBK0R3SCxZQUEvRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsWUFBUDtBQUNELEdBOUJEO0FBK0JELENBaENEOztBQWtDQSxJQUFJRSxJQUFJLEdBQUcsU0FBU0EsSUFBVCxDQUFjMUgsYUFBZCxFQUE2QjtBQUN0QyxNQUFJb0IsR0FBRyxHQUFHbUcsWUFBWSxDQUFDLFVBQVV6RyxLQUFWLEVBQWlCaUIsU0FBakIsRUFBNEI7QUFDakQsV0FBTyxDQUFDeEMsWUFBWSxDQUFDdUIsS0FBRCxFQUFRaUIsU0FBUixDQUFwQjtBQUNELEdBRnFCLENBQXRCOztBQUlBLE1BQUloQixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxXQUFPaEIsY0FBYyxDQUFDTSxlQUFlLENBQUNQLGFBQUQsRUFBZ0IsTUFBaEIsQ0FBaEIsQ0FBZCxDQUF1RG9CLEdBQUcsQ0FBQ3BCLGFBQUQsQ0FBMUQsQ0FBUDtBQUNEOztBQUVELFNBQU9vQixHQUFHLENBQUNwQixhQUFELENBQVY7QUFDRCxDQVZEOztBQVlBLElBQUkySCxpQkFBaUIsR0FBRyxTQUFTQSxpQkFBVCxDQUEyQkMsUUFBM0IsRUFBcUM7QUFDM0QsTUFBSXhHLEdBQUcsR0FBR21HLFlBQVksQ0FBQyxVQUFVekcsS0FBVixFQUFpQmlCLFNBQWpCLEVBQTRCO0FBQ2pELFdBQU8sQ0FBQ3hDLFlBQVksQ0FBQzhCLElBQUksQ0FBQ1UsU0FBRCxFQUFZNkYsUUFBWixDQUFMLEVBQTRCdkcsSUFBSSxDQUFDUCxLQUFELEVBQVE4RyxRQUFSLENBQWhDLENBQXBCO0FBQ0QsR0FGcUIsQ0FBdEI7O0FBSUEsTUFBSTdHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLFdBQU8sVUFBVWpCLGFBQVYsRUFBeUI7QUFDOUIsYUFBT0MsY0FBYyxDQUFDTSxlQUFlLENBQUNQLGFBQUQsRUFBZ0IsbUJBQWhCLENBQWhCLENBQWQsQ0FBb0VvQixHQUFHLENBQUNwQixhQUFELENBQXZFLENBQVA7QUFDRCxLQUZEO0FBR0Q7O0FBRUQsU0FBT29CLEdBQVA7QUFDRCxDQVpEOztBQWNBLElBQUl5RyxzQkFBc0IsR0FBRyxTQUFTQSxzQkFBVCxDQUFnQzdILGFBQWhDLEVBQStDO0FBQzFFLE1BQUk4SCxTQUFTLEdBQUc5SCxhQUFhLENBQUM4SCxTQUE5Qjs7QUFFQSxNQUFJL0csT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsUUFBSSxDQUFDNkcsU0FBTCxFQUFnQjtBQUVkbEUsTUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWMsdURBQXVELDhEQUF2RCxJQUF5SCxtQ0FBbUMxRCxjQUFjLENBQUNILGFBQUQsQ0FBakQsR0FBbUUsS0FBNUwsQ0FBZDtBQUVEO0FBQ0Y7O0FBRUQsTUFBSTRILFFBQVEsR0FBRy9JLE1BQU0sQ0FBQzBDLElBQVAsQ0FBWXVHLFNBQVMsSUFBSSxFQUF6QixDQUFmO0FBQ0EsTUFBSUMsc0JBQXNCLEdBQUdKLGlCQUFpQixDQUFDQyxRQUFELENBQWpCLENBQTRCNUgsYUFBNUIsQ0FBN0I7O0FBRUEsTUFBSWUsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsV0FBT2hCLGNBQWMsQ0FBQ00sZUFBZSxDQUFDUCxhQUFELEVBQWdCLHdCQUFoQixDQUFoQixDQUFkLENBQXlFK0gsc0JBQXpFLENBQVA7QUFDRDs7QUFFRCxTQUFPQSxzQkFBUDtBQUNELENBbkJEOztBQXFCQSxJQUFJQyxXQUFXLEdBQUcsU0FBU0EsV0FBVCxDQUFxQkMsaUJBQXJCLEVBQXdDQyxlQUF4QyxFQUF5RDtBQUN6RSxTQUFPLFVBQVVsSSxhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSW1JLFdBQVcsR0FFZixVQUFVbEcsVUFBVixFQUFzQjtBQUNwQnpDLE1BQUFBLGNBQWMsQ0FBQzJJLFdBQUQsRUFBY2xHLFVBQWQsQ0FBZDs7QUFFQSxlQUFTa0csV0FBVCxHQUF1QjtBQUNyQixZQUFJakcsS0FBSjs7QUFFQSxhQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDVixNQUFyQixFQUE2QlcsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUgsSUFBVixDQUFwQyxFQUFxREksSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdKLElBQTNFLEVBQWlGSSxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixVQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSCxTQUFTLENBQUNHLElBQUQsQ0FBdEI7QUFDRDs7QUFFREwsUUFBQUEsS0FBSyxHQUFHRCxVQUFVLENBQUNPLElBQVgsQ0FBZ0JDLEtBQWhCLENBQXNCUixVQUF0QixFQUFrQyxDQUFDLElBQUQsRUFBT1MsTUFBUCxDQUFjTCxJQUFkLENBQWxDLEtBQTBELElBQWxFOztBQUVBSCxRQUFBQSxLQUFLLENBQUNnRyxlQUFOLEdBQXdCLFlBQVk7QUFDbEMsaUJBQU9BLGVBQWUsQ0FBQ2hHLEtBQUssQ0FBQ3BCLEtBQVAsQ0FBdEI7QUFDRCxTQUZEOztBQUlBLGVBQU9vQixLQUFQO0FBQ0Q7O0FBRUQsVUFBSWMsTUFBTSxHQUFHbUYsV0FBVyxDQUFDbEYsU0FBekI7O0FBRUFELE1BQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLGVBQU92QyxPQUFPLENBQUMsS0FBS0csS0FBTixDQUFkO0FBQ0QsT0FGRDs7QUFJQSxhQUFPcUgsV0FBUDtBQUNELEtBMUJELENBMEJFaEosS0FBSyxDQUFDaUIsU0ExQlIsQ0FGQTs7QUE4QkErSCxJQUFBQSxXQUFXLENBQUNGLGlCQUFaLEdBQWdDQSxpQkFBaEM7O0FBRUEsUUFBSWxILE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixhQUFoQixDQUFoQixDQUFkLENBQThEbUksV0FBOUQsQ0FBUDtBQUNEOztBQUVELFdBQU9BLFdBQVA7QUFDRCxHQXhDRDtBQXlDRCxDQTFDRDs7QUE0Q0EsSUFBSUMsVUFBVSxHQUFHLFNBQVNBLFVBQVQsQ0FBb0JDLFlBQXBCLEVBQWtDO0FBQ2pELFNBQU8sVUFBVXJJLGFBQVYsRUFBeUI7QUFDOUIsUUFBSVcsT0FBTyxHQUFHeEIsS0FBSyxDQUFDeUIsYUFBTixDQUFvQlosYUFBcEIsQ0FBZDs7QUFFQSxRQUFJc0ksVUFBVSxHQUFHLFNBQVNBLFVBQVQsQ0FBb0J0RSxVQUFwQixFQUFnQ3VFLE9BQWhDLEVBQXlDO0FBQ3hELGFBQU81SCxPQUFPLENBQUNyQixRQUFRLENBQUMsRUFBRCxFQUFLMEUsVUFBTCxFQUFpQnVFLE9BQWpCLENBQVQsQ0FBZDtBQUNELEtBRkQ7O0FBSUFELElBQUFBLFVBQVUsQ0FBQ0QsWUFBWCxHQUEwQkEsWUFBMUI7O0FBRUEsUUFBSXRILE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixZQUFoQixDQUFoQixDQUFkLENBQTZEc0ksVUFBN0QsQ0FBUDtBQUNEOztBQUVELFdBQU9BLFVBQVA7QUFDRCxHQWREO0FBZUQsQ0FoQkQ7O0FBa0JBLElBQUlFLFNBQVMsR0FBRyxTQUFTQSxTQUFULENBQW1CQyxJQUFuQixFQUF5QjtBQUN2QyxTQUFPLFVBQVV6SSxhQUFWLEVBQXlCO0FBQzlCLFFBQUlXLE9BQU8sR0FBR3hCLEtBQUssQ0FBQ3lCLGFBQU4sQ0FBb0JaLGFBQXBCLENBQWQ7O0FBRUEsUUFBSWUsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBekIsSUFBeUN3SCxJQUFJLENBQUM5RyxjQUFMLENBQW9CLFFBQXBCLENBQTdDLEVBQTRFO0FBQzFFaUMsTUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWMsd0VBQXdFLGlEQUF0RjtBQUNEOztBQUVELFFBQUk2RSxTQUFTLEdBRWIsVUFBVXpHLFVBQVYsRUFBc0I7QUFDcEJ6QyxNQUFBQSxjQUFjLENBQUNrSixTQUFELEVBQVl6RyxVQUFaLENBQWQ7O0FBRUEsZUFBU3lHLFNBQVQsR0FBcUI7QUFDbkIsZUFBT3pHLFVBQVUsQ0FBQ1EsS0FBWCxDQUFpQixJQUFqQixFQUF1QkwsU0FBdkIsS0FBcUMsSUFBNUM7QUFDRDs7QUFFRCxVQUFJWSxNQUFNLEdBQUcwRixTQUFTLENBQUN6RixTQUF2Qjs7QUFFQUQsTUFBQUEsTUFBTSxDQUFDRSxNQUFQLEdBQWdCLFNBQVNBLE1BQVQsR0FBa0I7QUFDaEMsZUFBT3ZDLE9BQU8sQ0FBQ3JCLFFBQVEsQ0FBQyxFQUFELEVBQUssS0FBS3dCLEtBQVYsRUFBaUIsS0FBSzZCLEtBQXRCLENBQVQsQ0FBZDtBQUNELE9BRkQ7O0FBSUEsYUFBTytGLFNBQVA7QUFDRCxLQWRELENBY0V2SixLQUFLLENBQUNpQixTQWRSLENBRkE7O0FBa0JBdkIsSUFBQUEsTUFBTSxDQUFDMEMsSUFBUCxDQUFZa0gsSUFBWixFQUFrQkUsT0FBbEIsQ0FBMEIsVUFBVUMsSUFBVixFQUFnQjtBQUN4QyxhQUFPRixTQUFTLENBQUN6RixTQUFWLENBQW9CMkYsSUFBcEIsSUFBNEJILElBQUksQ0FBQ0csSUFBRCxDQUF2QztBQUNELEtBRkQ7O0FBSUEsUUFBSTdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixXQUFoQixDQUFoQixDQUFkLENBQTREMEksU0FBNUQsQ0FBUDtBQUNEOztBQUVELFdBQU9BLFNBQVA7QUFDRCxHQWxDRDtBQW1DRCxDQXBDRDs7QUFzQ0EsSUFBSUcsZ0JBQWdCLEdBQUcsU0FBU0EsZ0JBQVQsQ0FBMEJ6SSxTQUExQixFQUFxQztBQUMxRCxTQUFPMEksT0FBTyxDQUFDMUksU0FBUyxJQUFJQSxTQUFTLENBQUM2QyxTQUF2QixJQUFvQyxPQUFPN0MsU0FBUyxDQUFDNkMsU0FBVixDQUFvQkMsTUFBM0IsS0FBc0MsVUFBM0UsQ0FBZDtBQUNELENBRkQ7O0FBSUEsSUFBSTZGLE9BQU8sR0FBRyxTQUFTQSxPQUFULENBQWlCQyxhQUFqQixFQUFnQztBQUM1QyxNQUFJQyxNQUFKLEVBQVlDLEtBQVo7O0FBRUEsU0FBT0wsZ0JBQWdCLENBQUNHLGFBQUQsQ0FBaEIsR0FBa0NBLGFBQWxDLElBQW1ERSxLQUFLLEdBQUdELE1BQU0sR0FFeEUsVUFBVWhILFVBQVYsRUFBc0I7QUFDcEJ6QyxJQUFBQSxjQUFjLENBQUMySixPQUFELEVBQVVsSCxVQUFWLENBQWQ7O0FBRUEsYUFBU2tILE9BQVQsR0FBbUI7QUFDakIsYUFBT2xILFVBQVUsQ0FBQ1EsS0FBWCxDQUFpQixJQUFqQixFQUF1QkwsU0FBdkIsS0FBcUMsSUFBNUM7QUFDRDs7QUFFRCxRQUFJWSxNQUFNLEdBQUdtRyxPQUFPLENBQUNsRyxTQUFyQjs7QUFFQUQsSUFBQUEsTUFBTSxDQUFDRSxNQUFQLEdBQWdCLFNBQVNBLE1BQVQsR0FBa0I7QUFDaEMsVUFBSSxPQUFPOEYsYUFBUCxLQUF5QixRQUE3QixFQUF1QztBQUNyQyxlQUFPM0osY0FBYyxDQUFDK0osYUFBZixDQUE2QkosYUFBN0IsRUFBNEMsS0FBS2xJLEtBQWpELENBQVA7QUFDRDs7QUFFRCxhQUFPa0ksYUFBYSxDQUFDLEtBQUtsSSxLQUFOLEVBQWEsS0FBS3lILE9BQWxCLENBQXBCO0FBQ0QsS0FORDs7QUFRQSxXQUFPWSxPQUFQO0FBQ0QsR0FsQkQsQ0FrQkVoSyxLQUFLLENBQUNpQixTQWxCUixDQUYwRCxFQW9CdEM2SSxNQUFNLENBQUMvSSxXQUFQLEdBQXFCQyxjQUFjLENBQUM2SSxhQUFELENBcEJHLEVBb0JjQyxNQUFNLENBQUNuQixTQUFQLEdBQW1Ca0IsYUFBYSxDQUFDbEIsU0FwQi9DLEVBb0IwRG1CLE1BQU0sQ0FBQ1osWUFBUCxHQUFzQlcsYUFBYSxDQUFDWCxZQXBCOUYsRUFvQjRHWSxNQUFNLENBQUNuRixZQUFQLEdBQXNCa0YsYUFBYSxDQUFDbEYsWUFwQmhKLEVBb0I4Sm9GLEtBcEJqTixDQUFQO0FBcUJELENBeEJEOztBQTBCQSxTQUFTRyxhQUFULENBQXVCakksR0FBdkIsRUFBNEI7QUFDMUIsTUFBSWtJLG9CQUFvQixHQUFHLFNBQVNBLG9CQUFULENBQThCeEksS0FBOUIsRUFBcUM7QUFDOUQsV0FBT0EsS0FBSyxDQUFDeUksUUFBTixDQUFlekksS0FBZixDQUFQO0FBQ0QsR0FGRDs7QUFJQSxTQUFPTSxHQUFHLENBQUNrSSxvQkFBRCxDQUFWO0FBQ0Q7O0FBRUQsSUFBSUUsZUFBZSxHQUFHLFNBQVNBLGVBQVQsQ0FBeUJGLG9CQUF6QixFQUErQzVJLFdBQS9DLEVBQTREK0ksY0FBNUQsRUFBNEU7QUFDaEcsTUFBSUEsY0FBYyxLQUFLLEtBQUssQ0FBNUIsRUFBK0I7QUFDN0JBLElBQUFBLGNBQWMsR0FBRyxVQUFqQjtBQUNEOztBQUVELFNBQU8sVUFBVXpKLGFBQVYsRUFBeUI7QUFDOUIsUUFBSTBKLFdBQVcsR0FBR3JLLGNBQWMsQ0FBQ3VCLGFBQWYsQ0FBNkJaLGFBQTdCLENBQWxCO0FBQ0EsUUFBSTJKLGtCQUFrQixHQUFHdEssY0FBYyxDQUFDdUIsYUFBZixDQUE2QjBJLG9CQUE3QixDQUF6Qjs7QUFFQSxRQUFJTSxlQUFlLEdBQUcsU0FBU0EsZUFBVCxDQUF5QjVGLFVBQXpCLEVBQXFDO0FBQ3pELFVBQUk2RixtQkFBSjs7QUFFQSxhQUFPRixrQkFBa0IsRUFBRUUsbUJBQW1CLEdBQUcsRUFBdEIsRUFBMEJBLG1CQUFtQixDQUFDSixjQUFELENBQW5CLEdBQXNDLFlBQVk7QUFDckcsZUFBT0MsV0FBVyxDQUFDcEssUUFBUSxDQUFDLEVBQUQsRUFBSzBFLFVBQUwsRUFBaUJ0RCxXQUFXLENBQUMrQixLQUFaLENBQWtCLEtBQUssQ0FBdkIsRUFBMEJMLFNBQTFCLENBQWpCLENBQVQsQ0FBbEI7QUFDRCxPQUYwQixFQUV4QnlILG1CQUZzQixFQUF6QjtBQUdELEtBTkQ7O0FBUUEsUUFBSTlJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3pDLGFBQU9oQixjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixpQkFBaEIsQ0FBaEIsQ0FBZCxDQUFrRTRKLGVBQWxFLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxlQUFQO0FBQ0QsR0FqQkQ7QUFrQkQsQ0F2QkQ7O0FBeUJBLElBQUlFLFlBQVksR0FBRyxTQUFTQSxZQUFULENBQXNCaEMsU0FBdEIsRUFBaUM7QUFDbEQsU0FBT2hJLFNBQVMsQ0FBQyxXQUFELEVBQWNnSSxTQUFkLENBQWhCO0FBQ0QsQ0FGRDs7QUFJQSxJQUFJaUMsT0FBTyxHQUFHLFNBQVNBLE9BQVQsR0FBbUI7QUFDL0IsT0FBSyxJQUFJNUgsSUFBSSxHQUFHQyxTQUFTLENBQUNWLE1BQXJCLEVBQTZCc0ksS0FBSyxHQUFHLElBQUkxSCxLQUFKLENBQVVILElBQVYsQ0FBckMsRUFBc0RJLElBQUksR0FBRyxDQUFsRSxFQUFxRUEsSUFBSSxHQUFHSixJQUE1RSxFQUFrRkksSUFBSSxFQUF0RixFQUEwRjtBQUN4RnlILElBQUFBLEtBQUssQ0FBQ3pILElBQUQsQ0FBTCxHQUFjSCxTQUFTLENBQUNHLElBQUQsQ0FBdkI7QUFDRDs7QUFFRCxTQUFPeUgsS0FBSyxDQUFDeEYsTUFBTixDQUFhLFVBQVV5RixDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFDbEMsV0FBTyxZQUFZO0FBQ2pCLGFBQU9ELENBQUMsQ0FBQ0MsQ0FBQyxDQUFDekgsS0FBRixDQUFRLEtBQUssQ0FBYixFQUFnQkwsU0FBaEIsQ0FBRCxDQUFSO0FBQ0QsS0FGRDtBQUdELEdBSk0sRUFJSixVQUFVK0gsR0FBVixFQUFlO0FBQ2hCLFdBQU9BLEdBQVA7QUFDRCxHQU5NLENBQVA7QUFPRCxDQVpEOztBQWNBLElBQUlDLFVBQVUsR0FBRyxTQUFTQSxVQUFULENBQW9CNUUsUUFBcEIsRUFBOEI7QUFDN0MsTUFBSTZFLElBQUksR0FFUixVQUFVcEksVUFBVixFQUFzQjtBQUNwQnpDLElBQUFBLGNBQWMsQ0FBQzZLLElBQUQsRUFBT3BJLFVBQVAsQ0FBZDs7QUFFQSxhQUFTb0ksSUFBVCxHQUFnQjtBQUNkLFVBQUluSSxLQUFKOztBQUVBLFdBQUssSUFBSUMsSUFBSSxHQUFHQyxTQUFTLENBQUNWLE1BQXJCLEVBQTZCVyxJQUFJLEdBQUcsSUFBSUMsS0FBSixDQUFVSCxJQUFWLENBQXBDLEVBQXFESSxJQUFJLEdBQUcsQ0FBakUsRUFBb0VBLElBQUksR0FBR0osSUFBM0UsRUFBaUZJLElBQUksRUFBckYsRUFBeUY7QUFDdkZGLFFBQUFBLElBQUksQ0FBQ0UsSUFBRCxDQUFKLEdBQWFILFNBQVMsQ0FBQ0csSUFBRCxDQUF0QjtBQUNEOztBQUVETCxNQUFBQSxLQUFLLEdBQUdELFVBQVUsQ0FBQ08sSUFBWCxDQUFnQkMsS0FBaEIsQ0FBc0JSLFVBQXRCLEVBQWtDLENBQUMsSUFBRCxFQUFPUyxNQUFQLENBQWNMLElBQWQsQ0FBbEMsS0FBMEQsSUFBbEU7QUFDQUgsTUFBQUEsS0FBSyxDQUFDUyxLQUFOLEdBQWMsRUFBZDtBQUNBLGFBQU9ULEtBQVA7QUFDRDs7QUFFRG1JLElBQUFBLElBQUksQ0FBQ3ZILHdCQUFMLEdBQWdDLFNBQVNBLHdCQUFULENBQWtDZixTQUFsQyxFQUE2QztBQUMzRXlELE1BQUFBLFFBQVEsQ0FBQ3pELFNBQUQsQ0FBUjtBQUNBLGFBQU8sSUFBUDtBQUNELEtBSEQ7O0FBS0EsUUFBSWlCLE1BQU0sR0FBR3FILElBQUksQ0FBQ3BILFNBQWxCOztBQUVBRCxJQUFBQSxNQUFNLENBQUNFLE1BQVAsR0FBZ0IsU0FBU0EsTUFBVCxHQUFrQjtBQUNoQyxhQUFPLElBQVA7QUFDRCxLQUZEOztBQUlBLFdBQU9tSCxJQUFQO0FBQ0QsR0EzQkQsQ0EyQkVsTCxLQUFLLENBQUNpQixTQTNCUixDQUZBOztBQStCQVgsRUFBQUEscUJBQXFCLENBQUMwRCxRQUF0QixDQUErQmtILElBQS9CO0FBQ0EsU0FBT0EsSUFBUDtBQUNELENBbENEOztBQW9DQSxJQUFJQyxpQkFBaUIsR0FBRyxTQUFTQSxpQkFBVCxDQUEyQnhGLFFBQTNCLEVBQXFDO0FBQzNELE1BQUkxRSxTQUFTLEdBQUcsU0FBU0EsU0FBVCxDQUFtQlUsS0FBbkIsRUFBMEI7QUFDeEMsV0FBTzNCLEtBQUssQ0FBQ2lLLGFBQU4sQ0FBb0J0SSxLQUFLLENBQUNnRSxRQUFELENBQXpCLEVBQXFDYixJQUFJLENBQUNuRCxLQUFELEVBQVEsQ0FBQ2dFLFFBQUQsQ0FBUixDQUF6QyxDQUFQO0FBQ0QsR0FGRDs7QUFJQTFFLEVBQUFBLFNBQVMsQ0FBQ0YsV0FBVixHQUF3Qix1QkFBdUI0RSxRQUF2QixHQUFrQyxHQUExRDtBQUNBLFNBQU8xRSxTQUFQO0FBQ0QsQ0FQRDs7QUFTQSxJQUFJbUssSUFBSSxHQUFHLFNBQVNBLElBQVQsR0FBZ0I7QUFDekIsT0FBSyxJQUFJcEksSUFBSSxHQUFHQyxTQUFTLENBQUNWLE1BQXJCLEVBQTZCOEksVUFBVSxHQUFHLElBQUlsSSxLQUFKLENBQVVILElBQVYsQ0FBMUMsRUFBMkRJLElBQUksR0FBRyxDQUF2RSxFQUEwRUEsSUFBSSxHQUFHSixJQUFqRixFQUF1RkksSUFBSSxFQUEzRixFQUErRjtBQUM3RmlJLElBQUFBLFVBQVUsQ0FBQ2pJLElBQUQsQ0FBVixHQUFtQkgsU0FBUyxDQUFDRyxJQUFELENBQTVCO0FBQ0Q7O0FBRUQsTUFBSWtJLFNBQVMsR0FBR0QsVUFBVSxDQUFDRSxHQUFYLENBQWV2TCxLQUFLLENBQUN5QixhQUFyQixDQUFoQjs7QUFFQSxNQUFJK0osSUFBSSxHQUFHLFNBQVNBLElBQVQsQ0FBY2pGLElBQWQsRUFBb0I7QUFDN0IsUUFBSTZELFFBQVEsR0FBRzdELElBQUksQ0FBQzZELFFBQXBCO0FBQUEsUUFDSXpJLEtBQUssR0FBR3BCLDZCQUE2QixDQUFDZ0csSUFBRCxFQUFPLENBQUMsVUFBRCxDQUFQLENBRHpDOztBQUdBLFdBQU8rRSxTQUFTLENBQUNHLFdBQVYsQ0FBc0IsVUFBVUMsS0FBVixFQUFpQmxLLE9BQWpCLEVBQTBCO0FBQ3JELGFBQU9BLE9BQU8sQ0FBQ0csS0FBRCxFQUFRK0osS0FBUixDQUFkO0FBQ0QsS0FGTSxFQUVKdEIsUUFGSSxDQUFQO0FBR0QsR0FQRDs7QUFTQSxNQUFJeEksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsUUFBSTZKLFlBQVksR0FBR04sVUFBVSxDQUFDRSxHQUFYLENBQWV2SyxjQUFmLENBQW5CO0FBQ0F3SyxJQUFBQSxJQUFJLENBQUN6SyxXQUFMLEdBQW1CLFVBQVU0SyxZQUFZLENBQUNDLElBQWIsQ0FBa0IsSUFBbEIsQ0FBVixHQUFvQyxHQUF2RDtBQUNEOztBQUVELFNBQU9KLElBQVA7QUFDRCxDQXRCRDs7QUF3QkEsSUFBSUssWUFBWSxHQUFHLFNBQVNBLFlBQVQsQ0FBc0JDLG9CQUF0QixFQUE0Q0MsU0FBNUMsRUFBdUQ7QUFDeEUsU0FBTyxVQUFVbEwsYUFBVixFQUF5QjtBQUM5QixRQUFJbUwsWUFBWSxHQUFHRixvQkFBb0IsQ0FBQ2pMLGFBQUQsQ0FBdkM7QUFDQUwsSUFBQUEsb0JBQW9CLENBQUN3TCxZQUFELEVBQWVuTCxhQUFmLEVBQThCa0wsU0FBOUIsQ0FBcEI7QUFDQSxXQUFPQyxZQUFQO0FBQ0QsR0FKRDtBQUtELENBTkQ7O0FBUUEsSUFBSUMsT0FBTyxHQUFHO0FBQ1pDLEVBQUFBLGdCQUFnQixFQUFFLElBRE47QUFFWkMsRUFBQUEsY0FBYyxFQUFFO0FBRkosQ0FBZDs7QUFLQSxJQUFJQyxtQkFBbUIsR0FBRyxTQUFTQSxtQkFBVCxDQUE2QkMsQ0FBN0IsRUFBZ0M7QUFDeERKLEVBQUFBLE9BQU8sR0FBR0ksQ0FBVjtBQUNELENBRkQ7O0FBSUEsSUFBSUMsTUFBTSxHQUFHO0FBQ1hKLEVBQUFBLGdCQUFnQixFQUFFLFNBQVNBLGdCQUFULENBQTBCSyxVQUExQixFQUFzQztBQUN0RCxXQUFPLE9BQU9OLE9BQU8sQ0FBQ0MsZ0JBQWYsS0FBb0MsVUFBcEMsR0FBaURELE9BQU8sQ0FBQ0MsZ0JBQVIsQ0FBeUJLLFVBQXpCLENBQWpELEdBQXdGQSxVQUEvRjtBQUNELEdBSFU7QUFJWEosRUFBQUEsY0FBYyxFQUFFLFNBQVNBLGNBQVQsQ0FBd0JLLE1BQXhCLEVBQWdDO0FBQzlDLFdBQU8sT0FBT1AsT0FBTyxDQUFDRSxjQUFmLEtBQWtDLFVBQWxDLEdBQStDRixPQUFPLENBQUNFLGNBQVIsQ0FBdUJLLE1BQXZCLENBQS9DLEdBQWdGQSxNQUF2RjtBQUNEO0FBTlUsQ0FBYjs7QUFTQSxJQUFJQyw2QkFBNkIsR0FBRyxTQUFTQSw2QkFBVCxDQUF1Q0MsU0FBdkMsRUFBa0Q7QUFDcEYsU0FBTyxVQUFVQyxXQUFWLEVBQXVCO0FBQzVCLFdBRUUsVUFBVTdKLFVBQVYsRUFBc0I7QUFDcEJ6QyxNQUFBQSxjQUFjLENBQUN1TSxtQkFBRCxFQUFzQjlKLFVBQXRCLENBQWQ7O0FBRUEsZUFBUzhKLG1CQUFULEdBQStCO0FBQzdCLFlBQUlDLHFCQUFKOztBQUVBLFlBQUk5SixLQUFKOztBQUVBLGFBQUssSUFBSUMsSUFBSSxHQUFHQyxTQUFTLENBQUNWLE1BQXJCLEVBQTZCVyxJQUFJLEdBQUcsSUFBSUMsS0FBSixDQUFVSCxJQUFWLENBQXBDLEVBQXFESSxJQUFJLEdBQUcsQ0FBakUsRUFBb0VBLElBQUksR0FBR0osSUFBM0UsRUFBaUZJLElBQUksRUFBckYsRUFBeUY7QUFDdkZGLFVBQUFBLElBQUksQ0FBQ0UsSUFBRCxDQUFKLEdBQWFILFNBQVMsQ0FBQ0csSUFBRCxDQUF0QjtBQUNEOztBQUVETCxRQUFBQSxLQUFLLEdBQUdELFVBQVUsQ0FBQ08sSUFBWCxDQUFnQkMsS0FBaEIsQ0FBc0JSLFVBQXRCLEVBQWtDLENBQUMsSUFBRCxFQUFPUyxNQUFQLENBQWNMLElBQWQsQ0FBbEMsS0FBMEQsSUFBbEU7QUFDQUgsUUFBQUEsS0FBSyxDQUFDUyxLQUFOLEdBQWM7QUFDWnNKLFVBQUFBLElBQUksRUFBRTtBQURNLFNBQWQ7QUFHQS9KLFFBQUFBLEtBQUssQ0FBQ2dLLFlBQU4sR0FBcUJ0TSxhQUFhLENBQUN1TSxtQkFBZCxFQUFyQjtBQUNBakssUUFBQUEsS0FBSyxDQUFDa0ssTUFBTixHQUFlUCxTQUFTLENBQUNSLGdCQUFWLEVBQTRCVyxxQkFBcUIsR0FBRztBQUNqRUssVUFBQUEsU0FBUyxFQUFFLFNBQVNBLFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCO0FBQ3RDLGdCQUFJQyxXQUFXLEdBQUdySyxLQUFLLENBQUNnSyxZQUFOLENBQW1CTSxNQUFuQixDQUEwQixVQUFVMUwsS0FBVixFQUFpQjtBQUMzRCxrQkFBSUEsS0FBSixFQUFXO0FBQ1R3TCxnQkFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWMzTCxLQUFkO0FBQ0QsZUFGRCxNQUVPO0FBQ0x3TCxnQkFBQUEsUUFBUSxDQUFDSSxRQUFUO0FBQ0Q7QUFDRixhQU5pQixDQUFsQjs7QUFRQSxtQkFBTztBQUNMSCxjQUFBQSxXQUFXLEVBQUVBO0FBRFIsYUFBUDtBQUdEO0FBYmdFLFNBQXhCLEVBY3hDUCxxQkFBcUIsQ0FBQ25NLFlBQUQsQ0FBckIsR0FBc0MsWUFBWTtBQUNuRCxpQkFBTyxJQUFQO0FBQ0QsU0FoQjBDLEVBZ0J4Q21NLHFCQWhCWSxFQUFmO0FBaUJBOUosUUFBQUEsS0FBSyxDQUFDeUssS0FBTixHQUFjZCxTQUFTLENBQUNQLGNBQVYsQ0FBeUJRLFdBQVcsQ0FBQzVKLEtBQUssQ0FBQ2tLLE1BQVAsQ0FBcEMsQ0FBZDtBQUNBLGVBQU9sSyxLQUFQO0FBQ0Q7O0FBRUQsVUFBSWMsTUFBTSxHQUFHK0ksbUJBQW1CLENBQUM5SSxTQUFqQzs7QUFFQUQsTUFBQUEsTUFBTSxDQUFDNEosa0JBQVAsR0FBNEIsU0FBU0Esa0JBQVQsR0FBOEI7QUFDeEQsWUFBSUMsTUFBTSxHQUFHLElBQWI7O0FBR0EsYUFBS0MsWUFBTCxHQUFvQixLQUFLSCxLQUFMLENBQVdOLFNBQVgsQ0FBcUI7QUFDdkNJLFVBQUFBLElBQUksRUFBRSxTQUFTQSxJQUFULENBQWNSLElBQWQsRUFBb0I7QUFDeEJZLFlBQUFBLE1BQU0sQ0FBQ3BILFFBQVAsQ0FBZ0I7QUFDZHdHLGNBQUFBLElBQUksRUFBRUE7QUFEUSxhQUFoQjtBQUdEO0FBTHNDLFNBQXJCLENBQXBCO0FBT0EsYUFBS0MsWUFBTCxDQUFrQmEsSUFBbEIsQ0FBdUIsS0FBS2pNLEtBQTVCO0FBQ0QsT0FaRDs7QUFjQWtDLE1BQUFBLE1BQU0sQ0FBQ2dLLHlCQUFQLEdBQW1DLFNBQVNBLHlCQUFULENBQW1DakwsU0FBbkMsRUFBOEM7QUFFL0UsYUFBS21LLFlBQUwsQ0FBa0JhLElBQWxCLENBQXVCaEwsU0FBdkI7QUFDRCxPQUhEOztBQUtBaUIsTUFBQUEsTUFBTSxDQUFDeUUscUJBQVAsR0FBK0IsU0FBU0EscUJBQVQsQ0FBK0IxRixTQUEvQixFQUEwQ2tMLFNBQTFDLEVBQXFEO0FBQ2xGLGVBQU9BLFNBQVMsQ0FBQ2hCLElBQVYsS0FBbUIsS0FBS3RKLEtBQUwsQ0FBV3NKLElBQXJDO0FBQ0QsT0FGRDs7QUFJQWpKLE1BQUFBLE1BQU0sQ0FBQ2tLLG9CQUFQLEdBQThCLFNBQVNBLG9CQUFULEdBQWdDO0FBRTVELGFBQUtoQixZQUFMLENBQWtCYSxJQUFsQjtBQUVBLGFBQUtELFlBQUwsQ0FBa0JQLFdBQWxCO0FBQ0QsT0FMRDs7QUFPQXZKLE1BQUFBLE1BQU0sQ0FBQ0UsTUFBUCxHQUFnQixTQUFTQSxNQUFULEdBQWtCO0FBQ2hDLGVBQU8sS0FBS1AsS0FBTCxDQUFXc0osSUFBbEI7QUFDRCxPQUZEOztBQUlBLGFBQU9GLG1CQUFQO0FBQ0QsS0EzRUQsQ0EyRUU1TSxLQUFLLENBQUNpQixTQTNFUixDQUZGO0FBK0VELEdBaEZEO0FBaUZELENBbEZEOztBQW9GQSxJQUFJK00sbUJBQW1CLEdBQUcsU0FBU0EsbUJBQVQsQ0FBNkJyQixXQUE3QixFQUEwQztBQUNsRSxTQUFPRiw2QkFBNkIsQ0FBQ0gsTUFBRCxDQUE3QixDQUFzQ0ssV0FBdEMsQ0FBUDtBQUNELENBRkQ7O0FBSUEsSUFBSXNCLFVBQVUsR0FBRyxTQUFTekcsUUFBVCxDQUFrQjBHLENBQWxCLEVBQXFCO0FBQ3BDLFNBQU9BLENBQVA7QUFDRCxDQUZEOztBQUlBLElBQUlDLHdCQUF3QixHQUFHLFNBQVNBLHdCQUFULENBQWtDekIsU0FBbEMsRUFBNkM7QUFDMUUsTUFBSTBCLHNCQUFzQixHQUFHM0IsNkJBQTZCLENBQUM7QUFDekRQLElBQUFBLGdCQUFnQixFQUFFK0IsVUFEdUM7QUFFekQ5QixJQUFBQSxjQUFjLEVBQUU4QjtBQUZ5QyxHQUFELENBQTFEO0FBSUEsU0FBTyxVQUFVSSxTQUFWLEVBQXFCO0FBQzFCLFdBQU8sVUFBVXhOLGFBQVYsRUFBeUI7QUFDOUIsVUFBSVcsT0FBTyxHQUFHeEIsS0FBSyxDQUFDeUIsYUFBTixDQUFvQlosYUFBcEIsQ0FBZDtBQUNBLFVBQUlxTCxnQkFBZ0IsR0FBR1EsU0FBUyxDQUFDUixnQkFBakM7QUFBQSxVQUNJQyxjQUFjLEdBQUdPLFNBQVMsQ0FBQ1AsY0FEL0I7QUFFQSxhQUFPaUMsc0JBQXNCLENBQUMsVUFBVW5CLE1BQVYsRUFBa0I7QUFDOUMsWUFBSTFHLElBQUo7O0FBRUEsZUFBT0EsSUFBSSxHQUFHO0FBQ1oyRyxVQUFBQSxTQUFTLEVBQUUsU0FBU0EsU0FBVCxDQUFtQkMsUUFBbkIsRUFBNkI7QUFDdEMsZ0JBQUlRLFlBQVksR0FBR3hCLGNBQWMsQ0FBQ2tDLFNBQVMsQ0FBQ25DLGdCQUFnQixDQUFDZSxNQUFELENBQWpCLENBQVYsQ0FBZCxDQUFvREMsU0FBcEQsQ0FBOEQ7QUFDL0VJLGNBQUFBLElBQUksRUFBRSxTQUFTQSxJQUFULENBQWNnQixVQUFkLEVBQTBCO0FBQzlCLHVCQUFPbkIsUUFBUSxDQUFDRyxJQUFULENBQWM5TCxPQUFPLENBQUM4TSxVQUFELENBQXJCLENBQVA7QUFDRDtBQUg4RSxhQUE5RCxDQUFuQjtBQUtBLG1CQUFPO0FBQ0xsQixjQUFBQSxXQUFXLEVBQUUsU0FBU0EsV0FBVCxHQUF1QjtBQUNsQyx1QkFBT08sWUFBWSxDQUFDUCxXQUFiLEVBQVA7QUFDRDtBQUhJLGFBQVA7QUFLRDtBQVpXLFNBQVAsRUFhSjdHLElBQUksQ0FBQzdGLFlBQUQsQ0FBSixHQUFxQixZQUFZO0FBQ2xDLGlCQUFPLElBQVA7QUFDRCxTQWZNLEVBZUo2RixJQWZIO0FBZ0JELE9BbkI0QixDQUE3QjtBQW9CRCxLQXhCRDtBQXlCRCxHQTFCRDtBQTJCRCxDQWhDRDs7QUFrQ0EsSUFBSWdJLGNBQWMsR0FBRyxTQUFTQSxjQUFULENBQXdCRixTQUF4QixFQUFtQztBQUN0RCxNQUFJcE0sR0FBRyxHQUFHa00sd0JBQXdCLENBQUM3QixNQUFELENBQXhCLENBQWlDK0IsU0FBakMsQ0FBVjs7QUFFQSxNQUFJek0sT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekMsV0FBTyxVQUFVakIsYUFBVixFQUF5QjtBQUM5QixhQUFPQyxjQUFjLENBQUNNLGVBQWUsQ0FBQ1AsYUFBRCxFQUFnQixnQkFBaEIsQ0FBaEIsQ0FBZCxDQUFpRW9CLEdBQUcsQ0FBQ3BCLGFBQUQsQ0FBcEUsQ0FBUDtBQUNELEtBRkQ7QUFHRDs7QUFFRCxTQUFPb0IsR0FBUDtBQUNELENBVkQ7O0FBWUEsSUFBSXVNLDRCQUE0QixHQUFHLFNBQVNBLDRCQUFULENBQXNDOUIsU0FBdEMsRUFBaUQ7QUFDbEYsU0FBTyxZQUFZO0FBQ2pCLFFBQUlHLHFCQUFKOztBQUVBLFFBQUk0QixPQUFPLEdBQUdoTyxhQUFhLENBQUN1TSxtQkFBZCxFQUFkO0FBQ0EsUUFBSVIsTUFBTSxHQUFHRSxTQUFTLENBQUNSLGdCQUFWLEVBQTRCVyxxQkFBcUIsR0FBRztBQUMvREssTUFBQUEsU0FBUyxFQUFFLFNBQVNBLFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCO0FBQ3RDLFlBQUlDLFdBQVcsR0FBR3FCLE9BQU8sQ0FBQ3BCLE1BQVIsQ0FBZSxVQUFVeE4sS0FBVixFQUFpQjtBQUNoRCxpQkFBT3NOLFFBQVEsQ0FBQ0csSUFBVCxDQUFjek4sS0FBZCxDQUFQO0FBQ0QsU0FGaUIsQ0FBbEI7QUFHQSxlQUFPO0FBQ0x1TixVQUFBQSxXQUFXLEVBQUVBO0FBRFIsU0FBUDtBQUdEO0FBUjhELEtBQXhCLEVBU3RDUCxxQkFBcUIsQ0FBQ25NLFlBQUQsQ0FBckIsR0FBc0MsWUFBWTtBQUNuRCxhQUFPLElBQVA7QUFDRCxLQVh3QyxFQVd0Q21NLHFCQVhVLEVBQWI7QUFZQSxXQUFPO0FBQ0xySSxNQUFBQSxPQUFPLEVBQUVpSyxPQUFPLENBQUNiLElBRFo7QUFFTHBCLE1BQUFBLE1BQU0sRUFBRUE7QUFGSCxLQUFQO0FBSUQsR0FwQkQ7QUFxQkQsQ0F0QkQ7O0FBdUJBLElBQUlrQyxrQkFBa0IsR0FBR0YsNEJBQTRCLENBQUNsQyxNQUFELENBQXJEO0FBSUExTSxPQUFPLENBQUMwQixRQUFSLEdBQW1CQSxRQUFuQjtBQUNBMUIsT0FBTyxDQUFDbUMsU0FBUixHQUFvQkEsU0FBcEI7QUFDQW5DLE9BQU8sQ0FBQzZDLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQTdDLE9BQU8sQ0FBQ3VFLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0F2RSxPQUFPLENBQUMrRSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBL0UsT0FBTyxDQUFDb0YsVUFBUixHQUFxQkEsVUFBckI7QUFDQXBGLE9BQU8sQ0FBQzJGLFdBQVIsR0FBc0JBLFdBQXRCO0FBQ0EzRixPQUFPLENBQUM4RixXQUFSLEdBQXNCQSxXQUF0QjtBQUNBOUYsT0FBTyxDQUFDaUcsU0FBUixHQUFvQkEsU0FBcEI7QUFDQWpHLE9BQU8sQ0FBQzRHLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQTVHLE9BQU8sQ0FBQ29ILFdBQVIsR0FBc0JBLFdBQXRCO0FBQ0FwSCxPQUFPLENBQUM2SCxNQUFSLEdBQWlCQSxNQUFqQjtBQUNBN0gsT0FBTyxDQUFDb0ksZUFBUixHQUEwQkEsZUFBMUI7QUFDQXBJLE9BQU8sQ0FBQ3VJLGFBQVIsR0FBd0JBLGFBQXhCO0FBQ0F2SSxPQUFPLENBQUN3SSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBeEksT0FBTyxDQUFDMkksSUFBUixHQUFlQSxJQUFmO0FBQ0EzSSxPQUFPLENBQUM0SSxpQkFBUixHQUE0QkEsaUJBQTVCO0FBQ0E1SSxPQUFPLENBQUM4SSxzQkFBUixHQUFpQ0Esc0JBQWpDO0FBQ0E5SSxPQUFPLENBQUNpSixXQUFSLEdBQXNCQSxXQUF0QjtBQUNBakosT0FBTyxDQUFDcUosVUFBUixHQUFxQkEsVUFBckI7QUFDQXJKLE9BQU8sQ0FBQ3lKLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0F6SixPQUFPLENBQUNnSyxPQUFSLEdBQWtCQSxPQUFsQjtBQUNBaEssT0FBTyxDQUFDc0ssYUFBUixHQUF3QkEsYUFBeEI7QUFDQXRLLE9BQU8sQ0FBQ3lLLGVBQVIsR0FBMEJBLGVBQTFCO0FBQ0F6SyxPQUFPLENBQUNlLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0FmLE9BQU8sQ0FBQytLLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0EvSyxPQUFPLENBQUNrQixjQUFSLEdBQXlCQSxjQUF6QjtBQUNBbEIsT0FBTyxDQUFDZ0wsT0FBUixHQUFrQkEsT0FBbEI7QUFDQWhMLE9BQU8sQ0FBQ29CLGNBQVIsR0FBeUJBLGNBQXpCO0FBQ0FwQixPQUFPLENBQUN3QixlQUFSLEdBQTBCQSxlQUExQjtBQUNBeEIsT0FBTyxDQUFDUSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBUixPQUFPLENBQUM4SixnQkFBUixHQUEyQkEsZ0JBQTNCO0FBQ0E5SixPQUFPLENBQUNxTCxVQUFSLEdBQXFCQSxVQUFyQjtBQUNBckwsT0FBTyxDQUFDdUwsaUJBQVIsR0FBNEJBLGlCQUE1QjtBQUNBdkwsT0FBTyxDQUFDd0wsSUFBUixHQUFlQSxJQUFmO0FBQ0F4TCxPQUFPLENBQUNpTSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBak0sT0FBTyxDQUFDb08sbUJBQVIsR0FBOEJBLG1CQUE5QjtBQUNBcE8sT0FBTyxDQUFDNk0sNkJBQVIsR0FBd0NBLDZCQUF4QztBQUNBN00sT0FBTyxDQUFDMk8sY0FBUixHQUF5QkEsY0FBekI7QUFDQTNPLE9BQU8sQ0FBQ3VPLHdCQUFSLEdBQW1DQSx3QkFBbkM7QUFDQXZPLE9BQU8sQ0FBQzhPLGtCQUFSLEdBQTZCQSxrQkFBN0I7QUFDQTlPLE9BQU8sQ0FBQzRPLDRCQUFSLEdBQXVDQSw0QkFBdkM7QUFDQTVPLE9BQU8sQ0FBQytPLG1CQUFSLEdBQThCdkMsbUJBQTlCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBSZWFjdF9fZGVmYXVsdCA9IF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG52YXIgX2V4dGVuZHMgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJykpO1xudmFyIHNoYWxsb3dFcXVhbCA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKSk7XG52YXIgX2luaGVyaXRzTG9vc2UgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c0xvb3NlJykpO1xudmFyIHJlYWN0TGlmZWN5Y2xlc0NvbXBhdCA9IHJlcXVpcmUoJ3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0Jyk7XG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJykpO1xudmFyIGhvaXN0Tm9uUmVhY3RTdGF0aWNzID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJykpO1xudmFyIGNoYW5nZUVtaXR0ZXIgPSByZXF1aXJlKCdjaGFuZ2UtZW1pdHRlcicpO1xudmFyICQkb2JzZXJ2YWJsZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpKTtcblxudmFyIHNldFN0YXRpYyA9IGZ1bmN0aW9uIHNldFN0YXRpYyhrZXksIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgQmFzZUNvbXBvbmVudFtrZXldID0gdmFsdWU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgcmV0dXJuIEJhc2VDb21wb25lbnQ7XG4gIH07XG59O1xuXG52YXIgc2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiBzZXREaXNwbGF5TmFtZShkaXNwbGF5TmFtZSkge1xuICByZXR1cm4gc2V0U3RhdGljKCdkaXNwbGF5TmFtZScsIGRpc3BsYXlOYW1lKTtcbn07XG5cbnZhciBnZXREaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKENvbXBvbmVudCkge1xuICBpZiAodHlwZW9mIENvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9XG5cbiAgaWYgKCFDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50Jztcbn07XG5cbnZhciB3cmFwRGlzcGxheU5hbWUgPSBmdW5jdGlvbiB3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgaG9jTmFtZSkge1xuICByZXR1cm4gaG9jTmFtZSArIFwiKFwiICsgZ2V0RGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCkgKyBcIilcIjtcbn07XG5cbnZhciBtYXBQcm9wcyA9IGZ1bmN0aW9uIG1hcFByb3BzKHByb3BzTWFwcGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBNYXBQcm9wcyA9IGZ1bmN0aW9uIE1hcFByb3BzKHByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShwcm9wc01hcHBlcihwcm9wcykpO1xuICAgIH07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbWFwUHJvcHMnKSkoTWFwUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBNYXBQcm9wcztcbiAgfTtcbn07XG5cbnZhciB3aXRoUHJvcHMgPSBmdW5jdGlvbiB3aXRoUHJvcHMoaW5wdXQpIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzKGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJyA/IGlucHV0KHByb3BzKSA6IGlucHV0KTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhQcm9wcycpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIHBpY2sgPSBmdW5jdGlvbiBwaWNrKG9iaiwga2V5cykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB3aXRoUHJvcHNPbkNoYW5nZSA9IGZ1bmN0aW9uIHdpdGhQcm9wc09uQ2hhbmdlKHNob3VsZE1hcE9yS2V5cywgcHJvcHNNYXBwZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuICAgIHZhciBzaG91bGRNYXAgPSB0eXBlb2Ygc2hvdWxkTWFwT3JLZXlzID09PSAnZnVuY3Rpb24nID8gc2hvdWxkTWFwT3JLZXlzIDogZnVuY3Rpb24gKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHBpY2socHJvcHMsIHNob3VsZE1hcE9yS2V5cyksIHBpY2sobmV4dFByb3BzLCBzaG91bGRNYXBPcktleXMpKTtcbiAgICB9O1xuXG4gICAgdmFyIFdpdGhQcm9wc09uQ2hhbmdlID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhQcm9wc09uQ2hhbmdlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFByb3BzT25DaGFuZ2UoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgY29tcHV0ZWRQcm9wczogcHJvcHNNYXBwZXIoX3RoaXMucHJvcHMpLFxuICAgICAgICAgIHByZXZQcm9wczogX3RoaXMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBXaXRoUHJvcHNPbkNoYW5nZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHNob3VsZE1hcChwcmV2U3RhdGUucHJldlByb3BzLCBuZXh0UHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbXB1dGVkUHJvcHM6IHByb3BzTWFwcGVyKG5leHRQcm9wcyksXG4gICAgICAgICAgICBwcmV2UHJvcHM6IG5leHRQcm9wc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZXZQcm9wczogbmV4dFByb3BzXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFByb3BzT25DaGFuZ2UucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jb21wdXRlZFByb3BzKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFByb3BzT25DaGFuZ2U7XG4gICAgfShSZWFjdC5Db21wb25lbnQpO1xuXG4gICAgcmVhY3RMaWZlY3ljbGVzQ29tcGF0LnBvbHlmaWxsKFdpdGhQcm9wc09uQ2hhbmdlKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoUHJvcHNPbkNoYW5nZScpKShXaXRoUHJvcHNPbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhQcm9wc09uQ2hhbmdlO1xuICB9O1xufTtcblxudmFyIG1hcFZhbHVlcyA9IGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmosIGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZnVuYyhvYmpba2V5XSwga2V5KTtcbiAgICB9XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB3aXRoSGFuZGxlcnMgPSBmdW5jdGlvbiB3aXRoSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhIYW5kbGVycyA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoSGFuZGxlcnMsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBXaXRoSGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFuZGxlcnMgPSBtYXBWYWx1ZXModHlwZW9mIGhhbmRsZXJzID09PSAnZnVuY3Rpb24nID8gaGFuZGxlcnMoX3RoaXMucHJvcHMpIDogaGFuZGxlcnMsIGZ1bmN0aW9uIChjcmVhdGVIYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gY3JlYXRlSGFuZGxlcihfdGhpcy5wcm9wcyk7XG5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAnd2l0aEhhbmRsZXJzKCk6IEV4cGVjdGVkIGEgbWFwIG9mIGhpZ2hlci1vcmRlciBmdW5jdGlvbnMuICcgKyAnUmVmZXIgdG8gdGhlIGRvY3MgZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBXaXRoSGFuZGxlcnMucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5oYW5kbGVycykpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhIYW5kbGVycztcbiAgICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnd2l0aEhhbmRsZXJzJykpKFdpdGhIYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhIYW5kbGVycztcbiAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0UHJvcHMocHJvcHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIERlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uIERlZmF1bHRQcm9wcyhvd25lclByb3BzKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShvd25lclByb3BzKTtcbiAgICB9O1xuXG4gICAgRGVmYXVsdFByb3BzLmRlZmF1bHRQcm9wcyA9IHByb3BzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2RlZmF1bHRQcm9wcycpKShEZWZhdWx0UHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBEZWZhdWx0UHJvcHM7XG4gIH07XG59O1xuXG52YXIgb21pdCA9IGZ1bmN0aW9uIG9taXQob2JqLCBrZXlzKSB7XG4gIHZhciByZXN0ID0gX2V4dGVuZHMoe30sIG9iaik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAocmVzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBkZWxldGUgcmVzdFtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN0O1xufTtcblxudmFyIHJlbmFtZVByb3AgPSBmdW5jdGlvbiByZW5hbWVQcm9wKG9sZE5hbWUsIG5ld05hbWUpIHtcbiAgdmFyIGhvYyA9IG1hcFByb3BzKGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG9taXQocHJvcHMsIFtvbGROYW1lXSksIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW25ld05hbWVdID0gcHJvcHNbb2xkTmFtZV0sIF9leHRlbmRzMikpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAncmVuYW1lUHJvcCcpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9jO1xufTtcblxudmFyIGtleXMgPSBPYmplY3Qua2V5cztcblxudmFyIG1hcEtleXMgPSBmdW5jdGlvbiBtYXBLZXlzKG9iaiwgZnVuYykge1xuICByZXR1cm4ga2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuICAgIHJlc3VsdFtmdW5jKHZhbCwga2V5KV0gPSB2YWw7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufTtcblxudmFyIHJlbmFtZVByb3BzID0gZnVuY3Rpb24gcmVuYW1lUHJvcHMobmFtZU1hcCkge1xuICB2YXIgaG9jID0gbWFwUHJvcHMoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBvbWl0KHByb3BzLCBrZXlzKG5hbWVNYXApKSwgbWFwS2V5cyhwaWNrKHByb3BzLCBrZXlzKG5hbWVNYXApKSwgZnVuY3Rpb24gKF8sIG9sZE5hbWUpIHtcbiAgICAgIHJldHVybiBuYW1lTWFwW29sZE5hbWVdO1xuICAgIH0pKTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3JlbmFtZVByb3BzJykpKGhvYyhCYXNlQ29tcG9uZW50KSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2M7XG59O1xuXG52YXIgZmxhdHRlblByb3AgPSBmdW5jdGlvbiBmbGF0dGVuUHJvcChwcm9wTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKEJhc2VDb21wb25lbnQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG5cbiAgICB2YXIgRmxhdHRlblByb3AgPSBmdW5jdGlvbiBGbGF0dGVuUHJvcChwcm9wcykge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHByb3BzLCBwcm9wc1twcm9wTmFtZV0pKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2ZsYXR0ZW5Qcm9wJykpKEZsYXR0ZW5Qcm9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRmxhdHRlblByb3A7XG4gIH07XG59O1xuXG52YXIgd2l0aFN0YXRlID0gZnVuY3Rpb24gd2l0aFN0YXRlKHN0YXRlTmFtZSwgc3RhdGVVcGRhdGVyTmFtZSwgaW5pdGlhbFN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoU3RhdGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoV2l0aFN0YXRlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFN0YXRlKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgIHN0YXRlVmFsdWU6IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUoX3RoaXMucHJvcHMpIDogaW5pdGlhbFN0YXRlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMudXBkYXRlU3RhdGVWYWx1ZSA9IGZ1bmN0aW9uICh1cGRhdGVGbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZVZhbHVlID0gX3JlZi5zdGF0ZVZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3RhdGVWYWx1ZTogdHlwZW9mIHVwZGF0ZUZuID09PSAnZnVuY3Rpb24nID8gdXBkYXRlRm4oc3RhdGVWYWx1ZSkgOiB1cGRhdGVGblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aFN0YXRlLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbc3RhdGVOYW1lXSA9IHRoaXMuc3RhdGUuc3RhdGVWYWx1ZSwgX2V4dGVuZHMyW3N0YXRlVXBkYXRlck5hbWVdID0gdGhpcy51cGRhdGVTdGF0ZVZhbHVlLCBfZXh0ZW5kczIpKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFN0YXRlO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoU3RhdGUnKSkoV2l0aFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFN0YXRlO1xuICB9O1xufTtcblxudmFyIHdpdGhTdGF0ZUhhbmRsZXJzID0gZnVuY3Rpb24gd2l0aFN0YXRlSGFuZGxlcnMoaW5pdGlhbFN0YXRlLCBzdGF0ZVVwZGF0ZXJzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBXaXRoU3RhdGVIYW5kbGVycyA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShXaXRoU3RhdGVIYW5kbGVycywgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhTdGF0ZUhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0gdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZShfdGhpcy5wcm9wcykgOiBpbml0aWFsU3RhdGU7XG4gICAgICAgIF90aGlzLnN0YXRlVXBkYXRlcnMgPSBtYXBWYWx1ZXMoc3RhdGVVcGRhdGVycywgZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1heUJlRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhdmluZyB0aGF0IGZ1bmN0aW9uYWwgZm9ybSBvZiBzZXRTdGF0ZSBjYW4gYmUgY2FsbGVkIGFzeW5jXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHBlcnNpc3QgU3ludGhldGljRXZlbnRcbiAgICAgICAgICAgIGlmIChtYXlCZUV2ZW50ICYmIHR5cGVvZiBtYXlCZUV2ZW50LnBlcnNpc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgbWF5QmVFdmVudC5wZXJzaXN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSwgcHJvcHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoc3RhdGUsIHByb3BzKS5hcHBseSh2b2lkIDAsIFttYXlCZUV2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhTdGF0ZUhhbmRsZXJzLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHRoaXMuc3RhdGUsIHRoaXMuc3RhdGVVcGRhdGVycykpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFdpdGhTdGF0ZUhhbmRsZXJzO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICd3aXRoU3RhdGVIYW5kbGVycycpKShXaXRoU3RhdGVIYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhTdGF0ZUhhbmRsZXJzO1xuICB9O1xufTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbnZhciB3aXRoUmVkdWNlciA9IGZ1bmN0aW9uIHdpdGhSZWR1Y2VyKHN0YXRlTmFtZSwgZGlzcGF0Y2hOYW1lLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhSZWR1Y2VyID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhSZWR1Y2VyLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFJlZHVjZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgc3RhdGVWYWx1ZTogX3RoaXMuaW5pdGlhbGl6ZVN0YXRlVmFsdWUoKVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFjdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBub29wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHN0YXRlVmFsdWUgPSBfcmVmLnN0YXRlVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0ZVZhbHVlOiByZWR1Y2VyKHN0YXRlVmFsdWUsIGFjdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKF90aGlzLnN0YXRlLnN0YXRlVmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFdpdGhSZWR1Y2VyLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLmluaXRpYWxpemVTdGF0ZVZhbHVlID0gZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRlVmFsdWUoKSB7XG4gICAgICAgIGlmIChpbml0aWFsU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlKHRoaXMucHJvcHMpIDogaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICAgICAgdHlwZTogJ0BAcmVjb21wb3NlL0lOSVQnXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbc3RhdGVOYW1lXSA9IHRoaXMuc3RhdGUuc3RhdGVWYWx1ZSwgX2V4dGVuZHMyW2Rpc3BhdGNoTmFtZV0gPSB0aGlzLmRpc3BhdGNoLCBfZXh0ZW5kczIpKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gV2l0aFJlZHVjZXI7XG4gICAgfShSZWFjdC5Db21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhSZWR1Y2VyJykpKFdpdGhSZWR1Y2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aFJlZHVjZXI7XG4gIH07XG59O1xuXG52YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eShDb21wb25lbnQpIHtcbiAgcmV0dXJuIENvbXBvbmVudDtcbn07XG5cbnZhciBicmFuY2ggPSBmdW5jdGlvbiBicmFuY2godGVzdCwgbGVmdCwgcmlnaHQpIHtcbiAgaWYgKHJpZ2h0ID09PSB2b2lkIDApIHtcbiAgICByaWdodCA9IGlkZW50aXR5O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGxlZnRGYWN0b3J5O1xuICAgIHZhciByaWdodEZhY3Rvcnk7XG5cbiAgICB2YXIgQnJhbmNoID0gZnVuY3Rpb24gQnJhbmNoKHByb3BzKSB7XG4gICAgICBpZiAodGVzdChwcm9wcykpIHtcbiAgICAgICAgbGVmdEZhY3RvcnkgPSBsZWZ0RmFjdG9yeSB8fCBSZWFjdC5jcmVhdGVGYWN0b3J5KGxlZnQoQmFzZUNvbXBvbmVudCkpO1xuICAgICAgICByZXR1cm4gbGVmdEZhY3RvcnkocHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByaWdodEZhY3RvcnkgPSByaWdodEZhY3RvcnkgfHwgUmVhY3QuY3JlYXRlRmFjdG9yeShyaWdodChCYXNlQ29tcG9uZW50KSk7XG4gICAgICByZXR1cm4gcmlnaHRGYWN0b3J5KHByb3BzKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2JyYW5jaCcpKShCcmFuY2gpO1xuICAgIH1cblxuICAgIHJldHVybiBCcmFuY2g7XG4gIH07XG59O1xuXG52YXIgcmVuZGVyQ29tcG9uZW50ID0gZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KENvbXBvbmVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF8pIHtcbiAgICB2YXIgZmFjdG9yeSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoQ29tcG9uZW50KTtcblxuICAgIHZhciBSZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiBSZW5kZXJDb21wb25lbnQocHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KHByb3BzKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlbmRlckNvbXBvbmVudC5kaXNwbGF5TmFtZSA9IHdyYXBEaXNwbGF5TmFtZShDb21wb25lbnQsICdyZW5kZXJDb21wb25lbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVuZGVyQ29tcG9uZW50O1xuICB9O1xufTtcblxudmFyIE5vdGhpbmcgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTm90aGluZywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTm90aGluZygpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTm90aGluZy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gTm90aGluZztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIHJlbmRlck5vdGhpbmcgPSBmdW5jdGlvbiByZW5kZXJOb3RoaW5nKF8pIHtcbiAgcmV0dXJuIE5vdGhpbmc7XG59O1xuXG52YXIgc2hvdWxkVXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkVXBkYXRlKHRlc3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFNob3VsZFVwZGF0ZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShTaG91bGRVcGRhdGUsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBTaG91bGRVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IFNob3VsZFVwZGF0ZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgIHJldHVybiB0ZXN0KHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSh0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBTaG91bGRVcGRhdGU7XG4gICAgfShSZWFjdC5Db21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3Nob3VsZFVwZGF0ZScpKShTaG91bGRVcGRhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBTaG91bGRVcGRhdGU7XG4gIH07XG59O1xuXG52YXIgcHVyZSA9IGZ1bmN0aW9uIHB1cmUoQmFzZUNvbXBvbmVudCkge1xuICB2YXIgaG9jID0gc2hvdWxkVXBkYXRlKGZ1bmN0aW9uIChwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICFzaGFsbG93RXF1YWwocHJvcHMsIG5leHRQcm9wcyk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAncHVyZScpKShob2MoQmFzZUNvbXBvbmVudCkpO1xuICB9XG5cbiAgcmV0dXJuIGhvYyhCYXNlQ29tcG9uZW50KTtcbn07XG5cbnZhciBvbmx5VXBkYXRlRm9yS2V5cyA9IGZ1bmN0aW9uIG9ubHlVcGRhdGVGb3JLZXlzKHByb3BLZXlzKSB7XG4gIHZhciBob2MgPSBzaG91bGRVcGRhdGUoZnVuY3Rpb24gKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChwaWNrKG5leHRQcm9wcywgcHJvcEtleXMpLCBwaWNrKHByb3BzLCBwcm9wS2V5cykpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnb25seVVwZGF0ZUZvcktleXMnKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBvbmx5VXBkYXRlRm9yUHJvcFR5cGVzID0gZnVuY3Rpb24gb25seVVwZGF0ZUZvclByb3BUeXBlcyhCYXNlQ29tcG9uZW50KSB7XG4gIHZhciBwcm9wVHlwZXMgPSBCYXNlQ29tcG9uZW50LnByb3BUeXBlcztcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghcHJvcFR5cGVzKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc29sZS5lcnJvcignQSBjb21wb25lbnQgd2l0aG91dCBhbnkgYHByb3BUeXBlc2Agd2FzIHBhc3NlZCB0byAnICsgJ2Bvbmx5VXBkYXRlRm9yUHJvcFR5cGVzKClgLiBDaGVjayB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlICcgKyAoXCJjb21wb25lbnQgd2l0aCBkaXNwbGF5IG5hbWUgXFxcIlwiICsgZ2V0RGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCkgKyBcIlxcXCIuXCIpKTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9XG4gIH1cblxuICB2YXIgcHJvcEtleXMgPSBPYmplY3Qua2V5cyhwcm9wVHlwZXMgfHwge30pO1xuICB2YXIgT25seVVwZGF0ZUZvclByb3BUeXBlcyA9IG9ubHlVcGRhdGVGb3JLZXlzKHByb3BLZXlzKShCYXNlQ29tcG9uZW50KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ29ubHlVcGRhdGVGb3JQcm9wVHlwZXMnKSkoT25seVVwZGF0ZUZvclByb3BUeXBlcyk7XG4gIH1cblxuICByZXR1cm4gT25seVVwZGF0ZUZvclByb3BUeXBlcztcbn07XG5cbnZhciB3aXRoQ29udGV4dCA9IGZ1bmN0aW9uIHdpdGhDb250ZXh0KGNoaWxkQ29udGV4dFR5cGVzLCBnZXRDaGlsZENvbnRleHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KEJhc2VDb21wb25lbnQpO1xuXG4gICAgdmFyIFdpdGhDb250ZXh0ID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFdpdGhDb250ZXh0LCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgICAgICBfdGhpcy5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldENoaWxkQ29udGV4dChfdGhpcy5wcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gV2l0aENvbnRleHQucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSh0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBXaXRoQ29udGV4dDtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgICBXaXRoQ29udGV4dC5jaGlsZENvbnRleHRUeXBlcyA9IGNoaWxkQ29udGV4dFR5cGVzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ3dpdGhDb250ZXh0JykpKFdpdGhDb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gV2l0aENvbnRleHQ7XG4gIH07XG59O1xuXG52YXIgZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIGdldENvbnRleHQoY29udGV4dFR5cGVzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIHZhciBHZXRDb250ZXh0ID0gZnVuY3Rpb24gR2V0Q29udGV4dChvd25lclByb3BzLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgb3duZXJQcm9wcywgY29udGV4dCkpO1xuICAgIH07XG5cbiAgICBHZXRDb250ZXh0LmNvbnRleHRUeXBlcyA9IGNvbnRleHRUeXBlcztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gc2V0RGlzcGxheU5hbWUod3JhcERpc3BsYXlOYW1lKEJhc2VDb21wb25lbnQsICdnZXRDb250ZXh0JykpKEdldENvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBHZXRDb250ZXh0O1xuICB9O1xufTtcblxudmFyIGxpZmVjeWNsZSA9IGZ1bmN0aW9uIGxpZmVjeWNsZShzcGVjKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3QuY3JlYXRlRmFjdG9yeShCYXNlQ29tcG9uZW50KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHNwZWMuaGFzT3duUHJvcGVydHkoJ3JlbmRlcicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdsaWZlY3ljbGUoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZW5kZXIgbWV0aG9kOyBpdHMgYmVoYXZpb3IgaXMgdG8gJyArICdwYXNzIGFsbCBwcm9wcyBhbmQgc3RhdGUgdG8gdGhlIGJhc2UgY29tcG9uZW50LicpO1xuICAgIH1cblxuICAgIHZhciBMaWZlY3ljbGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoTGlmZWN5Y2xlLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gTGlmZWN5Y2xlKCkge1xuICAgICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBMaWZlY3ljbGUucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIExpZmVjeWNsZTtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgICBPYmplY3Qua2V5cyhzcGVjKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG4gICAgICByZXR1cm4gTGlmZWN5Y2xlLnByb3RvdHlwZVtob29rXSA9IHNwZWNbaG9va107XG4gICAgfSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbGlmZWN5Y2xlJykpKExpZmVjeWNsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExpZmVjeWNsZTtcbiAgfTtcbn07XG5cbnZhciBpc0NsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudChDb21wb25lbnQpIHtcbiAgcmV0dXJuIEJvb2xlYW4oQ29tcG9uZW50ICYmIENvbXBvbmVudC5wcm90b3R5cGUgJiYgdHlwZW9mIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID09PSAnZnVuY3Rpb24nKTtcbn07XG5cbnZhciB0b0NsYXNzID0gZnVuY3Rpb24gdG9DbGFzcyhiYXNlQ29tcG9uZW50KSB7XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIHJldHVybiBpc0NsYXNzQ29tcG9uZW50KGJhc2VDb21wb25lbnQpID8gYmFzZUNvbXBvbmVudCA6IChfdGVtcCA9IF9jbGFzcyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUb0NsYXNzLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRvQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRvQ2xhc3MucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgYmFzZUNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYmFzZUNvbXBvbmVudCwgdGhpcy5wcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYXNlQ29tcG9uZW50KHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUb0NsYXNzO1xuICB9KFJlYWN0LkNvbXBvbmVudCksIF9jbGFzcy5kaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKGJhc2VDb21wb25lbnQpLCBfY2xhc3MucHJvcFR5cGVzID0gYmFzZUNvbXBvbmVudC5wcm9wVHlwZXMsIF9jbGFzcy5jb250ZXh0VHlwZXMgPSBiYXNlQ29tcG9uZW50LmNvbnRleHRUeXBlcywgX2NsYXNzLmRlZmF1bHRQcm9wcyA9IGJhc2VDb21wb25lbnQuZGVmYXVsdFByb3BzLCBfdGVtcCk7XG59O1xuXG5mdW5jdGlvbiB0b1JlbmRlclByb3BzKGhvYykge1xuICB2YXIgUmVuZGVyUHJvcHNDb21wb25lbnQgPSBmdW5jdGlvbiBSZW5kZXJQcm9wc0NvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbihwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIGhvYyhSZW5kZXJQcm9wc0NvbXBvbmVudCk7XG59XG5cbnZhciBmcm9tUmVuZGVyUHJvcHMgPSBmdW5jdGlvbiBmcm9tUmVuZGVyUHJvcHMoUmVuZGVyUHJvcHNDb21wb25lbnQsIHByb3BzTWFwcGVyLCByZW5kZXJQcm9wTmFtZSkge1xuICBpZiAocmVuZGVyUHJvcE5hbWUgPT09IHZvaWQgMCkge1xuICAgIHJlbmRlclByb3BOYW1lID0gJ2NoaWxkcmVuJztcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgIHZhciBiYXNlRmFjdG9yeSA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG4gICAgdmFyIHJlbmRlclByb3BzRmFjdG9yeSA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUZhY3RvcnkoUmVuZGVyUHJvcHNDb21wb25lbnQpO1xuXG4gICAgdmFyIEZyb21SZW5kZXJQcm9wcyA9IGZ1bmN0aW9uIEZyb21SZW5kZXJQcm9wcyhvd25lclByb3BzKSB7XG4gICAgICB2YXIgX3JlbmRlclByb3BzRmFjdG9yeTtcblxuICAgICAgcmV0dXJuIHJlbmRlclByb3BzRmFjdG9yeSgoX3JlbmRlclByb3BzRmFjdG9yeSA9IHt9LCBfcmVuZGVyUHJvcHNGYWN0b3J5W3JlbmRlclByb3BOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VGYWN0b3J5KF9leHRlbmRzKHt9LCBvd25lclByb3BzLCBwcm9wc01hcHBlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpKTtcbiAgICAgIH0sIF9yZW5kZXJQcm9wc0ZhY3RvcnkpKTtcbiAgICB9O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBzZXREaXNwbGF5TmFtZSh3cmFwRGlzcGxheU5hbWUoQmFzZUNvbXBvbmVudCwgJ2Zyb21SZW5kZXJQcm9wcycpKShGcm9tUmVuZGVyUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBGcm9tUmVuZGVyUHJvcHM7XG4gIH07XG59O1xuXG52YXIgc2V0UHJvcFR5cGVzID0gZnVuY3Rpb24gc2V0UHJvcFR5cGVzKHByb3BUeXBlcykge1xuICByZXR1cm4gc2V0U3RhdGljKCdwcm9wVHlwZXMnLCBwcm9wVHlwZXMpO1xufTtcblxudmFyIGNvbXBvc2UgPSBmdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3MucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhKGIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfSk7XG59O1xuXG52YXIgY3JlYXRlU2luayA9IGZ1bmN0aW9uIGNyZWF0ZVNpbmsoY2FsbGJhY2spIHtcbiAgdmFyIFNpbmsgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU2luaywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTaW5rKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2luay5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBjYWxsYmFjayhuZXh0UHJvcHMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBfcHJvdG8gPSBTaW5rLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNpbms7XG4gIH0oUmVhY3QuQ29tcG9uZW50KTtcblxuICByZWFjdExpZmVjeWNsZXNDb21wYXQucG9seWZpbGwoU2luayk7XG4gIHJldHVybiBTaW5rO1xufTtcblxudmFyIGNvbXBvbmVudEZyb21Qcm9wID0gZnVuY3Rpb24gY29tcG9uZW50RnJvbVByb3AocHJvcE5hbWUpIHtcbiAgdmFyIENvbXBvbmVudCA9IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHByb3BzW3Byb3BOYW1lXSwgb21pdChwcm9wcywgW3Byb3BOYW1lXSkpO1xuICB9O1xuXG4gIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IFwiY29tcG9uZW50RnJvbVByb3AoXCIgKyBwcm9wTmFtZSArIFwiKVwiO1xuICByZXR1cm4gQ29tcG9uZW50O1xufTtcblxudmFyIG5lc3QgPSBmdW5jdGlvbiBuZXN0KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgQ29tcG9uZW50cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBDb21wb25lbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGZhY3RvcmllcyA9IENvbXBvbmVudHMubWFwKFJlYWN0LmNyZWF0ZUZhY3RvcnkpO1xuXG4gIHZhciBOZXN0ID0gZnVuY3Rpb24gTmVzdChfcmVmKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjaGlsZHJlblwiXSk7XG5cbiAgICByZXR1cm4gZmFjdG9yaWVzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjaGlsZCwgZmFjdG9yeSkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkocHJvcHMsIGNoaWxkKTtcbiAgICB9LCBjaGlsZHJlbik7XG4gIH07XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZGlzcGxheU5hbWVzID0gQ29tcG9uZW50cy5tYXAoZ2V0RGlzcGxheU5hbWUpO1xuICAgIE5lc3QuZGlzcGxheU5hbWUgPSBcIm5lc3QoXCIgKyBkaXNwbGF5TmFtZXMuam9pbignLCAnKSArIFwiKVwiO1xuICB9XG5cbiAgcmV0dXJuIE5lc3Q7XG59O1xuXG52YXIgaG9pc3RTdGF0aWNzID0gZnVuY3Rpb24gaG9pc3RTdGF0aWNzKGhpZ2hlck9yZGVyQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgdmFyIE5ld0NvbXBvbmVudCA9IGhpZ2hlck9yZGVyQ29tcG9uZW50KEJhc2VDb21wb25lbnQpO1xuICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKE5ld0NvbXBvbmVudCwgQmFzZUNvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICByZXR1cm4gTmV3Q29tcG9uZW50O1xuICB9O1xufTtcblxudmFyIF9jb25maWcgPSB7XG4gIGZyb21FU09ic2VydmFibGU6IG51bGwsXG4gIHRvRVNPYnNlcnZhYmxlOiBudWxsXG59O1xuXG52YXIgY29uZmlndXJlT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZU9ic2VydmFibGUoYykge1xuICBfY29uZmlnID0gYztcbn07XG5cbnZhciBjb25maWcgPSB7XG4gIGZyb21FU09ic2VydmFibGU6IGZ1bmN0aW9uIGZyb21FU09ic2VydmFibGUob2JzZXJ2YWJsZSkge1xuICAgIHJldHVybiB0eXBlb2YgX2NvbmZpZy5mcm9tRVNPYnNlcnZhYmxlID09PSAnZnVuY3Rpb24nID8gX2NvbmZpZy5mcm9tRVNPYnNlcnZhYmxlKG9ic2VydmFibGUpIDogb2JzZXJ2YWJsZTtcbiAgfSxcbiAgdG9FU09ic2VydmFibGU6IGZ1bmN0aW9uIHRvRVNPYnNlcnZhYmxlKHN0cmVhbSkge1xuICAgIHJldHVybiB0eXBlb2YgX2NvbmZpZy50b0VTT2JzZXJ2YWJsZSA9PT0gJ2Z1bmN0aW9uJyA/IF9jb25maWcudG9FU09ic2VydmFibGUoc3RyZWFtKSA6IHN0cmVhbTtcbiAgfVxufTtcblxudmFyIGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnID0gZnVuY3Rpb24gY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcoY29uZmlnJCQxKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHNUb1Zkb20pIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzTG9vc2UoQ29tcG9uZW50RnJvbVN0cmVhbSwgX0NvbXBvbmVudCk7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29tcG9uZW50RnJvbVN0cmVhbSgpIHtcbiAgICAgICAgICB2YXIgX2NvbmZpZyRmcm9tRVNPYnNlcnZhO1xuXG4gICAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2ZG9tOiBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBfdGhpcy5wcm9wc0VtaXR0ZXIgPSBjaGFuZ2VFbWl0dGVyLmNyZWF0ZUNoYW5nZUVtaXR0ZXIoKTtcbiAgICAgICAgICBfdGhpcy5wcm9wcyQgPSBjb25maWckJDEuZnJvbUVTT2JzZXJ2YWJsZSgoX2NvbmZpZyRmcm9tRVNPYnNlcnZhID0ge1xuICAgICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gX3RoaXMucHJvcHNFbWl0dGVyLmxpc3RlbihmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQocHJvcHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmFbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0sIF9jb25maWckZnJvbUVTT2JzZXJ2YSkpO1xuICAgICAgICAgIF90aGlzLnZkb20kID0gY29uZmlnJCQxLnRvRVNPYnNlcnZhYmxlKHByb3BzVG9WZG9tKF90aGlzLnByb3BzJCkpO1xuICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfcHJvdG8gPSBDb21wb25lbnRGcm9tU3RyZWFtLnByb3RvdHlwZTtcblxuICAgICAgICBfcHJvdG8uY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIGNoaWxkIHByb3AgY2hhbmdlcyBzbyB3ZSBrbm93IHdoZW4gdG8gcmUtcmVuZGVyXG4gICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSB0aGlzLnZkb20kLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KHZkb20pIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB2ZG9tOiB2ZG9tXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMucHJvcHNFbWl0dGVyLmVtaXQodGhpcy5wcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgIC8vIFJlY2VpdmUgbmV3IHByb3BzIGZyb20gdGhlIG93bmVyXG4gICAgICAgICAgdGhpcy5wcm9wc0VtaXR0ZXIuZW1pdChuZXh0UHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9wcm90by5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlLnZkb20gIT09IHRoaXMuc3RhdGUudmRvbTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAvLyBDYWxsIHdpdGhvdXQgYXJndW1lbnRzIHRvIGNvbXBsZXRlIHN0cmVhbVxuICAgICAgICAgIHRoaXMucHJvcHNFbWl0dGVyLmVtaXQoKTsgLy8gQ2xlYW4tdXAgc3Vic2NyaXB0aW9uIGJlZm9yZSB1bi1tb3VudGluZ1xuXG4gICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnZkb207XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIENvbXBvbmVudEZyb21TdHJlYW07XG4gICAgICB9KFJlYWN0LkNvbXBvbmVudClcbiAgICApO1xuICB9O1xufTtcblxudmFyIGNvbXBvbmVudEZyb21TdHJlYW0gPSBmdW5jdGlvbiBjb21wb25lbnRGcm9tU3RyZWFtKHByb3BzVG9WZG9tKSB7XG4gIHJldHVybiBjb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyhjb25maWcpKHByb3BzVG9WZG9tKTtcbn07XG5cbnZhciBpZGVudGl0eSQxID0gZnVuY3Rpb24gaWRlbnRpdHkodCkge1xuICByZXR1cm4gdDtcbn07XG5cbnZhciBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcgPSBmdW5jdGlvbiBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWcoY29uZmlnJCQxKSB7XG4gIHZhciBjb21wb25lbnRGcm9tU3RyZWFtJCQxID0gY29tcG9uZW50RnJvbVN0cmVhbVdpdGhDb25maWcoe1xuICAgIGZyb21FU09ic2VydmFibGU6IGlkZW50aXR5JDEsXG4gICAgdG9FU09ic2VydmFibGU6IGlkZW50aXR5JDFcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlQ29tcG9uZW50KSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoQmFzZUNvbXBvbmVudCk7XG4gICAgICB2YXIgZnJvbUVTT2JzZXJ2YWJsZSA9IGNvbmZpZyQkMS5mcm9tRVNPYnNlcnZhYmxlLFxuICAgICAgICAgIHRvRVNPYnNlcnZhYmxlID0gY29uZmlnJCQxLnRvRVNPYnNlcnZhYmxlO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudEZyb21TdHJlYW0kJDEoZnVuY3Rpb24gKHByb3BzJCkge1xuICAgICAgICB2YXIgX3JlZjtcblxuICAgICAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRvRVNPYnNlcnZhYmxlKHRyYW5zZm9ybShmcm9tRVNPYnNlcnZhYmxlKHByb3BzJCkpKS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGNoaWxkUHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dChmYWN0b3J5KGNoaWxkUHJvcHMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LCBfcmVmO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBtYXBQcm9wc1N0cmVhbSA9IGZ1bmN0aW9uIG1hcFByb3BzU3RyZWFtKHRyYW5zZm9ybSkge1xuICB2YXIgaG9jID0gbWFwUHJvcHNTdHJlYW1XaXRoQ29uZmlnKGNvbmZpZykodHJhbnNmb3JtKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHNldERpc3BsYXlOYW1lKHdyYXBEaXNwbGF5TmFtZShCYXNlQ29tcG9uZW50LCAnbWFwUHJvcHNTdHJlYW0nKSkoaG9jKEJhc2VDb21wb25lbnQpKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGhvYztcbn07XG5cbnZhciBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnID0gZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZyhjb25maWckJDEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbmZpZyRmcm9tRVNPYnNlcnZhO1xuXG4gICAgdmFyIGVtaXR0ZXIgPSBjaGFuZ2VFbWl0dGVyLmNyZWF0ZUNoYW5nZUVtaXR0ZXIoKTtcbiAgICB2YXIgc3RyZWFtID0gY29uZmlnJCQxLmZyb21FU09ic2VydmFibGUoKF9jb25maWckZnJvbUVTT2JzZXJ2YSA9IHtcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IGVtaXR0ZXIubGlzdGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX2NvbmZpZyRmcm9tRVNPYnNlcnZhWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfY29uZmlnJGZyb21FU09ic2VydmEpKTtcbiAgICByZXR1cm4ge1xuICAgICAgaGFuZGxlcjogZW1pdHRlci5lbWl0LFxuICAgICAgc3RyZWFtOiBzdHJlYW1cbiAgICB9O1xuICB9O1xufTtcbnZhciBjcmVhdGVFdmVudEhhbmRsZXIgPSBjcmVhdGVFdmVudEhhbmRsZXJXaXRoQ29uZmlnKGNvbmZpZyk7XG5cbi8vIEhpZ2hlci1vcmRlciBjb21wb25lbnQgaGVscGVyc1xuXG5leHBvcnRzLm1hcFByb3BzID0gbWFwUHJvcHM7XG5leHBvcnRzLndpdGhQcm9wcyA9IHdpdGhQcm9wcztcbmV4cG9ydHMud2l0aFByb3BzT25DaGFuZ2UgPSB3aXRoUHJvcHNPbkNoYW5nZTtcbmV4cG9ydHMud2l0aEhhbmRsZXJzID0gd2l0aEhhbmRsZXJzO1xuZXhwb3J0cy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5leHBvcnRzLnJlbmFtZVByb3AgPSByZW5hbWVQcm9wO1xuZXhwb3J0cy5yZW5hbWVQcm9wcyA9IHJlbmFtZVByb3BzO1xuZXhwb3J0cy5mbGF0dGVuUHJvcCA9IGZsYXR0ZW5Qcm9wO1xuZXhwb3J0cy53aXRoU3RhdGUgPSB3aXRoU3RhdGU7XG5leHBvcnRzLndpdGhTdGF0ZUhhbmRsZXJzID0gd2l0aFN0YXRlSGFuZGxlcnM7XG5leHBvcnRzLndpdGhSZWR1Y2VyID0gd2l0aFJlZHVjZXI7XG5leHBvcnRzLmJyYW5jaCA9IGJyYW5jaDtcbmV4cG9ydHMucmVuZGVyQ29tcG9uZW50ID0gcmVuZGVyQ29tcG9uZW50O1xuZXhwb3J0cy5yZW5kZXJOb3RoaW5nID0gcmVuZGVyTm90aGluZztcbmV4cG9ydHMuc2hvdWxkVXBkYXRlID0gc2hvdWxkVXBkYXRlO1xuZXhwb3J0cy5wdXJlID0gcHVyZTtcbmV4cG9ydHMub25seVVwZGF0ZUZvcktleXMgPSBvbmx5VXBkYXRlRm9yS2V5cztcbmV4cG9ydHMub25seVVwZGF0ZUZvclByb3BUeXBlcyA9IG9ubHlVcGRhdGVGb3JQcm9wVHlwZXM7XG5leHBvcnRzLndpdGhDb250ZXh0ID0gd2l0aENvbnRleHQ7XG5leHBvcnRzLmdldENvbnRleHQgPSBnZXRDb250ZXh0O1xuZXhwb3J0cy5saWZlY3ljbGUgPSBsaWZlY3ljbGU7XG5leHBvcnRzLnRvQ2xhc3MgPSB0b0NsYXNzO1xuZXhwb3J0cy50b1JlbmRlclByb3BzID0gdG9SZW5kZXJQcm9wcztcbmV4cG9ydHMuZnJvbVJlbmRlclByb3BzID0gZnJvbVJlbmRlclByb3BzO1xuZXhwb3J0cy5zZXRTdGF0aWMgPSBzZXRTdGF0aWM7XG5leHBvcnRzLnNldFByb3BUeXBlcyA9IHNldFByb3BUeXBlcztcbmV4cG9ydHMuc2V0RGlzcGxheU5hbWUgPSBzZXREaXNwbGF5TmFtZTtcbmV4cG9ydHMuY29tcG9zZSA9IGNvbXBvc2U7XG5leHBvcnRzLmdldERpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWU7XG5leHBvcnRzLndyYXBEaXNwbGF5TmFtZSA9IHdyYXBEaXNwbGF5TmFtZTtcbmV4cG9ydHMuc2hhbGxvd0VxdWFsID0gc2hhbGxvd0VxdWFsO1xuZXhwb3J0cy5pc0NsYXNzQ29tcG9uZW50ID0gaXNDbGFzc0NvbXBvbmVudDtcbmV4cG9ydHMuY3JlYXRlU2luayA9IGNyZWF0ZVNpbms7XG5leHBvcnRzLmNvbXBvbmVudEZyb21Qcm9wID0gY29tcG9uZW50RnJvbVByb3A7XG5leHBvcnRzLm5lc3QgPSBuZXN0O1xuZXhwb3J0cy5ob2lzdFN0YXRpY3MgPSBob2lzdFN0YXRpY3M7XG5leHBvcnRzLmNvbXBvbmVudEZyb21TdHJlYW0gPSBjb21wb25lbnRGcm9tU3RyZWFtO1xuZXhwb3J0cy5jb21wb25lbnRGcm9tU3RyZWFtV2l0aENvbmZpZyA9IGNvbXBvbmVudEZyb21TdHJlYW1XaXRoQ29uZmlnO1xuZXhwb3J0cy5tYXBQcm9wc1N0cmVhbSA9IG1hcFByb3BzU3RyZWFtO1xuZXhwb3J0cy5tYXBQcm9wc1N0cmVhbVdpdGhDb25maWcgPSBtYXBQcm9wc1N0cmVhbVdpdGhDb25maWc7XG5leHBvcnRzLmNyZWF0ZUV2ZW50SGFuZGxlciA9IGNyZWF0ZUV2ZW50SGFuZGxlcjtcbmV4cG9ydHMuY3JlYXRlRXZlbnRIYW5kbGVyV2l0aENvbmZpZyA9IGNyZWF0ZUV2ZW50SGFuZGxlcldpdGhDb25maWc7XG5leHBvcnRzLnNldE9ic2VydmFibGVDb25maWcgPSBjb25maWd1cmVPYnNlcnZhYmxlO1xuIl19